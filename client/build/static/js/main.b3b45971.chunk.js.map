{"version":3,"sources":["api/axiosClient.js","api/userApi.js","components/Layout/Footer/index.jsx","api/bookingApi.js","components/utils/Loader.jsx","components/utils/MetaData.jsx","components/Admin/BookingDetail.jsx","redux/contants/index.js","redux/actions/userAction.js","components/Admin/GetAllUser.jsx","components/Admin/GetAllBooking.jsx","api/roomApi.js","components/Admin/GetAllRoom.jsx","components/Admin/index.jsx","components/Admin/RoomDetail.jsx","components/utils/Notification/index.jsx","components/Auth/ActivationEmail.jsx","components/Auth/EditProfile.jsx","components/utils/Validation/index.jsx","components/Auth/ForgotPassword.jsx","redux/actions/authAction.js","components/Auth/Login.jsx","api/uploadApi.js","components/Auth/Profile.jsx","components/Auth/Register.jsx","components/Auth/ResetPassword.jsx","components/Layout/Banner/index.jsx","components/Home/Room/index.jsx","components/Home/Room/FilterSearch.jsx","components/Home/Room/FilterType.jsx","components/Home/index.jsx","components/Home/BookingRoom/index.jsx","redux/actions/bookingAction.js","components/MyBooking/index.jsx","components/utils/NotFound/index.jsx","Routes/index.js","components/Layout/Header/index.jsx","App.js","redux/reducers/authReducer.js","redux/reducers/tokenReducer.js","redux/reducers/userReducer.js","redux/reducers/bookingReducer.js","redux/reducers/index.js","redux/store.js","index.js"],"names":["axiosClient","axios","create","baseURL","process","REACT_APP_API_URL","headers","paramsSerializer","prams","queryString","stringify","interceptors","request","use","a","config","res","err","userApi","register","data","post","activeEmail","getAccessToken","login","logout","get","forgotPassword","resetPassword","token","getUsersAllInfor","getUsersInfor","updateUser","put","updateUsersRole","id","url","deleteUser","delete","loginGoogle","tokenId","loginFacebook","accessToken","userID","Footer","className","bookingApi","override","css","Loader","useState","loading","color","size","MetaData","title","Helmet","BookingDetail","match","formater","Intl","NumberFormat","style","currency","setLoading","booking","setBooking","useSelector","state","bookingId","params","getBooking","useCallback","Authorization","useEffect","response","window","scrollTo","console","log","room","roomId","userId","startDate","endDate","totalDays","format","totalAmount","transactionId","status","LOGIN","GET_TOKEN","GET_USER_REQUEST","GET_USER_SUCCESS","GET_ALL_USERS_SUCCESS","GET_BOOKING_USER_SUCCESS","fetchAllUsers","GetAllUser","auth","user","isAdmin","users","dispatch","useDispatch","then","type","payload","dispatchGetAllUsers","handleDelete","_id","Swal","fire","location","href","map","name","email","role","to","onClick","GetAllBooking","bookings","setBookings","handleDeleteBooking","roomApi","GetAllRoom","rooms","setRooms","price","currentBookings","length","TabPane","Tabs","Admin","defaultActiveKey","tab","RoomDetail","setRoom","imageUrls","img","src","alt","description","showErrMsg","msg","Alert","variant","showSuccessMsg","ActivationEmail","activation_token","useParams","setErr","success","setSuccess","message","activationEmail","EditProfile","props","history","useHistory","editUser","setEditUser","checkAdmin","setCheckAdmin","num","setNum","forEach","push","handleUpdate","htmlFor","defaultValue","disabled","checked","onChange","isEmpty","value","isEmail","test","isLength","password","isMatch","cf_password","ForgotPassword","setData","e","target","placeholder","dispatchLogin","fetchUser","Login","setUser","handleChangeInput","handleSubmit","preventDefault","localStorage","setItem","JSON","setTimeout","responseGoogle","error","responseFacebook","onSubmit","clientId","buttonText","onSuccess","cookiePolicy","appId","autoLoad","fields","callback","uploadApi","Profile","isLoading","avatar","setAvatar","handleChange","changeAvatar","file","files","formData","FormData","append","updateInfor","updatePassword","Register","ResetPassword","handleResetPass","Banner","Room","show","setShow","alert","setAlert","Modal","onHide","Header","closeButton","Body","Carousel","Item","FilterSearch","searchRoom","setSearchRoom","typingTimeoutRef","useRef","current","clearTimeout","formValues","FilterType","filterType","setFilterType","handleFilterType","filterRoom","RangePicker","DatePicker","Home","duplicateRoom","setDuplicateRoom","search","filters","setFilters","setStartDate","setEndDate","paramsString","disabledDate","valueOf","moment","endOf","dates","tempRooms","newFilter","height","offset","debounce","once","BookingRoom","setError","disable","setDisable","duration","diff","asDays","handleBooking","bookingDetail","Number","data-aos","fetchBookingUser","MyBooking","dispatchGetBookingUser","handleCancelBooking","bookedId","NotFound","Routes","isLogged","path","component","exact","onscroll","document","body","scrollTop","documentElement","querySelector","classList","add","remove","handleLogout","removeItem","Navbar","expand","Brand","Toggle","aria-controls","Collapse","App","getItem","access_token","getToken","dispatchGetUser","parse","initialState","authReducer","action","tokenReducer","usersReducer","combineReducers","store","createStore","rootReducer","__REDUX_DEVTOOLS_EXTENSION__","DataProvider","children","AOS","init","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b3b45971.chunk.js","sourcesContent":["import axios from 'axios'\r\nimport queryString from 'query-string'\r\n\r\nconst axiosClient = axios.create({\r\n    baseURL: process.env.REACT_APP_API_URL,\r\n    headers: {\r\n        'content-type' : 'application/json'\r\n    },\r\n    paramsSerializer: prams => queryString.stringify(prams),\r\n})\r\n\r\n\r\naxiosClient.interceptors.request.use(async(config) =>{\r\n    return config\r\n})\r\naxiosClient.interceptors.request.use(async(res) =>{\r\n    // if(res && res.data){\r\n    //     return res.data\r\n    // }\r\n    return res\r\n},(err)=>{\r\n    throw err\r\n})\r\n\r\nexport default axiosClient","import axiosClient from './axiosClient';\r\n\r\nconst userApi = {\r\n  register(data) {\r\n    const url = '/api/auth/register';\r\n    return axiosClient.post(url, data);\r\n  },\r\n  activeEmail(data) {\r\n    const url = '/api/auth/activation';\r\n    return axiosClient.post(url, data);\r\n  },\r\n  getAccessToken() {\r\n    const url = '/api/auth/refresh_token';\r\n    return axiosClient.post(url);\r\n  },\r\n  login(data) {\r\n    const url = '/api/auth/login';\r\n    return axiosClient.post(url, data);\r\n  },\r\n  logout() {\r\n    const url = '/api/auth/logout';\r\n    return axiosClient.get(url);\r\n  },\r\n  forgotPassword(data) {\r\n    const url = '/api/auth/forgot-password';\r\n    return axiosClient.post(url, data);\r\n  },\r\n  resetPassword(data, token) {\r\n    const url = '/api/auth/reset-password';\r\n    return axiosClient.post(url, data, token);\r\n  },\r\n  getUsersAllInfor(data) {\r\n    const url = '/api/auth/all_infor';\r\n    return axiosClient.get(url, data);\r\n  },\r\n  getUsersInfor(data) {\r\n    const url = '/api/auth/infor';\r\n    return axiosClient.get(url, data);\r\n  },\r\n  updateUser(data, token) {\r\n    const url = '/api/auth/update';\r\n    return axiosClient.put(url, data, token);\r\n  },\r\n  updateUsersRole(id, data, token) {\r\n    const url = `/api/auth/update_role/${id}`;\r\n    return axiosClient.put(url, data, token);\r\n  },\r\n  deleteUser(id, token) {\r\n    const url = `/api/auth/delete/${id}`;\r\n    return axiosClient.delete(url, token);\r\n  },\r\n  // Socail\r\n  loginGoogle(tokenId) {\r\n    const url = '/api/auth/google_login';\r\n    return axiosClient.post(url, tokenId);\r\n  },\r\n  loginFacebook(accessToken, userID) {\r\n    const url = '/api/auth/facebook_login';\r\n    return axiosClient.post(url, accessToken, userID);\r\n  },\r\n};\r\n\r\nexport default userApi;\r\n","import React, { Fragment } from 'react';\r\nimport './Footer.css'\r\n\r\nconst Footer = () => {\r\n    return (\r\n        <Fragment>\r\n            <footer className=\"py-2\">\r\n                <p className=\"text-center mt-1\">\r\n                    Booking App &copy; 2021 by Nguyen Tinh\r\n               </p>\r\n            </footer>\r\n        </Fragment>\r\n    );\r\n}\r\n\r\nexport default Footer;","import axiosClient from './axiosClient';\r\n\r\nexport const bookingApi = {\r\n  createBookingRoom(data, token) {\r\n    const url = '/api/booking';\r\n    return axiosClient.post(url, data, token);\r\n  },\r\n  getAllBooking(token) {\r\n    const url = '/api/bookings';\r\n    return axiosClient.get(url, token);\r\n  },\r\n  getBookingById(id, token) {\r\n    const url = `/api/booking/${id}`;\r\n    return axiosClient.get(url, token);\r\n  },\r\n  getBookingByUserId(token) {\r\n    const url = '/api/bookingbyid';\r\n    return axiosClient.get(url, token);\r\n  },\r\n  cancelBooking(data, token) {\r\n    const url = '/api/cancelbooking';\r\n    return axiosClient.post(url, data, token);\r\n  },\r\n  deleteBooking(id,data ,token) {\r\n    const url = `/api/booking/${id}`;\r\n    return axiosClient.delete(url,data ,token);\r\n  },\r\n\r\n};\r\n","import { useState } from 'react';\r\nimport { css } from '@emotion/react';\r\nimport FadeLoader from 'react-spinners/FadeLoader';\r\n\r\n// Can be a string as well. Need to ensure each key-value pair ends with ;\r\nconst override = css`\r\n  display: block;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  margin-top: 20%;\r\n  padding-left: 0;\r\n`;\r\n\r\nconst Loader = () => {\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  return (\r\n    <div className=\"sweet-loading text-center\">\r\n      <FadeLoader color=\"#333\" loading={loading} css={override} size={40} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loader;\r\n","import React from 'react';\r\nimport { Helmet } from 'react-helmet';\r\n\r\nconst MetaData = ({title}) => {\r\n    return (\r\n        <div>\r\n            <Helmet>\r\n                <title> {`${title}`} </title>\r\n            </Helmet>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MetaData;","import { bookingApi } from 'api/bookingApi';\r\nimport Loader from 'components/utils/Loader';\r\nimport MetaData from 'components/utils/MetaData';\r\nimport React, { Fragment, useCallback, useEffect, useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst BookingDetail = ({ match }) => {\r\n  const formater = new Intl.NumberFormat('vi-VN', {\r\n    style: 'currency',\r\n    currency: 'VND',\r\n  });\r\n  const [loading, setLoading] = useState(true);\r\n  const [booking, setBooking] = useState([]);\r\n  const token = useSelector((state) => state.token);\r\n\r\n  const bookingId = match.params.id;\r\n\r\n  const getBooking = useCallback(async () => {\r\n    return await bookingApi.getBookingById(`${bookingId}`, {\r\n      headers: { Authorization: token },\r\n    });\r\n  }, [token, bookingId]);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const response = await getBooking();\r\n        setBooking(response.data);\r\n        setLoading(false);\r\n        window.scrollTo(0, 0);\r\n      } catch (error) {\r\n        setLoading(false);\r\n        console.log(error);\r\n      }\r\n    })();\r\n  }, [getBooking]);\r\n\r\n  return (\r\n    <Fragment>\r\n      <MetaData title=\"Chi tiết đặt phòng\" />\r\n      {loading ? (\r\n        <Loader />\r\n      ) : (\r\n        <Fragment>\r\n          <h1 className=\"text-center mt-3 title\">Chi tiết đặt phòng</h1>\r\n          <div className=\"container\">\r\n            <div className=\"bs\">\r\n              <h5>{booking.room}</h5>\r\n              <p>\r\n                <b>RoomId: {booking.roomId} </b>\r\n              </p>\r\n              <p>\r\n                <b>UserId: {booking.userId} </b>\r\n              </p>\r\n              <p>\r\n                <b>\r\n                  CheckIn: {booking.startDate} - CheckOut: {booking.endDate}\r\n                </b>\r\n              </p>\r\n              <p>\r\n                <b>Tổng ngày: {booking.totalDays}/ngày </b>\r\n              </p>\r\n              <p>\r\n                <b>Tổng tiền: {formater.format(booking.totalAmount)} </b>\r\n              </p>\r\n              <p>\r\n                <b>TransactionId: {booking.transactionId} </b>\r\n              </p>\r\n              <p>\r\n                <b>\r\n                  Status:\r\n                  {booking.status === 'booked' ? (\r\n                    <span className=\"badge bg-success\">Hoàn thành</span>\r\n                  ) : (\r\n                    <span className=\"badge bg-danger\">Hủy phòng</span>\r\n                  )}\r\n                </b>\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </Fragment>\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default BookingDetail;\r\n","export const LOGIN = 'LOGIN'\r\nexport const GET_TOKEN = 'GET_TOKEN'\r\nexport const GET_USER_REQUEST = 'GET_USER_REQUEST'\r\nexport const GET_USER_SUCCESS = 'GET_USER_SUCCESS'\r\nexport const GET_ALL_USERS_SUCCESS = 'GET_ALL_USERS_SUCCESS'\r\nexport const GET_BOOKING_USER_SUCCESS = 'GET_BOOKING_USER_SUCCESS'\r\nexport const GET_BOOKING_USER_FAIL = 'GET_BOOKING_USER_FAIL'\r\n","import userApi from 'api/userApi';\r\nimport { GET_ALL_USERS_SUCCESS } from 'redux/contants';\r\n\r\nexport const fetchAllUsers = async (token) => {\r\n  const res = await userApi.getUsersAllInfor({\r\n    headers: { Authorization: token },\r\n  });\r\n  return res;\r\n};\r\n\r\nexport const dispatchGetAllUsers = (res) => {\r\n  return {\r\n    type: GET_ALL_USERS_SUCCESS,\r\n    payload: res.data,\r\n  };\r\n};\r\n","import userApi from 'api/userApi';\r\nimport Loader from 'components/utils/Loader';\r\nimport React, { Fragment, useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { dispatchGetAllUsers, fetchAllUsers } from 'redux/actions/userAction';\r\nimport Swal from 'sweetalert2';\r\nimport './Admin.css';\r\n\r\nconst GetAllUser = () => {\r\n  const { user, isAdmin } = useSelector((state) => state.auth);\r\n  const token = useSelector((state) => state.token);\r\n  const users = useSelector((state) => state.users);\r\n  const [loading, setLoading] = useState(true);\r\n  const dispatch = useDispatch();\r\n\r\n  console.log(users);\r\n\r\n  useEffect(() => {\r\n    if (isAdmin) {\r\n      fetchAllUsers(token).then((res) => {\r\n        dispatch(dispatchGetAllUsers(res));\r\n      });\r\n      setLoading(false);\r\n    }\r\n  }, [token, isAdmin, dispatch]);\r\n\r\n  const handleDelete = async (id) => {\r\n    try {\r\n      // không đc phép xóa admin\r\n      console.log(user._id)\r\n      if (user._id !== id) {\r\n        // const response = await userApi.deleteUser(`${id}`, {\r\n        //   headers: { Authorization: token },\r\n        // });\r\n        Swal.fire('', 'Xóa người dùng thành công', 'success').then(() => {\r\n          window.location.href = '/admin';\r\n        });\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n      // err.response.data.message && Swal.fire('Oops', `${err.response.data.message}`, 'error');\r\n    }\r\n  };\r\n  return (\r\n    <Fragment>\r\n      {loading ? (\r\n        <Loader />\r\n      ) : (\r\n        <div className=\"container\">\r\n          <table className=\"customers\">\r\n            <thead>\r\n              <tr>\r\n                <th>ID</th>\r\n                <th>Nickname</th>\r\n                <th>Email</th>\r\n                <th>Admin</th>\r\n                <th>Hành động</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {users?.map((user) => (\r\n                <tr key={user._id}>\r\n                  <td>{user._id}</td>\r\n                  <td>{user.name}</td>\r\n                  <td>{user.email}</td>\r\n                  <td>\r\n                    {user.role === 1 ? (\r\n                      <i className=\"fas fa-check\" title=\"Admin\"></i>\r\n                    ) : (\r\n                      <i className=\"fas fa-times\" title=\"User\"></i>\r\n                    )}\r\n                  </td>\r\n                  <td>\r\n                    <Link to={`/edit_user/${user._id}`}>\r\n                      <i className=\"fas fa-edit\" title=\"Edit\"></i>\r\n                    </Link>\r\n                    <i\r\n                      className=\"fas fa-trash-alt\"\r\n                      title=\"Remove\"\r\n                      onClick={() => handleDelete(user._id)}\r\n                    ></i>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default GetAllUser;\r\n","import { bookingApi } from 'api/bookingApi';\r\nimport Loader from 'components/utils/Loader';\r\nimport React, { Fragment, useEffect, useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport Swal from 'sweetalert2';\r\nimport './Admin.css';\r\n\r\nconst GetAllBooking = () => {\r\n  const token = useSelector((state) => state.token);\r\n  const [bookings, setBookings] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const response = await bookingApi.getAllBooking({\r\n          headers: { Authorization: token },\r\n        });\r\n        console.log(response.data);\r\n        setBookings(response.data);\r\n        setLoading(false);\r\n      } catch (error) {\r\n        console.log(error);\r\n        setLoading(false);\r\n      }\r\n    })();\r\n  }, [token]);\r\n\r\n  const handleDeleteBooking = async (bookingId, roomId) => {\r\n    try {\r\n      console.log(bookingId, roomId);\r\n      await bookingApi.deleteBooking(`${bookingId}`, {\r\n        headers: { Authorization: token },\r\n      });\r\n\r\n      Swal.fire('', 'Xóa đặt phòng thành công', 'success').then(() => {\r\n        window.location.href = '/admin';\r\n      });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      {loading ? (\r\n        <Loader />\r\n      ) : (\r\n        <div className=\"container\">\r\n          <table className=\"customers\">\r\n            <thead>\r\n              <tr>\r\n                <th>ID</th>\r\n                <th>Phòng</th>\r\n                <th>Ngày</th>\r\n                <th>Trạng thái</th>\r\n                <th>Tổng tiền</th>\r\n                <th>Hành động</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {bookings?.map((booking) => (\r\n                <tr key={booking._id}>\r\n                  <td>{booking._id}</td>\r\n                  <td>{booking.room}</td>\r\n                  <td>\r\n                    {booking.startDate} to {booking.endDate}\r\n                  </td>\r\n                  <td>{booking.status}</td>\r\n                  <td>{booking.totalAmount}</td>\r\n                  <td className=\"text-center\">\r\n                    <Link to={`admin/booking-detail/${booking._id}`}>\r\n                      <i className=\"fas fa-eye\"></i>\r\n                    </Link>\r\n                    {booking.status === 'cancelled' && (\r\n                      <i\r\n                        className=\"fas fa-trash-alt\"\r\n                        title=\"Remove\"\r\n                        onClick={() => {\r\n                          handleDeleteBooking(booking._id, token);\r\n                        }}\r\n                      ></i>\r\n                    )}\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default GetAllBooking;\r\n","import axiosClient from './axiosClient';\r\n\r\nexport const roomApi = {\r\n  getAllRooms(params) {\r\n    const url = `/api/rooms/${params}`;\r\n    return axiosClient.get(url);\r\n  },\r\n  getRoomById(id) {\r\n    const url = `/api/room/${id}`;\r\n    return axiosClient.get(url);\r\n  },\r\n};\r\n","import { roomApi } from 'api/roomApi';\r\nimport Loader from 'components/utils/Loader';\r\nimport React, { Fragment, useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './Admin.css';\r\n\r\nconst GetAllRoom = () => {\r\n  const formater = new Intl.NumberFormat('vi-VN', {\r\n    style: 'currency',\r\n    currency: 'VND',\r\n  });\r\n  const [rooms, setRooms] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const response = await roomApi.getAllRooms();\r\n        console.log(response.data);\r\n        setRooms(response.data);\r\n        setLoading(false);\r\n      } catch (error) {\r\n        console.log(error);\r\n        setLoading(false);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  return (\r\n    <Fragment>\r\n      {loading ? (\r\n        <Loader />\r\n      ) : (\r\n        <div className=\"container\">\r\n          <table className=\"customers\">\r\n            <thead>\r\n              <tr>\r\n                <th>ID</th>\r\n                <th>Tên phòng</th>\r\n                <th>Giá </th>\r\n                <th>SL đặt phòng</th>\r\n                <th>Loại phòng</th>\r\n                <th>Hành động</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {rooms?.map((room) => (\r\n                <tr key={room._id}>\r\n                  <td>{room._id}</td>\r\n                  <td>{room.name}</td>\r\n                  <td>{formater.format(room.price)}</td>\r\n                  <td>{room.currentBookings.length}</td>\r\n                  <td>{room.type}</td>\r\n                  <td className=\"text-center\">\r\n                    <Link to={`admin/room-detail/${room._id}`}>\r\n                      <i className=\"fas fa-eye\"></i>\r\n                    </Link>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default GetAllRoom;\r\n","import React, { Fragment } from 'react';\r\nimport { Tabs } from 'antd';\r\nimport GetAllUser from './GetAllUser';\r\nimport GetAllBooking from './GetAllBooking';\r\nimport MetaData from 'components/utils/MetaData';\r\nimport GetAllRoom from './GetAllRoom';\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nconst Admin = () => {\r\n  return (\r\n     <Fragment>\r\n       <MetaData title=\"Admin\"/>\r\n       <div className=\"mt-3\">\r\n        <Tabs defaultActiveKey=\"1\">\r\n          <TabPane tab=\"Bookings\" key=\"1\">\r\n            <GetAllBooking/>\r\n          </TabPane>\r\n          <TabPane tab=\"Người dùng\" key=\"2\">\r\n            <GetAllUser />\r\n          </TabPane>\r\n          <TabPane tab=\"Phòng\" key=\"3\">\r\n            <GetAllRoom />\r\n          </TabPane>\r\n        </Tabs>\r\n      </div>\r\n     </Fragment>\r\n  );\r\n};\r\n\r\nexport default Admin;\r\n","import { roomApi } from 'api/roomApi';\r\nimport Loader from 'components/utils/Loader';\r\nimport MetaData from 'components/utils/MetaData';\r\nimport React, { Fragment, useEffect, useState } from 'react';\r\n\r\nconst RoomDetail = ({ match }) => {\r\n  const formater = new Intl.NumberFormat('vi-VN', {\r\n    style: 'currency',\r\n    currency: 'VND',\r\n  });\r\n  const [loading, setLoading] = useState(true);\r\n  const [room, setRoom] = useState([]);\r\n\r\n  const roomId = match.params.id;\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const response = await roomApi.getRoomById(`${roomId}`);\r\n        setRoom(response.data);\r\n        setLoading(false);\r\n      } catch (error) {\r\n        setLoading(false);\r\n        console.log(error);\r\n      }\r\n    })();\r\n  }, [roomId]);\r\n\r\n  return (\r\n    <Fragment>\r\n      <MetaData title=\"Chi tiết phòng\" />\r\n      {loading ? (\r\n        <Loader />\r\n      ) : (\r\n        <Fragment>\r\n          <h1 className=\"text-center mt-3 title\">Chi tiết phòng</h1>\r\n          <div className=\"container\">\r\n            <div className=\"bs\">\r\n              <h5>{room.name}</h5>\r\n              <p>\r\n                <b>RoomId: {room._id} </b>\r\n              </p>\r\n              <p>\r\n                <b>Giá: {formater.format(room.price)} </b>\r\n              </p>\r\n              <p>\r\n                <b>Loại phòng: {room.type} </b>\r\n              </p>\r\n              <p>\r\n                <b>Số lượng đặt phòng hiện tại: {room.currentBookings.length} đặt </b>\r\n              </p>\r\n              <div className=\"row\">\r\n                <b className=\"mb-3\">Ảnh phòng</b>\r\n                {room.imageUrls?.map((img) => (\r\n                  <div key={img} className=\"col-md-4\">\r\n                    <img className=\"w-100\" src={img} alt={img} />\r\n                  </div>\r\n                ))}\r\n              </div>\r\n              <p className=\"mt-3\">\r\n                <b>Mô tả: {room.description} </b>\r\n              </p>\r\n            </div>\r\n            <div>\r\n              {room.currentBookings.length === 0 ? ('') : (\r\n                <Fragment>\r\n                  <h3 className=\"text-center title m-3\">Đặt phòng hiện tại</h3>\r\n                  <div className=\"bs\">\r\n                    {room.currentBookings?.map((booking) => (\r\n                      <Fragment>\r\n                        <p>\r\n                          <b>RoomId: {booking.bookingId} </b>\r\n                        </p>\r\n                        <p>\r\n                          <b>UserId: {booking.userId} </b>\r\n                        </p>\r\n                        <p>\r\n                          <b>\r\n                            CheckIn: {booking.startDate} - CheckOut: {booking.endDate}\r\n                          </b>\r\n                        </p>\r\n                        <p>\r\n                          <b>Trạng thái: {booking.status} </b>\r\n                        </p>\r\n                        <hr />\r\n                      </Fragment>\r\n                    ))}\r\n                  </div>\r\n                </Fragment>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </Fragment>\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default RoomDetail;\r\n","import React from 'react'\r\nimport { Alert } from 'react-bootstrap'\r\n\r\nexport const showErrMsg = (msg) => {\r\n    return  <Alert variant=\"danger\">{msg}</Alert>\r\n}\r\n\r\nexport const showSuccessMsg = (msg) => {\r\n    return  <Alert variant=\"success\">{msg}</Alert>\r\n}","import userApi from 'api/userApi'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\nimport { showErrMsg, showSuccessMsg } from '../utils/Notification'\r\n\r\nfunction ActivationEmail() {\r\n    const {activation_token} = useParams()\r\n    const [err, setErr] = useState('')\r\n    const [success, setSuccess] = useState('')\r\n\r\n    useEffect(() => {\r\n        if(activation_token){\r\n            const activationEmail = async () => {\r\n                try {\r\n                    const res = await userApi.activeEmail( {activation_token})\r\n                    setSuccess(res.data.message)\r\n                } catch (err) {\r\n                    err.response.data.message && setErr(err.response.data.message)\r\n                }\r\n            }\r\n            activationEmail()\r\n        }\r\n    },[activation_token])\r\n\r\n    console.log(activation_token);\r\n\r\n    return (\r\n        <div className=\"active_page\">\r\n            {err && showErrMsg(err)}\r\n            {success && showSuccessMsg(success)}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ActivationEmail","import userApi from 'api/userApi';\r\nimport MetaData from 'components/utils/MetaData';\r\nimport React, { Fragment, useEffect, useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport Swal from 'sweetalert2';\r\n\r\n\r\nfunction EditProfile(props) {\r\n  const { id } = useParams();\r\n  const history = useHistory();\r\n  const [editUser, setEditUser] = useState([]);\r\n\r\n  const users = useSelector((state) => state.users);\r\n  const token = useSelector((state) => state.token);\r\n\r\n  const [checkAdmin, setCheckAdmin] = useState(false);\r\n  const [num, setNum] = useState(0);\r\n\r\n  useEffect(() => {\r\n    if (users.length !== 0) {\r\n      users.forEach((user) => {\r\n        if (user._id === id) {\r\n          setEditUser(user);\r\n          setCheckAdmin(user.role === 1 ? true : false);\r\n        }\r\n      });\r\n    } else {\r\n      history.push('/profile');\r\n    }\r\n  }, [users, id, history]);\r\n\r\n  const handleUpdate = async () => {\r\n    try {\r\n      if (num % 2 !== 0) {\r\n        const response = await userApi.updateUsersRole(\r\n          `${editUser._id}`,\r\n          {\r\n            role: checkAdmin ? 1 : 0,\r\n          },\r\n          {\r\n            headers: { Authorization: token },\r\n          }\r\n        );\r\n\r\n        Swal.fire('', `${response.data.message}`, 'success').then(() => {\r\n          window.location.href = '/profile';\r\n        });\r\n        setNum(0);\r\n      }\r\n    } catch (err) {\r\n      err.response.data.message && Swal.fire('Oops', `${err.response.data.message}`, 'error');\r\n    }\r\n  };\r\n\r\n  const handleCheck = () => {\r\n    setCheckAdmin(!checkAdmin);\r\n    setNum(num + 1);\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <MetaData title=\"Cập nhật thông tin người dùng\"/>\r\n      <div className=\"profile_page edit_user\">\r\n      <div className=\"m-auto\">\r\n        <h2>Cập nhật thông tin người dùng</h2>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"name\">Tên</label>\r\n          <input type=\"text\" name=\"name\" defaultValue={editUser.name} disabled />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"email\">Email</label>\r\n          <input type=\"email\" name=\"email\" defaultValue={editUser.email} disabled />\r\n        </div>\r\n\r\n        <div className=\"form-group d-flex\">\r\n          <label htmlFor=\"isAdmin\">isAdmin</label>\r\n          <input type=\"checkbox\" id=\"isAdmin\" checked={checkAdmin} onChange={handleCheck} />\r\n        </div>\r\n        <div className=\"d-flex justify-content-center m-3\">\r\n          <button onClick={handleUpdate}>Cập nhật</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n \r\n    </Fragment>\r\n    );\r\n}\r\n\r\nexport default EditProfile;\r\n","export const isEmpty = value => {\r\n    if(!value) return true\r\n    return false\r\n}\r\n\r\nexport const isEmail = email => {\r\n    // eslint-disable-next-line\r\n    const re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    return re.test(email);\r\n}\r\n\r\nexport const isLength = password => {\r\n    if(password.length < 6) return true\r\n    return false\r\n}\r\n\r\nexport const isMatch = (password, cf_password) => {\r\n    if(password === cf_password) return true\r\n    return false\r\n}","import userApi from 'api/userApi';\r\nimport Loader from 'components/utils/Loader';\r\nimport MetaData from 'components/utils/MetaData';\r\nimport React, { Fragment, useState } from 'react';\r\nimport { showErrMsg, showSuccessMsg } from '../utils/Notification';\r\nimport { isEmail } from '../utils/Validation';\r\n\r\nfunction ForgotPassword() {\r\n  const [data, setData] = useState({\r\n    email: '',\r\n    err: '',\r\n    success: '',\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const { email, err, success } = data;\r\n\r\n  const handleChangeInput = (e) => {\r\n    const { name, value } = e.target;\r\n    setData({ ...data, [name]: value, err: '', success: '' });\r\n  };\r\n\r\n  const forgotPassword = async () => {\r\n    if (!isEmail(email)) return setData({ ...data, err: 'Xin mời nhập email.', success: '' });\r\n\r\n    try {\r\n      setLoading(true);\r\n      const res = await userApi.forgotPassword({ email });\r\n      setData({ ...data, err: '', success: res.data.message });\r\n      setLoading(false);\r\n    } catch (err) {\r\n      err.response.data.message &&\r\n        setData({ ...data, err: err.response.data.message, success: '' });\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <MetaData title=\"Quên mật khẩu\" />\r\n      {loading ? (\r\n        <Loader />\r\n      ) : (\r\n        <div className=\"fg_pass\">\r\n          <h2 className=\"title\">Quên mật khẩu?</h2>\r\n\r\n          <div className=\"row\">\r\n            {err && showErrMsg(err)}\r\n            {success && showSuccessMsg(success)}\r\n\r\n            <label htmlFor=\"email\">\r\n              Nhập email của bạn\r\n            </label>\r\n            <input\r\n              type=\"email\"\r\n              name=\"email\"\r\n              id=\"email\"\r\n              value={email}\r\n              onChange={handleChangeInput}\r\n              placeholder=\"vd: example@gmail.com\"\r\n            />\r\n            <button onClick={forgotPassword}>Xác nhận địa chỉ email</button>\r\n          </div>\r\n        </div>\r\n       )} \r\n    </Fragment>\r\n  );\r\n}\r\n\r\nexport default ForgotPassword;\r\n","import userApi from \"api/userApi\";\r\nimport { GET_USER_SUCCESS, LOGIN } from \"redux/contants\";\r\n\r\nexport const dispatchLogin = () => {\r\n  return {\r\n    type: LOGIN,\r\n  };\r\n};\r\n\r\nexport const fetchUser = async (token) => {\r\n  \r\n  const res = await userApi.getUsersInfor({\r\n    headers: { Authorization: token },\r\n  });\r\n  return res;\r\n};\r\n\r\nexport const dispatchGetUser = (res) => {\r\n  return {\r\n    type: GET_USER_SUCCESS,\r\n    payload: {\r\n      user: res.data,\r\n      isAdmin: res.data.user.role === 1 ? true : false,\r\n    },\r\n  };\r\n};\r\n\r\n\r\n","import userApi from 'api/userApi';\r\nimport Loader from 'components/utils/Loader';\r\nimport MetaData from 'components/utils/MetaData';\r\nimport React, { Fragment, useState } from 'react';\r\nimport FacebookLogin from 'react-facebook-login';\r\nimport { GoogleLogin } from 'react-google-login';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { dispatchLogin } from 'redux/actions/authAction';\r\nimport { showErrMsg, showSuccessMsg } from '../utils/Notification';\r\n\r\nconst Login = () => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [user, setUser] = useState({\r\n    email: '',\r\n    password: '',\r\n    err: '',\r\n    success: '',\r\n  });\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const { email, password, err, success } = user;\r\n\r\n  const handleChangeInput = (e) => {\r\n    const { name, value } = e.target;\r\n    setUser({ ...user, [name]: value, err: '', success: '' });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      setLoading(true);\r\n      // gọi api đăng nhập\r\n      const res = await userApi.login({ email, password });\r\n      setUser({ ...user, err: '', success: res.message });\r\n      console.log(res);\r\n      setLoading(false);\r\n\r\n      // lưu đăng nhập ở local\r\n      localStorage.setItem('userData', JSON.stringify(res.data.user));\r\n\r\n      dispatch(dispatchLogin());\r\n      history.push('/');\r\n    } catch (err) {\r\n      err.response.data.message &&\r\n        setUser({ ...user, err: err.response.data.message, success: '' });\r\n      setTimeout(() => setUser({ ...user, err: null, success: '' }), 2000);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const responseGoogle = async (response) => {\r\n    try {\r\n      // gọi api đăng nhập google\r\n      const res = await userApi.loginGoogle({\r\n        tokenId: response.tokenId,\r\n      });\r\n\r\n      setUser({ ...user, error: '', success: res.data.user });\r\n      localStorage.setItem('userData', JSON.stringify(res.data.user));\r\n\r\n      dispatch(dispatchLogin());\r\n      history.push('/');\r\n    } catch (err) {\r\n      err.response.data.message &&\r\n        setUser({ ...user, err: err.response.data.message, success: '' });\r\n    }\r\n  };\r\n\r\n  const responseFacebook = async (response) => {\r\n    try {\r\n      const { accessToken, userID } = response;\r\n      // gọi api đăng nhập facebook\r\n      const res = await userApi.loginFacebook({\r\n        accessToken,\r\n        userID,\r\n      });\r\n\r\n      setUser({ ...user, error: '', success: res.data.message });\r\n      localStorage.setItem('userData', JSON.stringify(res.data));\r\n\r\n      dispatch(dispatchLogin());\r\n      history.push('/');\r\n    } catch (err) {\r\n      err.response.data.message &&\r\n        setUser({ ...user, err: err.response.data.message, success: '' });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <MetaData title={'Đăng nhập'} />\r\n      {loading ? (\r\n        <Loader />\r\n      ) : (\r\n        <div className=\"login_page\">\r\n          <h2 className=\"text-center\">Đăng nhập</h2>\r\n          {err && showErrMsg(err)}\r\n          {success && showSuccessMsg(success)}\r\n\r\n          <form onSubmit={handleSubmit}>\r\n            <div>\r\n              <label htmlFor=\"email\">Email</label>\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"vd: example@gmail.com\"\r\n                id=\"email\"\r\n                value={email}\r\n                name=\"email\"\r\n                onChange={handleChangeInput}\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label htmlFor=\"password\">Mật khẩu</label>\r\n              <input\r\n                type=\"password\"\r\n                placeholder=\"*********\"\r\n                id=\"password\"\r\n                value={password}\r\n                name=\"password\"\r\n                onChange={handleChangeInput}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"row\">\r\n              <button type=\"submit\">\r\n                <b>Đăng nhập</b>\r\n              </button>\r\n              <Link to=\"/forgot_password\" className=\"d-flex justify-content-end\">\r\n                Quên mật khẩu?\r\n              </Link>\r\n            </div>\r\n          </form>\r\n\r\n          <div className=\"hr text-center\">Hoặc đăng nhập với</div>\r\n\r\n          <div className=\"social\">\r\n            <GoogleLogin\r\n              clientId=\"55687161092-slgs7a90j0guvn4f5vi1p6s6sf8vv9m5.apps.googleusercontent.com\"\r\n              buttonText=\"Đăng nhập Google\"\r\n              onSuccess={responseGoogle}\r\n              cookiePolicy={'single_host_origin'}\r\n            />\r\n\r\n            <FacebookLogin\r\n              appId=\"160074812626146\"\r\n              autoLoad={false}\r\n              fields=\"name,email,picture\"\r\n              callback={responseFacebook}\r\n            />\r\n          </div>\r\n\r\n          <p className=\"text-center\">\r\n            Chưa có tài khoản. <Link to=\"/register\">Đăng ký tại đây</Link>\r\n          </p>\r\n        </div>\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import axiosClient from \"./axiosClient\"\r\n\r\nexport const uploadApi = {\r\n    uploadAvatar(data,token){\r\n        const url ='/api/upload_avatar'\r\n        return axiosClient.post(url, data,token)\r\n    },\r\n}","import { uploadApi } from 'api/uploadApi';\r\nimport userApi from 'api/userApi';\r\nimport Loader from 'components/utils/Loader';\r\nimport MetaData from 'components/utils/MetaData';\r\nimport React, { Fragment, useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport Swal from 'sweetalert2';\r\nimport { showErrMsg, showSuccessMsg } from '../utils/Notification';\r\nimport { isLength, isMatch } from '../utils/Validation';\r\n\r\nconst Profile = () => {\r\n  const { user, isAdmin, isLoading } = useSelector((state) => state.auth);\r\n  const token = useSelector((state) => state.token);\r\n\r\n  const [data, setData] = useState({\r\n    name: '',\r\n    password: '',\r\n    cf_password: '',\r\n    err: '',\r\n    success: '',\r\n  });\r\n  const { name, password, cf_password, err, success } = data;\r\n\r\n  const [avatar, setAvatar] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setData({ ...data, [name]: value, err: '', success: '' });\r\n  };\r\n\r\n  const changeAvatar = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const file = e.target.files[0];\r\n\r\n      if (!file) {\r\n        setTimeout(() => setData({ ...data, err: null, success: null }), 1500);\r\n        return setData({\r\n          ...data,\r\n          err: 'Không có file nào được tải lên.',\r\n          success: '',\r\n        });\r\n      }\r\n\r\n      if (file.size > 1024 * 1024) {\r\n        setTimeout(() => setData({ ...data, err: null, success: null }), 1500);\r\n        return setData({ ...data, err: 'Kích cỡ quá lớn.', success: '' });\r\n      }\r\n\r\n      if (file.type !== 'image/jpeg' && file.type !== 'image/png') {\r\n        setTimeout(() => setData({ ...data, err: null, success: null }), 1500);\r\n        return setData({\r\n          ...data,\r\n          err: 'File không đúng định dạng.',\r\n          success: '',\r\n        });\r\n      }\r\n\r\n      let formData = new FormData();\r\n      formData.append('file', file);\r\n      setLoading(true);\r\n      const res = await uploadApi.uploadAvatar(formData, {\r\n        headers: {\r\n          'content-type': 'multipart/form-data',\r\n          Authorization: token,\r\n        },\r\n      });\r\n\r\n      setLoading(false);\r\n      setAvatar(res.data.url);\r\n    } catch (err) {\r\n      setData({ ...data, err: err.response.data.msg, success: '' });\r\n      setTimeout(() => setData({ err: null, success: null }), 2000);\r\n    }\r\n  };\r\n\r\n  const updateInfor = () => {\r\n    try {\r\n      userApi.updateUser(\r\n        {\r\n          name: name ? name : user.name,\r\n          avatar: avatar ? avatar : user.avatar,\r\n        },\r\n        {\r\n          headers: { Authorization: token },\r\n        }\r\n      );\r\n\r\n      setData({ ...data, err: '', success: 'Cập nhập thông tin thành công!' });\r\n      Swal.fire('', 'Cập nhập thông tin thành công!', 'success').then(() => {\r\n        window.location.href = '/profile';\r\n      });\r\n    } catch (err) {\r\n      setData({ ...data, err: err.response.data.msg, success: '' });\r\n      setTimeout(() => setData({ ...data, err: '', success: '' }), 2000);\r\n    }\r\n  };\r\n\r\n  const updatePassword = () => {\r\n    if (isLength(password)) {\r\n      setTimeout(() => setData({ ...data, err: null, success: null }), 1500);\r\n      return setData({\r\n        ...data,\r\n        err: 'Mật khẩu phải 6 ký tự trở lên.',\r\n        success: '',\r\n      });\r\n    }\r\n\r\n    if (!isMatch(password, cf_password)) {\r\n      setTimeout(() => setData({ ...data, err: null, success: null }), 1500);\r\n      return setData({ ...data, err: 'Mật khẩu không khớp.', success: '' });\r\n    }\r\n\r\n    try {\r\n      userApi.resetPassword(\r\n        { password },\r\n        {\r\n          headers: { Authorization: token },\r\n        }\r\n      );\r\n\r\n      setData({ ...data, err: '', success: 'Cập nhập thông tin thành công!' });\r\n      Swal.fire('', 'Cập nhập thông tin thành công!', 'success').then(() => {\r\n        window.location.href = '/profile';\r\n      });\r\n    } catch (err) {\r\n      setData({ ...data, err: err.response.data.msg, success: '' });\r\n      setTimeout(() => setData({ ...data, err: null, success: '' }), 2000);\r\n    }\r\n  };\r\n\r\n  const handleUpdate = () => {\r\n    if (name || avatar) updateInfor();\r\n    if (password) updatePassword();\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <MetaData title=\"Thông tin cá nhân\"/>\r\n      {isLoading ? (\r\n        <Loader />\r\n      ) : (\r\n        <Fragment>\r\n          <div>\r\n            {err && showErrMsg(err)}\r\n            {success && showSuccessMsg(success)}\r\n            {loading && <b>Loading.....</b>}\r\n          </div>\r\n          <div className=\"profile_page container-fluid\">\r\n            <div className=\"m-auto\">\r\n              <h2>{isAdmin ? 'Admin Profile' : 'Thông tin cá nhân'}</h2>\r\n\r\n              <div className=\"avatar\">\r\n                <img src={avatar ? avatar : user.avatar} alt=\"\" />\r\n                <span>\r\n                  <i className=\"fas fa-camera\"></i>\r\n                  <p>Thay đổi</p>\r\n                  <input type=\"file\" name=\"file\" id=\"file_up\" onChange={changeAvatar} />\r\n                </span>\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"name\">Họ tên</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"name\"\r\n                  id=\"name\"\r\n                  defaultValue={user.name}\r\n                  placeholder=\"Your name\"\r\n                  onChange={handleChange}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"email\">Email</label>\r\n                <input\r\n                  type=\"email\"\r\n                  name=\"email\"\r\n                  id=\"email\"\r\n                  defaultValue={user.email}\r\n                  disabled\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"password\">Mật khẩu mới</label>\r\n                <input\r\n                  type=\"password\"\r\n                  name=\"password\"\r\n                  id=\"password\"\r\n                  placeholder=\"*********\"\r\n                  value={password}\r\n                  onChange={handleChange}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"cf_password\">Xác nhận mật khẩu mới</label>\r\n                <input\r\n                  type=\"password\"\r\n                  name=\"cf_password\"\r\n                  id=\"cf_password\"\r\n                  placeholder=\"*********\"\r\n                  value={cf_password}\r\n                  onChange={handleChange}\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <em style={{ color: 'crimson' }}>\r\n                  * Nếu bạn cập nhật mật khẩu tại đây, bạn sẽ không thể đăng nhập nhanh bằng google và facebook.\r\n                </em>\r\n              </div>\r\n              <div className=\"d-flex justify-content-center mt-2\">\r\n                <button disabled={loading} onClick={handleUpdate}>\r\n                  Cập nhật\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Fragment>\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import userApi from 'api/userApi';\r\nimport Loader from 'components/utils/Loader';\r\nimport MetaData from 'components/utils/MetaData';\r\nimport React, { Fragment, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { showErrMsg, showSuccessMsg } from '../utils/Notification';\r\nimport { isEmail, isEmpty, isLength, isMatch } from '../utils/Validation';\r\n\r\nconst Register = () => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [user, setUser] = useState({\r\n    name: '',\r\n    email: '',\r\n    password: '',\r\n    cf_password: '',\r\n    err: '',\r\n    success: '',\r\n  });\r\n\r\n  const { name, email, password, cf_password, err, success } = user;\r\n\r\n  const handleChangeInput = (e) => {\r\n    const { name, value } = e.target;\r\n    setUser({ ...user, [name]: value, err: '', success: '' });\r\n  };\r\n\r\n  // hàm submit\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (isEmpty(name) || isEmpty(password))\r\n      return setUser({ ...user, err: 'Xin mời điền tất cả các trường.', success: '' });\r\n\r\n    if (!isEmail(email)) return setUser({ ...user, err: 'Thiếu trường email.', success: '' });\r\n\r\n    if (isLength(password))\r\n      return setUser({ ...user, err: 'Mật khẩu 6 ký tự trở lên.', success: '' });\r\n\r\n    if (!isMatch(password, cf_password))\r\n      return setUser({ ...user, err: 'Mật khẩu không khớp.', success: '' });\r\n    try {\r\n      setLoading(true);\r\n      // gọi api đăng ký\r\n      const res = await userApi.register({\r\n        name,\r\n        email,\r\n        password,\r\n      });\r\n\r\n      setUser({ ...user, err: '', success: res.data.message });\r\n      setLoading(false);\r\n    } catch (err) {\r\n      err.response.data.message &&\r\n        setUser({ ...user, err: err.response.data.message, success: '' });\r\n      setTimeout(() => setUser({ ...user, err: null, success: '' }), 2000);\r\n      setLoading(false);\r\n\r\n    }\r\n  };\r\n  return (\r\n    <Fragment>\r\n      <MetaData title={'Đăng ký'} />\r\n      {loading ? (\r\n        <Loader />\r\n      ) : (\r\n        <div className=\"login_page\">\r\n          <h2 className=\"text-center\">Đăng ký</h2>\r\n          {err && showErrMsg(err)}\r\n          {success && showSuccessMsg(success)}\r\n\r\n          <form onSubmit={handleSubmit}>\r\n            <div>\r\n              <label htmlFor=\"name\">Nickname</label>\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Nhập nickname\"\r\n                id=\"name\"\r\n                value={name}\r\n                name=\"name\"\r\n                onChange={handleChangeInput}\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label htmlFor=\"email\">Email</label>\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"vd: abc@gmail.com\"\r\n                id=\"email\"\r\n                value={email}\r\n                name=\"email\"\r\n                onChange={handleChangeInput}\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label htmlFor=\"password\">Mật khẩu</label>\r\n              <input\r\n                type=\"password\"\r\n                placeholder=\"*********\"\r\n                id=\"password\"\r\n                value={password}\r\n                name=\"password\"\r\n                onChange={handleChangeInput}\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label htmlFor=\"cf_password\">Xác nhận mật khẩu</label>\r\n              <input\r\n                type=\"password\"\r\n                placeholder=\"*********\"\r\n                id=\"cf_password\"\r\n                value={cf_password}\r\n                name=\"cf_password\"\r\n                onChange={handleChangeInput}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"row\">\r\n              <button type=\"submit\"><b>Đăng ký</b></button>\r\n            </div>\r\n          </form>\r\n\r\n          <p className=\"text-center\">\r\n            Đã có tài khoản? <Link to=\"/login\">Đăng nhập ngay</Link>\r\n          </p>\r\n        </div>\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n","import userApi from 'api/userApi';\r\nimport React, { useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { showErrMsg, showSuccessMsg } from '../utils/Notification';\r\nimport { isLength, isMatch } from '../utils/Validation';\r\n\r\nfunction ResetPassword() {\r\n  const { token } = useParams();\r\n  const [data, setData] = useState({\r\n    password: '',\r\n    cf_password: '',\r\n    err: '',\r\n    success: '',\r\n  });\r\n\r\n  const { password, cf_password, err, success } = data;\r\n\r\n  const handleChangeInput = (e) => {\r\n    const { name, value } = e.target;\r\n    setData({ ...data, [name]: value, err: '', success: '' });\r\n  };\r\n\r\n  const handleResetPass = async () => {\r\n    if (isLength(password))\r\n      return setData({ ...data, err: 'Mật khẩu phải 6 ký tự trở lên.', success: '' });\r\n\r\n    if (!isMatch(password, cf_password))\r\n      return setData({ ...data, err: 'Mật khẩu không khớp.', success: '' });\r\n\r\n    try {\r\n      const res = await userApi.resetPassword(\r\n        { password },\r\n        {\r\n          headers: { Authorization: token },\r\n        }\r\n      );\r\n\r\n      return setData({ ...data, err: '', success: res.data.message });\r\n    } catch (err) {\r\n      err.response.data.message &&\r\n        setData({ ...data, err: err.response.data.message, success: '' });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"fg_pass\">\r\n      <h2>ĐẶT LẠI MẬT KHẨU CỦA BẠN</h2>\r\n\r\n      <div className=\"row\">\r\n        {err && showErrMsg(err)}\r\n        {success && showSuccessMsg(success)}\r\n\r\n        <label htmlFor=\"password\">Mật khẩu</label>\r\n        <input\r\n          type=\"password\"\r\n          name=\"password\"\r\n          id=\"password\"\r\n          value={password}\r\n          onChange={handleChangeInput}\r\n        />\r\n\r\n        <label htmlFor=\"cf_password\">Xác nhận mật khẩu</label>\r\n        <input\r\n          type=\"password\"\r\n          name=\"cf_password\"\r\n          id=\"cf_password\"\r\n          value={cf_password}\r\n          onChange={handleChangeInput}\r\n        />\r\n\r\n        <button onClick={handleResetPass}><b>ĐẶT LẠI MẬT KHẨU</b></button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ResetPassword;\r\n","import React from 'react';\r\n\r\nconst Banner = () => {\r\n  return (\r\n    <section className=\"banner\">\r\n      <div className=\"head-bottom flex\">\r\n        <h2>YOUR PASSION IS OUR SATISFACTION</h2>\r\n        <p>\r\n          Lorem ipsum dolor sit amet consectetur adipisicing elit. Iusto est quos veniam impedit\r\n          numquam itaque voluptatum, dicta asperiores accusamus, eligendi neque ut incidunt, modi\r\n          harum molestiae atque natus officia minima.\r\n        </p>\r\n        <a href=\"#home\" className=\"head-btn\">\r\n          CHÀO MỪNG\r\n        </a>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Banner;\r\n","import { showErrMsg } from 'components/utils/Notification';\r\nimport React, { useState } from 'react';\r\nimport { Carousel, Modal } from 'react-bootstrap';\r\nimport { useHistory } from 'react-router-dom';\r\nimport './Room.css';\r\n\r\nconst Room = ({ room, startDate, endDate }) => {\r\n  const formater = new Intl.NumberFormat('vi-VN', {\r\n    style: 'currency',\r\n    currency: 'VND',\r\n  });\r\n  const history = useHistory();\r\n  const [show, setShow] = useState(false);\r\n  const [alert, setAlert] = useState('');\r\n\r\n  const handleClose = () => setShow(false);\r\n  const handleShow = () => setShow(true);\r\n\r\n  const handleClick = () => {\r\n    if (!startDate || !endDate) {\r\n      setAlert('Xin mời chọn ngày !');\r\n      setTimeout(() => {\r\n        setAlert(null);\r\n      }, 1500);\r\n    } else if (startDate === endDate) {\r\n      setAlert('Không được phép chọn ngày trùng nhau !');\r\n      setTimeout(() => {\r\n        setAlert(null);\r\n      }, 1500);\r\n    } else {\r\n      history.push(`/book/${room._id}/${startDate}/${endDate}`);\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      <div className=\"row bs\">\r\n        <div className=\"col-md-4 mb-1\">\r\n          <img src={room.imageUrls[0]} alt={room.name} className=\"room_image\" />\r\n        </div>\r\n        <div className=\"col-md-8 mb-1\">\r\n          <h5>{room.name}</h5>\r\n          <p>Giá phòng: {formater.format(room.price)}/ngày</p>\r\n          <p>Loại phòng: {room.type}</p>\r\n          <a href=\"#/\" onClick={handleShow}>\r\n            Xem chi tiết {'>>'}\r\n          </a>\r\n          <div className=\"d-flex justify-content-end \">\r\n            <button className=\"btn-room\" onClick={handleClick}>\r\n              Đặt phòng\r\n            </button>\r\n          </div>\r\n\r\n          <Modal show={show} onHide={handleClose} size=\"lg\">\r\n            <Modal.Header closeButton>\r\n              <b>{room.name}</b>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n              <Carousel>\r\n                {room.imageUrls?.map((img) => (\r\n                  <Carousel.Item key={img}>\r\n                    <img className=\"d-block w-100\" src={img} alt={img} />\r\n                  </Carousel.Item>\r\n                ))}\r\n              </Carousel>\r\n              <span className=\"mt-2\">\r\n                <b>Mô tả: </b> {room.description}\r\n              </span>\r\n            </Modal.Body>\r\n          </Modal>\r\n        </div>\r\n        {alert && showErrMsg(alert)}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Room;\r\n","import React, { useRef, useState } from 'react';\r\n\r\nconst FilterSearch = ({ onSubmit }) => {\r\n  const [searchRoom, setSearchRoom] = useState('');\r\n  const typingTimeoutRef = useRef(null);\r\n\r\n  const handleSearchChange = (e) => {\r\n    const value = e.target.value;\r\n    setSearchRoom(value);\r\n    if (!onSubmit) return;\r\n    // debounce search\r\n    if (typingTimeoutRef.current) {\r\n      clearTimeout(typingTimeoutRef.current);\r\n    }\r\n    typingTimeoutRef.current = setTimeout(() => {\r\n      const formValues = {\r\n        searchRoom: e.target.value,\r\n      };\r\n   \r\n      onSubmit(formValues);\r\n    }, 300);\r\n  }\r\n\r\n  return (\r\n    <form>\r\n      <input\r\n        type=\"text\"\r\n        className=\"form-control\"\r\n        placeholder=\"Tìm kiếm...\"\r\n        value={searchRoom}\r\n        onChange={handleSearchChange}\r\n      />\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default FilterSearch;\r\n","import React, { useState } from 'react';\r\n\r\nconst FilterType = ({ onChange }) => {\r\n  const [filterType, setFilterType] = useState('all');\r\n  const handleFilterType = (e) => {\r\n    setFilterType(e);\r\n    if (!onChange) return;\r\n    const formValues = {\r\n      filterRoom: e,\r\n    };\r\n\r\n    if (e !== 'all') {\r\n      onChange(formValues);\r\n    } else {\r\n      onChange(formValues);\r\n      console.log(formValues);\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <select\r\n        className=\"form-select\"\r\n        value={filterType}\r\n        onChange={(e) => handleFilterType(e.target.value)}\r\n      >\r\n        <option value=\"all\">Tất cả</option>\r\n        <option value=\"standard\">Standard</option>\r\n        <option value=\"delux\">Delux</option>\r\n      </select>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FilterType;\r\n","import { DatePicker } from 'antd';\r\nimport { roomApi } from 'api/roomApi';\r\nimport Banner from 'components/Layout/Banner';\r\nimport Loader from 'components/utils/Loader';\r\nimport MetaData from 'components/utils/MetaData';\r\nimport moment from 'moment';\r\nimport queryString from 'query-string';\r\nimport React, { Fragment, useEffect, useState } from 'react';\r\nimport LazyLoad from 'react-lazyload';\r\nimport './Home.css';\r\nimport Room from './Room';\r\nimport FilterSearch from './Room/FilterSearch';\r\nimport FilterType from './Room/FilterType';\r\n\r\nconst { RangePicker } = DatePicker;\r\n\r\nconst Home = () => {\r\n  const [loading, setLoading] = useState(true);\r\n  const [rooms, setRooms] = useState([]);\r\n  const [duplicateRoom, setDuplicateRoom] = useState([]);\r\n  const [filters, setFilters] = useState({\r\n    search: '',\r\n    type: '',\r\n  });\r\n  const [startDate, setStartDate] = useState('');\r\n  const [endDate, setEndDate] = useState('');\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const paramsString = '?' + queryString.stringify(filters);\r\n        const response = await roomApi.getAllRooms(paramsString);\r\n        setRooms(response.data);\r\n        setDuplicateRoom(response.data);\r\n        setLoading(false);\r\n        // window.scrollTo(0, 0);\r\n      } catch (error) {\r\n        console.log(error);\r\n        setLoading(false);\r\n      }\r\n    })();\r\n  }, [filters]);\r\n\r\n  // chọn ngày\r\n  const filterByDate = (dates) => {\r\n    if (!dates) return;\r\n    console.log(moment(dates[0]).format('DD-MM-YYYY'));\r\n    console.log(moment(dates[1]).format('DD-MM-YYYY'));\r\n    setStartDate(dates[0].format('DD-MM-YYYY'));\r\n    setEndDate(dates[1].format('DD-MM-YYYY'));\r\n\r\n    let tempRooms = [];\r\n    let availability = false;\r\n\r\n    // duyệt qua tất cả rooms\r\n    for (const room of duplicateRoom) {\r\n      // nếu currentBookings > 0 -> loại bỏ ko cho room\r\n      if (room.currentBookings.length > 0) {\r\n        // duyệt qua tất cả  room.currentBooking -> check lịch\r\n        for (const booking of room.currentBookings) {\r\n          console.log(booking);\r\n        }\r\n      }\r\n      // nếu currentBookings == 0 -> push(room)\r\n      if (availability === true || room.currentBookings.length === 0) {\r\n        tempRooms.push(room);\r\n      }\r\n      // setRooms(tempRooms);\r\n    }\r\n  };\r\n\r\n  // chặn chọn ngày trước đó\r\n  function disabledDate(current) {\r\n    return current && current.valueOf() < moment().endOf('day');\r\n  }\r\n\r\n  const handleSearchForm = (newFilter) => {\r\n    // set filter kéo theo giưa search và type\r\n    setFilters({\r\n      ...filters,\r\n      search: newFilter.searchRoom,\r\n    });\r\n    console.log(filters);\r\n  };\r\n\r\n  const handleOnChangeType = (newFilter) => {\r\n    // set filter kéo theo giưa search và type\r\n    setFilters({\r\n      ...filters,\r\n      type: newFilter.filterRoom,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <MetaData title=\"Trang chủ\" />\r\n      {loading ? (\r\n        <Loader />\r\n      ) : (\r\n        <Fragment>\r\n          <Banner />\r\n          <div className=\"container\" id=\"home\">\r\n            <h1 className=\"text-center mt-5 title\">ĐẶT PHÒNG NGAY</h1>\r\n            <div className=\"row bs\" id=\"booking-fixed\">\r\n              <div className=\"col-md-4\" id=\"datepicker\">\r\n                <RangePicker\r\n                  format=\"DD-MM-YYYY\"\r\n                  disabledDate={disabledDate}\r\n                  onChange={filterByDate}\r\n                />\r\n              </div>\r\n              <div className=\"col-md-4\">\r\n                <FilterSearch onSubmit={handleSearchForm} rooms={duplicateRoom} />\r\n              </div>\r\n              <div className=\"col-md-4\">\r\n                <FilterType onChange={handleOnChangeType} rooms={duplicateRoom} />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"row justify-content-center mt-2\">\r\n              {rooms.length === 0 ? (\r\n                <div className=\"no-result bs mt-3\">\r\n                  <h2 className=\"mt-5\">Không tìm thấy kết quả</h2>\r\n                </div>\r\n              ) : (\r\n                <Fragment>\r\n                  {rooms?.map((room) => {\r\n                    return (\r\n                      <div key={room._id} className=\"col-md-9 mt-2\">\r\n                        <LazyLoad height={200} offset={100} debounce={300} once>\r\n                          <Room room={room} startDate={startDate} endDate={endDate} />\r\n                        </LazyLoad>\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </Fragment>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </Fragment>\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import { bookingApi } from 'api/bookingApi';\r\nimport { roomApi } from 'api/roomApi';\r\nimport Loader from 'components/utils/Loader';\r\nimport MetaData from 'components/utils/MetaData';\r\nimport { showErrMsg } from 'components/utils/Notification';\r\nimport moment from 'moment';\r\nimport React, { Fragment, useEffect, useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport Swal from 'sweetalert2';\r\nimport './BookingRoom.css';\r\n\r\nconst BookingRoom = ({ match }) => {\r\n  const formater = new Intl.NumberFormat('vi-VN', {\r\n    style: 'currency',\r\n    currency: 'VND',\r\n  });\r\n  const { user } = useSelector((state) => state.auth);\r\n  const token = useSelector((state) => state.token);\r\n  const [room, setRoom] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [disable, setDisable] = useState(false);\r\n  const roomId = match.params.id;\r\n  const startDate = moment(match.params.startDate, 'DD-MM-YYYY');\r\n  const endDate = moment(match.params.endDate, 'DD-MM-YYYY');\r\n\r\n  const totalDays = moment.duration(endDate.diff(startDate)).asDays();\r\n  let totalAmount = totalDays * room.price;\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        setLoading(true);\r\n        const response = await roomApi.getRoomById(`${roomId}`);\r\n        setRoom(response.data);\r\n        setLoading(false);\r\n        window.scrollTo(0, 0);\r\n      } catch (error) {\r\n        setError(error.response.data.message);\r\n        setLoading(false);\r\n      }\r\n    })();\r\n  }, [roomId]);\r\n\r\n  const handleBooking = async () => {\r\n    const bookingDetail = {\r\n      room,\r\n      userId: user._id,\r\n      startDate,\r\n      endDate,\r\n      totalAmount,\r\n      totalDays: Number(totalDays),\r\n    };\r\n    try {\r\n      await bookingApi.createBookingRoom(bookingDetail, {\r\n        headers: { Authorization: token },\r\n      });\r\n      setDisable(true);\r\n      Swal.fire('Chúc mừng', 'Đặt phòng thành công', 'success').then(() => {\r\n        window.location.href = '/';\r\n      });\r\n    } catch (error) {\r\n      console.log(error);\r\n      Swal.fire('Oops', 'Đã xảy ra sự cố', 'error');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <MetaData title=\"Đặt phòng\" />\r\n      {loading ? (\r\n        <Loader />\r\n      ) : error ? (\r\n        showErrMsg(error)\r\n      ) : (\r\n        <div className=\"container \">\r\n          <div className=\"row bs mt-5\" data-aos=\"flip-left\">\r\n            <div className=\"col-md-5 mb-2\">\r\n              <h4>{room.name}</h4>\r\n              <img src={room.imageUrls[0]} alt={room.name} className=\"booking-room-img\" />\r\n            </div>\r\n            <div className=\"col-md-7 boking-detail mb-2\">\r\n              <h1 className=\"\">Chi tiết đặt phòng</h1>\r\n              <hr />\r\n              <b>\r\n                <p>Tên: {user.name} </p>\r\n                <p>Ngày nhận phòng: {match.params.startDate} </p>\r\n                <p>Ngày trả phòng: {match.params.endDate} </p>\r\n                <p>Giá phòng: {room.price}/ngày</p>\r\n              </b>\r\n\r\n              <h1>Tổng</h1>\r\n              <hr />\r\n              <b>\r\n                <p>Tổng ngày: {totalDays} ngày</p>\r\n                <p>Giá thuê phòng: {room.price} </p>\r\n                <p>Tổng tiền: {formater.format(totalAmount)}</p>\r\n              </b>\r\n\r\n              <div className=\"booking-center\">\r\n                <button className=\"btn-booking\" disabled={disable} onClick={handleBooking}>\r\n                  Thanh toán\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default BookingRoom;\r\n","import { bookingApi } from 'api/bookingApi';\r\nimport { GET_BOOKING_USER_SUCCESS } from 'redux/contants';\r\n\r\nexport const fetchBookingUser = async (token) => {\r\n  const res = await bookingApi.getBookingByUserId({\r\n    headers: { Authorization: token },\r\n  });\r\n  return res;\r\n};\r\n\r\nexport const dispatchGetBookingUser = (res) => {\r\n  return {\r\n    type: GET_BOOKING_USER_SUCCESS,\r\n    payload: res.data,\r\n  };\r\n};\r\n\r\n","import { bookingApi } from 'api/bookingApi';\r\nimport Loader from 'components/utils/Loader';\r\nimport MetaData from 'components/utils/MetaData';\r\nimport React, { Fragment, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { dispatchGetBookingUser, fetchBookingUser } from 'redux/actions/bookingAction';\r\nimport Swal from 'sweetalert2';\r\n\r\nconst MyBooking = () => {\r\n  const token = useSelector((state) => state.token);\r\n  const { bookings, loading } = useSelector((state) => state.booking);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if (token) {\r\n      fetchBookingUser(token).then((res) => {\r\n        dispatch(dispatchGetBookingUser(res));\r\n      });\r\n    }\r\n  }, [token, dispatch]);\r\n\r\n  const handleCancelBooking = async (bookedId, roomId) => {\r\n    try {\r\n      console.log(bookedId, roomId);\r\n      const response = await (\r\n        await bookingApi.cancelBooking({ bookedId, roomId }, { headers: { Authorization: token } })\r\n      ).data;\r\n      Swal.fire('', `${response.message}`, 'success').then(() => {\r\n        window.location.href = '/mybooking';\r\n      });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <MetaData title=\"My booking\"/>\r\n      {loading ? (\r\n        <Loader />\r\n      ) : (\r\n        <Fragment>\r\n          {bookings.length === 0 ? (\r\n            <h2 className=\"text-center mt-2\">Booking room is empty</h2>\r\n          ) : (\r\n            <div>\r\n              <div className=\"container\">\r\n                <div className=\"row\">\r\n                  {bookings?.map((booking) => (\r\n                    <div className=\"col-md-6 bs\" data-aos=\"zoom-in\" key={booking._id}>\r\n                      <h5>{booking.room}</h5>\r\n                      <p>\r\n                        <b>BookingId: {booking._id} </b>\r\n                      </p>\r\n                      <p>\r\n                        <b>CheckIn: {booking.startDate} </b>\r\n                      </p>\r\n                      <p>\r\n                        <b>CheckOut: {booking.endDate} </b>\r\n                      </p>\r\n                      <p>\r\n                        <b>Amount: {booking.totalAmount} </b>\r\n                      </p>\r\n                      <p>\r\n                        <b>Status: {booking.status === 'booked' ? 'CONFIRMED' : 'CANCEL'} </b>\r\n                      </p>\r\n                      {booking.status !== 'cancelled' && (\r\n                        <div className=\"d-flex justify-content-end\">\r\n                          <button\r\n                            className=\"btn btn-dark\"\r\n                            onClick={() => {\r\n                              handleCancelBooking(booking._id, booking.roomId);\r\n                            }}\r\n                          >\r\n                            Cancel booking\r\n                          </button>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </Fragment>\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default MyBooking;\r\n","import React from 'react';\r\nimport './NotFound.css';\r\nfunction NotFound() {\r\n  return (\r\n    <div className=\"not-found\">\r\n      <h1 className=\"text-center\">404 | Không tìm thấy</h1>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NotFound;\r\n","import BookingDetail from 'components/Admin/BookingDetail';\r\nimport Admin from 'components/Admin/index';\r\nimport RoomDetail from 'components/Admin/RoomDetail';\r\nimport ActivationEmail from 'components/Auth/ActivationEmail';\r\nimport EditProfile from 'components/Auth/EditProfile';\r\nimport ForgotPassword from 'components/Auth/ForgotPassword';\r\nimport Login from 'components/Auth/Login';\r\nimport Profile from 'components/Auth/Profile';\r\nimport Register from 'components/Auth/Register';\r\nimport ResetPassword from 'components/Auth/ResetPassword';\r\nimport Home from 'components/Home';\r\nimport BookingRoom from 'components/Home/BookingRoom';\r\nimport MyBooking from 'components/MyBooking';\r\nimport NotFound from 'components/utils/NotFound';\r\nimport { Fragment } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Route, Switch } from 'react-router';\r\n\r\nconst Routes = () => {\r\n  const auth = useSelector((state) => state.auth);\r\n  const { isLogged, isAdmin } = auth;\r\n  return (\r\n    <Switch>\r\n      <Fragment>\r\n        {/* Authentication */}\r\n        <Route path=\"/login\" component={Login} exact />\r\n        <Route path=\"/register\" component={Register} exact />\r\n        <Route path=\"/forgot_password\" component={isLogged ? NotFound : ForgotPassword} exact />\r\n        <Route path=\"/api/auth/reset-password/:token\" component={ResetPassword} exact />\r\n        <Route path=\"/api/auth/activate/:activation_token\" component={ActivationEmail} exact />\r\n        <Route path=\"/profile\" component={isLogged ? Profile : NotFound} exact />\r\n        <Route path=\"/edit_user/:id\" component={isAdmin ? EditProfile : NotFound} exact />\r\n        {/* Home */}\r\n        <Route path=\"/\" component={Home} exact />\r\n        <Route path=\"/book/:id/:startDate/:endDate\" component={isLogged ? BookingRoom : Login} exact/>\r\n        <Route path=\"/mybooking\" component={MyBooking} exact />\r\n        {/* <Route  component={NotFound}/> */}\r\n\r\n        {/* Admin */}\r\n        <Route path=\"/admin\" component={isAdmin ? Admin : NotFound} exact />\r\n        <Route path=\"/admin/booking-detail/:id\" component={isAdmin ? BookingDetail : NotFound} exact/>\r\n        <Route path=\"/admin/room-detail/:id\" component={isAdmin ? RoomDetail : NotFound} exact/>\r\n      </Fragment>\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default Routes;\r\n","import userApi from 'api/userApi';\r\nimport React from 'react';\r\nimport { Navbar } from 'react-bootstrap';\r\nimport { useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Header() {\r\n  const auth = useSelector((state) => state.auth);\r\n\r\n  const { user, isLogged } = auth;\r\n\r\n  window.onscroll = function () {\r\n    if (document.body.scrollTop >= 400 || document.documentElement.scrollTop >= 400) {\r\n      document.querySelector('header').classList.add('sticky');\r\n    } else {\r\n      document.querySelector('header').classList.remove('sticky');\r\n    }\r\n    if (document.querySelector('#booking-fixed')) {\r\n      if (document.body.scrollTop >= 600 || document.documentElement.scrollTop >= 600) {\r\n        document.querySelector('#booking-fixed').classList.add('fixed');\r\n      } else if (document.body.scrollTop < 600 || document.documentElement.scrollTop < 600) {\r\n        document.querySelector('#booking-fixed').classList.remove('fixed');\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleLogout = async () => {\r\n    try {\r\n      await userApi.logout();\r\n      localStorage.removeItem('userData');\r\n      window.location.href = '/';\r\n    } catch (err) {\r\n      window.location.href = '/';\r\n    }\r\n  };\r\n\r\n  const userLink = () => {\r\n    return (\r\n      <li className=\"drop-nav\">\r\n        <Link to=\"#\" className=\"avatar\">\r\n          <img src={user.avatar} alt=\"\" />\r\n          <span>\r\n            {user.name}&nbsp;\r\n            <i className=\"fas fa-angle-down\"></i>\r\n          </span>\r\n        </Link>\r\n        <ul className=\"dropdown\">\r\n          {user && user.role !== 1 ? (\r\n            <li>\r\n              <Link to=\"/mybooking\">Booking</Link>\r\n            </li>\r\n          ) : (\r\n            <li>\r\n              <Link to=\"/admin\">Admin</Link>\r\n            </li>\r\n          )}\r\n          <li>\r\n            <Link to=\"/profile\">Cá nhân</Link>\r\n          </li>\r\n          <li>\r\n            <Link to=\"/\" onClick={handleLogout}>\r\n              Đăng xuất\r\n            </Link>\r\n          </li>\r\n        </ul>\r\n      </li>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <header>\r\n      <Navbar expand=\"lg\">\r\n        <div className=\"container\">\r\n          <Navbar.Brand href=\"/\">\r\n            <h2 className=\"title-app\">Booking App</h2>\r\n          </Navbar.Brand>\r\n          <Navbar.Toggle aria-controls=\"navbarScroll\" />\r\n          <Navbar.Collapse id=\"navbarScroll\" className=\"\">\r\n            <ul className=\"navbar-nav me-auto mb-2 mb-lg-0\"></ul>\r\n            <ul className=\"d-flex\">\r\n              {isLogged ? (\r\n                userLink()\r\n              ) : (\r\n                <li>\r\n                  <Link to=\"/login\">\r\n                    <i className=\"fas fa-user\"></i> Đăng nhập\r\n                  </Link>\r\n                </li>\r\n              )}\r\n            </ul>\r\n          </Navbar.Collapse>\r\n        </div>\r\n      </Navbar>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import userApi from 'api/userApi';\nimport Footer from 'components/Layout/Footer';\nimport { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport Routes from 'Routes';\nimport './App.css';\nimport Header from './components/Layout/Header';\nimport { dispatchGetUser, dispatchLogin, fetchUser } from './redux/actions/authAction';\n\nfunction App() {\n  const dispatch = useDispatch();\n  const token = useSelector((state) => state.token);\n  const { isLogged  } = useSelector((state) => state.auth);\n  useEffect(() => {\n    const firstLogin = localStorage.getItem(\"userData\")\n    if (firstLogin) {\n      const getToken = async () => {\n        const res = await userApi.getAccessToken();\n        dispatch({ type: 'GET_TOKEN', payload: res.data.access_token });\n      };\n      getToken();\n    }\n  }, [isLogged, dispatch]);\n\n  useEffect(() => {\n    if (token) {\n      const getUser = () => {\n        dispatch(dispatchLogin());\n        return fetchUser(token).then((res) => {        \n            dispatch(dispatchGetUser(res));\n        });\n      };\n\n      getUser();\n    }\n  }, [token, dispatch]);\n\n  return (\n    <Router>\n      <div className=\"App\">\n        <Header />\n        <div className=\"booking-app-main-container\">\n          <Routes />\n        </div>\n\n        <Footer />\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import { GET_USER_REQUEST, GET_USER_SUCCESS, LOGIN } from 'redux/contants';\r\n\r\nlet user = JSON.parse(localStorage.getItem('userData'));\r\nconst initialState = {\r\n  user: user ? user : {},\r\n  isLogged: false,\r\n  isAdmin: false,\r\n  isLoading: true,\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case LOGIN:\r\n      return {\r\n        ...state,\r\n        isLogged: true,\r\n      };\r\n    case GET_USER_REQUEST:\r\n      return {\r\n        ...state,\r\n        isLoading: true,\r\n      };\r\n    case GET_USER_SUCCESS:\r\n      return {\r\n        ...state,\r\n        user: action.payload.user.user,\r\n        isAdmin: action.payload.isAdmin,\r\n        isLoading: false,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default authReducer;\r\n","import { GET_TOKEN } from 'redux/contants'\r\n\r\nconst token = ''\r\n\r\nconst tokenReducer = ( state = token,action) =>{\r\n    switch(action.type){\r\n        case GET_TOKEN:\r\n            return action.payload\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\nexport default tokenReducer","import { GET_ALL_USERS_SUCCESS } from 'redux/contants'\r\n\r\nconst users =[]\r\n\r\nconst usersReducer = (state = users, action) => {\r\n    switch(action.type){\r\n        case GET_ALL_USERS_SUCCESS:\r\n            return action.payload\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default usersReducer","import { GET_BOOKING_USER_SUCCESS } from 'redux/contants';\r\n\r\nconst initialState = {\r\n  bookings: [],\r\n  loading: true,\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case GET_BOOKING_USER_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        bookings: action.payload,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default authReducer;\r\n","  \r\nimport {combineReducers} from 'redux'\r\nimport auth from './authReducer'\r\nimport token from './tokenReducer'\r\nimport users from './userReducer'\r\nimport booking from './bookingReducer'\r\n\r\nexport default combineReducers({\r\n    auth,\r\n    token,\r\n    users,\r\n    booking\r\n})","import React from 'react'\r\nimport {createStore} from 'redux'\r\nimport rootReducer from './reducers'\r\nimport {Provider} from 'react-redux'\r\n\r\nconst store = createStore(rootReducer,\r\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n)\r\n\r\nfunction DataProvider({children}) {\r\n    return (\r\n        <Provider store={store}>\r\n            {children}\r\n        </Provider>\r\n    )\r\n}\r\n\r\nexport default DataProvider","import 'antd/dist/antd.css';\nimport AOS from \"aos\";\nimport \"aos/dist/aos.css\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\nimport DataProvider from './redux/store';\n\nAOS.init({\n  duration: 1000\n});\nReactDOM.render(\n  <React.StrictMode>\n    <DataProvider>\n      <App />\n    </DataProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}