{"version":3,"sources":["api/axiosClient.js","api/userApi.js","components/Layout/Footer/index.jsx","api/bookingApi.js","components/utils/Loader.jsx","components/utils/MetaData.jsx","components/Admin/BookingDetail.jsx","redux/contants/index.js","redux/actions/userAction.js","components/Admin/GetAllUser.jsx","components/Admin/GetAllBooking.jsx","api/roomApi.js","components/Admin/GetAllRoom.jsx","components/Admin/index.jsx","components/Admin/RoomDetail.jsx","components/utils/Notification/index.jsx","components/Auth/ActivationEmail.jsx","components/Auth/EditProfile.jsx","components/utils/Validation/index.jsx","components/Auth/ForgotPassword.jsx","redux/actions/authAction.js","components/Auth/Login.jsx","api/uploadApi.js","components/Auth/Profile.jsx","components/Auth/Register.jsx","components/Auth/ResetPassword.jsx","components/Home/Room/index.jsx","components/Layout/Banner/index.jsx","components/Home/index.jsx","components/Home/BookingRoom/index.jsx","redux/actions/bookingAction.js","components/MyBooking/index.jsx","components/utils/NotFound/index.jsx","Routes/index.js","components/Layout/Header/index.jsx","App.js","redux/reducers/authReducer.js","redux/reducers/tokenReducer.js","redux/reducers/userReducer.js","redux/reducers/bookingReducer.js","redux/reducers/index.js","redux/store.js","index.js"],"names":["axiosClient","axios","create","baseURL","process","REACT_APP_API_URL","headers","paramsSerializer","prams","queryString","stringify","interceptors","request","use","a","config","res","err","userApi","register","data","post","activeEmail","getAccessToken","login","logout","get","forgotPassword","resetPassword","token","getUsersAllInfor","getUsersInfor","updateUser","put","updateUsersRole","id","url","deleteUser","delete","loginGoogle","tokenId","loginFacebook","accessToken","userID","Footer","className","bookingApi","override","css","Loader","useState","loading","color","size","MetaData","title","Helmet","BookingDetail","match","formater","Intl","NumberFormat","style","currency","setLoading","booking","setBooking","useSelector","state","bookingId","params","getBooking","useCallback","Authorization","useEffect","response","window","scrollTo","console","log","room","roomId","userId","startDate","endDate","totalDays","format","totalAmount","transactionId","status","LOGIN","GET_TOKEN","GET_USER_REQUEST","GET_USER_SUCCESS","GET_ALL_USERS_SUCCESS","GET_BOOKING_USER_SUCCESS","fetchAllUsers","GetAllUser","auth","user","isAdmin","users","dispatch","useDispatch","then","type","payload","dispatchGetAllUsers","handleDelete","_id","Swal","fire","message","location","href","map","name","email","role","to","onClick","GetAllBooking","bookings","setBookings","handleDeleteBooking","roomApi","GetAllRoom","rooms","setRooms","price","currentBookings","length","TabPane","Tabs","Admin","defaultActiveKey","tab","RoomDetail","setRoom","imageUrls","img","src","alt","description","showErrMsg","msg","Alert","variant","showSuccessMsg","ActivationEmail","activation_token","useParams","setErr","success","setSuccess","activationEmail","EditProfile","props","history","useHistory","editUser","setEditUser","checkAdmin","setCheckAdmin","num","setNum","forEach","push","handleUpdate","htmlFor","defaultValue","disabled","checked","onChange","isEmpty","value","isEmail","test","isLength","password","isMatch","cf_password","ForgotPassword","setData","e","target","placeholder","dispatchLogin","fetchUser","Login","setUser","handleChangeInput","handleSubmit","preventDefault","localStorage","setItem","setTimeout","responseGoogle","error","responseFacebook","onSubmit","clientId","buttonText","onSuccess","cookiePolicy","appId","autoLoad","fields","callback","uploadApi","Profile","isLoading","avatar","setAvatar","handleChange","changeAvatar","file","files","formData","FormData","append","updateInfor","updatePassword","Register","ResetPassword","handleResetPass","Room","show","setShow","alert","setAlert","data-aos","Modal","onHide","Header","closeButton","Body","Carousel","Item","Banner","RangePicker","DatePicker","Home","duplicateRoom","setDuplicateRoom","searchRoom","setSearchRoom","filterType","setFilterType","typingTimeoutRef","useRef","setStartDate","setEndDate","disabledDate","current","valueOf","moment","endOf","dates","tempRooms","searchString","trim","toLowerCase","clearTimeout","filter","includes","handleFilterType","BookingRoom","setError","disable","setDisable","duration","diff","asDays","handleBooking","bookingDetail","Number","fetchBookingUser","MyBooking","dispatchGetBookingUser","handleCancelBooking","bookedId","NotFound","Routes","isLogged","path","component","exact","onscroll","document","body","scrollTop","documentElement","querySelector","classList","add","remove","handleLogout","removeItem","Navbar","expand","Brand","Toggle","aria-controls","Collapse","App","getItem","access_token","getToken","dispatchGetUser","initialState","authReducer","action","tokenReducer","usersReducer","combineReducers","store","createStore","rootReducer","__REDUX_DEVTOOLS_EXTENSION__","DataProvider","children","AOS","init","ReactDOM","render","StrictMode","getElementById"],"mappings":"sYAGMA,EAAcC,IAAMC,OAAO,CAC7BC,QAASC,mIAAYC,kBACrBC,QAAS,CACL,eAAiB,oBAErBC,iBAAkB,SAAAC,GAAK,OAAIC,IAAYC,UAAUF,MAIrDR,EAAYW,aAAaC,QAAQC,IAAjC,+BAAAC,EAAA,MAAqC,WAAMC,GAAN,SAAAD,EAAA,+EAC1BC,GAD0B,2CAArC,uDAGAf,EAAYW,aAAaC,QAAQC,IAAjC,+BAAAC,EAAA,MAAqC,WAAME,GAAN,SAAAF,EAAA,+EAI1BE,GAJ0B,2CAArC,uDAKE,SAACC,GACC,MAAMA,KAGKjB,I,EAAAA,ICsCAkB,EA5DC,CACdC,SADc,SACLC,GAEP,OAAOpB,EAAYqB,KADP,qBACiBD,IAE/BE,YALc,SAKFF,GAEV,OAAOpB,EAAYqB,KADP,uBACiBD,IAE/BG,eATc,WAWZ,OAAOvB,EAAYqB,KADP,4BAGdG,MAbc,SAaRJ,GAEJ,OAAOpB,EAAYqB,KADP,kBACiBD,IAE/BK,OAjBc,WAmBZ,OAAOzB,EAAY0B,IADP,qBAGdC,eArBc,SAqBCP,GAEb,OAAOpB,EAAYqB,KADP,4BACiBD,IAE/BQ,cAzBc,SAyBAR,EAAMS,GAElB,OAAO7B,EAAYqB,KADP,2BACiBD,EAAMS,IAErCC,iBA7Bc,SA6BGV,GAEf,OAAOpB,EAAY0B,IADP,sBACgBN,IAE9BW,cAjCc,SAiCAX,GAEZ,OAAOpB,EAAY0B,IADP,kBACgBN,IAE9BY,WArCc,SAqCHZ,EAAMS,GAEf,OAAO7B,EAAYiC,IADP,mBACgBb,EAAMS,IAEpCK,gBAzCc,SAyCEC,EAAIf,EAAMS,GACxB,IAAMO,EAAG,gCAA4BD,GACrC,OAAOnC,EAAYiC,IAAIG,EAAKhB,EAAMS,IAEpCQ,WA7Cc,SA6CHF,EAAIN,GACb,IAAMO,EAAG,2BAAuBD,GAChC,OAAOnC,EAAYsC,OAAOF,EAAKP,IAGjCU,YAlDc,SAkDFC,GAEV,OAAOxC,EAAYqB,KADP,yBACiBmB,IAE/BC,cAtDc,SAsDAC,EAAaC,GAEzB,OAAO3C,EAAYqB,KADP,2BACiBqB,EAAaC,K,gBC3C/BC,EAZA,WACX,OACI,cAAC,WAAD,UACI,wBAAQC,UAAU,OAAlB,SACI,mBAAGA,UAAU,mBAAb,uD,uBCLHC,EAAa,SACN1B,EAAMS,GAEtB,OAAO7B,EAAYqB,KADP,eACiBD,EAAMS,IAH1BiB,EAAa,SAKVjB,GAEZ,OAAO7B,EAAY0B,IADP,gBACgBG,IAPnBiB,EAAa,SASTX,EAAIN,GACjB,IAAMO,EAAG,uBAAmBD,GAC5B,OAAOnC,EAAY0B,IAAIU,EAAKP,IAXnBiB,EAAa,SAaLjB,GAEjB,OAAO7B,EAAY0B,IADP,mBACgBG,IAfnBiB,EAAa,SAiBV1B,EAAMS,GAElB,OAAO7B,EAAYqB,KADP,qBACiBD,EAAMS,IAnB1BiB,EAAa,SAqBVX,EAAGf,EAAMS,GACrB,IAAMO,EAAG,uBAAmBD,GAC5B,OAAOnC,EAAYsC,OAAOF,EAAIhB,EAAMS,I,oCCpBlCkB,EAAWC,cAAH,oIAkBCC,EAVA,WACb,MAA8BC,oBAAS,GAAvC,mBAAOC,EAAP,UAEA,OACE,qBAAKN,UAAU,4BAAf,SACE,cAAC,IAAD,CAAYO,MAAM,OAAOD,QAASA,EAASH,IAAKD,EAAUM,KAAM,Q,SCLvDC,EAVE,SAAC,GAAa,IAAZC,EAAW,EAAXA,MACf,OACI,8BACI,cAACC,EAAA,EAAD,UACI,gDAAYD,GAAZ,YC+EDE,EAhFO,SAAC,GAAe,IAAbC,EAAY,EAAZA,MACjBC,EAAW,IAAIC,KAAKC,aAAa,QAAS,CAC9CC,MAAO,WACPC,SAAU,QAEZ,EAA8Bb,oBAAS,GAAvC,mBAAOC,EAAP,KAAgBa,EAAhB,KACA,EAA8Bd,mBAAS,IAAvC,mBAAOe,EAAP,KAAgBC,EAAhB,KACMrC,EAAQsC,aAAY,SAACC,GAAD,OAAWA,EAAMvC,SAErCwC,EAAYX,EAAMY,OAAOnC,GAEzBoC,EAAaC,sBAAW,sBAAC,sBAAA1D,EAAA,sEAChBgC,EAAA,UAA6BuB,GAAa,CACrD/D,QAAS,CAAEmE,cAAe5C,KAFC,mFAI5B,CAACA,EAAOwC,IAgBX,OAdAK,qBAAU,WACR,sBAAC,4BAAA5D,EAAA,+EAE0ByD,IAF1B,OAESI,EAFT,OAGGT,EAAWS,EAASvD,MACpB4C,GAAW,GACXY,OAAOC,SAAS,EAAG,GALtB,gDAOGb,GAAW,GACXc,QAAQC,IAAR,MARH,wDAAD,KAWC,CAACR,IAGF,eAAC,WAAD,WACE,cAAC,EAAD,CAAUhB,MAAM,yCACfJ,EACC,cAAC,EAAD,IAEA,eAAC,WAAD,WACE,oBAAIN,UAAU,yBAAd,kDACA,qBAAKA,UAAU,YAAf,SACE,sBAAKA,UAAU,KAAf,UACE,6BAAKoB,EAAQe,OACb,4BACE,yCAAYf,EAAQgB,OAApB,SAEF,4BACE,yCAAYhB,EAAQiB,OAApB,SAEF,4BACE,0CACYjB,EAAQkB,UADpB,gBAC4ClB,EAAQmB,aAGtD,4BACE,oDAAenB,EAAQoB,UAAvB,iBAEF,4BACE,sDAAe1B,EAAS2B,OAAOrB,EAAQsB,aAAvC,SAEF,4BACE,gDAAmBtB,EAAQuB,cAA3B,SAEF,4BACE,wCAEsB,WAAnBvB,EAAQwB,OACP,sBAAM5C,UAAU,mBAAhB,8BAEA,sBAAMA,UAAU,kBAAhB,gD,SC1EP6C,EAAQ,QACRC,EAAY,YACZC,EAAmB,mBACnBC,EAAmB,mBACnBC,EAAwB,wBACxBC,EAA2B,2BCF3BC,EAAa,uCAAG,WAAOnE,GAAP,eAAAf,EAAA,sEACTI,EAAQY,iBAAiB,CACzCxB,QAAS,CAAEmE,cAAe5C,KAFD,cACrBb,EADqB,yBAIpBA,GAJoB,2CAAH,sD,iBCuFXiF,G,OAjFI,WACjB,MAA0B9B,aAAY,SAACC,GAAD,OAAWA,EAAM8B,QAA/CC,EAAR,EAAQA,KAAMC,EAAd,EAAcA,QACRvE,EAAQsC,aAAY,SAACC,GAAD,OAAWA,EAAMvC,SACrCwE,EAAQlC,aAAY,SAACC,GAAD,OAAWA,EAAMiC,SAC3C,EAA8BnD,oBAAS,GAAvC,mBAAOC,EAAP,KAAgBa,EAAhB,KACMsC,EAAWC,cAEjBzB,QAAQC,IAAIsB,GAEZ3B,qBAAU,WACJ0B,IACFJ,EAAcnE,GAAO2E,MAAK,SAACxF,GACzBsF,EDX2B,SAACtF,GAClC,MAAO,CACLyF,KAAMX,EACNY,QAAS1F,EAAII,MCQAuF,CAAoB3F,OAE/BgD,GAAW,MAEZ,CAACnC,EAAOuE,EAASE,IAEpB,IAAMM,EAAY,uCAAG,WAAOzE,GAAP,eAAArB,EAAA,kEAEbqF,EAAKU,MAAQ1E,EAFA,gCAGQjB,EAAQmB,WAAR,UAAsBF,GAAM,CACjD7B,QAAS,CAAEmE,cAAe5C,KAJb,OAGT8C,EAHS,OAMfmC,IAAKC,KAAK,GAAV,UAAiBpC,EAASvD,KAAK4F,SAAW,WAAWR,MAAK,WACxD5B,OAAOqC,SAASC,KAAO,YAPV,uDAWjB,KAAIvC,SAASvD,KAAK4F,SAAWF,IAAKC,KAAK,OAAV,UAAqB,KAAIpC,SAASvD,KAAK4F,SAAW,SAX9D,yDAAH,sDAclB,OACE,cAAC,WAAD,UACG7D,EACC,cAAC,EAAD,IAEA,qBAAKN,UAAU,YAAf,SACE,wBAAOA,UAAU,YAAjB,UACE,gCACE,+BACE,oCACA,0CACA,uCACA,uCACA,6DAGJ,uCACGwD,QADH,IACGA,OADH,EACGA,EAAOc,KAAI,SAAChB,GAAD,OACV,+BACE,6BAAKA,EAAKU,MACV,6BAAKV,EAAKiB,OACV,6BAAKjB,EAAKkB,QACV,6BACiB,IAAdlB,EAAKmB,KACJ,mBAAGzE,UAAU,eAAeU,MAAM,UAElC,mBAAGV,UAAU,eAAeU,MAAM,WAGtC,+BACE,cAAC,IAAD,CAAMgE,GAAE,qBAAgBpB,EAAKU,KAA7B,SACE,mBAAGhE,UAAU,cAAcU,MAAM,WAEnC,mBACEV,UAAU,mBACVU,MAAM,SACNiE,QAAS,kBAAMZ,EAAaT,EAAKU,aAlB9BV,EAAKU,mBCsCfY,EAzFO,WACpB,IAAM5F,EAAQsC,aAAY,SAACC,GAAD,OAAWA,EAAMvC,SAC3C,EAAgCqB,mBAAS,IAAzC,mBAAOwE,EAAP,KAAiBC,EAAjB,KACA,EAA8BzE,oBAAS,GAAvC,mBAAOC,EAAP,KAAgBa,EAAhB,KAIAU,qBAAU,WACR,sBAAC,4BAAA5D,EAAA,+EAE0BgC,EAAyB,CAC9CxC,QAAS,CAAEmE,cAAe5C,KAH/B,OAES8C,EAFT,OAKGG,QAAQC,IAAIJ,EAASvD,MACrBuG,EAAYhD,EAASvD,MACrB4C,GAAW,GAPd,gDASGc,QAAQC,IAAR,MACAf,GAAW,GAVd,wDAAD,KAaC,CAACnC,IAEJ,IAAM+F,EAAmB,uCAAG,WAAOvD,EAAWY,GAAlB,SAAAnE,EAAA,sEAExBgE,QAAQC,IAAIV,EAAWY,GAFC,SAGlBnC,EAAA,UAA4BuB,GAAa,CAC7C/D,QAAS,CAAEmE,cAAe5C,KAJJ,OAOxBiF,IAAKC,KAAK,GAAI,iDAA4B,WAAWP,MAAK,WACxD5B,OAAOqC,SAASC,KAAO,YARD,gDAWxBpC,QAAQC,IAAR,MAXwB,yDAAH,wDAezB,OACE,cAAC,WAAD,UACG5B,EACC,cAAC,EAAD,IAEA,qBAAKN,UAAU,YAAf,SACE,wBAAOA,UAAU,YAAjB,UACE,gCACE,+BACE,oCACA,0CACA,yCACA,oDACA,qDACA,6DAGJ,uCACG6E,QADH,IACGA,OADH,EACGA,EAAUP,KAAI,SAAClD,GAAD,OACb,+BACE,6BAAKA,EAAQ4C,MACb,6BAAK5C,EAAQe,OACb,+BACGf,EAAQkB,UADX,OAC0BlB,EAAQmB,WAElC,6BAAKnB,EAAQwB,SACb,6BAAKxB,EAAQsB,cACb,qBAAI1C,UAAU,cAAd,UACE,cAAC,IAAD,CAAM0E,GAAE,+BAA0BtD,EAAQ4C,KAA1C,SACE,mBAAGhE,UAAU,iBAEK,cAAnBoB,EAAQwB,QACP,mBACE5C,UAAU,mBACVU,MAAM,SACNiE,QAAS,WACPI,EAAoB3D,EAAQ4C,IAAKhF,WAjBlCoC,EAAQ4C,kBC/DpBgB,EAAU,WAGnB,OAAO7H,EAAY0B,IADP,eAFHmG,EAAU,SAKT1F,GACV,IAAMC,EAAG,oBAAgBD,GACzB,OAAOnC,EAAY0B,IAAIU,IC2DZ0F,GA9DI,WACjB,IAAMnE,EAAW,IAAIC,KAAKC,aAAa,QAAS,CAC9CC,MAAO,WACPC,SAAU,QAEZ,EAA0Bb,mBAAS,IAAnC,mBAAO6E,EAAP,KAAcC,EAAd,KACA,EAA8B9E,oBAAS,GAAvC,mBAAOC,EAAP,KAAgBa,EAAhB,KAgBA,OAdAU,qBAAU,WACR,sBAAC,4BAAA5D,EAAA,+EAE0B+G,IAF1B,OAESlD,EAFT,OAGGG,QAAQC,IAAIJ,EAASvD,MACrB4G,EAASrD,EAASvD,MAClB4C,GAAW,GALd,gDAOGc,QAAQC,IAAR,MACAf,GAAW,GARd,wDAAD,KAWC,IAGD,cAAC,WAAD,UACGb,EACC,cAAC,EAAD,IAEA,qBAAKN,UAAU,YAAf,SACE,wBAAOA,UAAU,YAAjB,UACE,gCACE,+BACE,oCACA,iDACA,yCACA,2DACA,oDACA,6DAGJ,uCACGkF,QADH,IACGA,OADH,EACGA,EAAOZ,KAAI,SAACnC,GAAD,OACV,+BACE,6BAAKA,EAAK6B,MACV,6BAAK7B,EAAKoC,OACV,6BAAKzD,EAAS2B,OAAON,EAAKiD,SAC1B,6BAAKjD,EAAKkD,gBAAgBC,SAC1B,6BAAKnD,EAAKyB,OACV,oBAAI5D,UAAU,cAAd,SACE,cAAC,IAAD,CAAM0E,GAAE,4BAAuBvC,EAAK6B,KAApC,SACE,mBAAGhE,UAAU,qBARVmC,EAAK6B,kBCxCtBuB,GAAYC,IAAZD,QAuBOE,GArBD,WACZ,OACG,eAAC,WAAD,WACE,cAAC,EAAD,CAAU/E,MAAM,UAChB,qBAAKV,UAAU,OAAf,SACC,eAAC,IAAD,CAAM0F,iBAAiB,IAAvB,UACE,cAACH,GAAD,CAASI,IAAI,WAAb,SACE,cAAC,EAAD,KAD0B,KAG5B,cAACJ,GAAD,CAASI,IAAI,0BAAb,SACE,cAAC,EAAD,KAD4B,KAG9B,cAACJ,GAAD,CAASI,IAAI,WAAb,SACE,cAAC,GAAD,KADuB,cC6EpBC,GA7FI,SAAC,GAAe,IAAD,IAAZ/E,EAAY,EAAZA,MACdC,EAAW,IAAIC,KAAKC,aAAa,QAAS,CAC9CC,MAAO,WACPC,SAAU,QAEZ,EAA8Bb,oBAAS,GAAvC,mBAAOC,EAAP,KAAgBa,EAAhB,KACA,EAAwBd,mBAAS,IAAjC,mBAAO8B,EAAP,KAAa0D,EAAb,KAEMzD,EAASvB,EAAMY,OAAOnC,GAe5B,OAbAuC,qBAAU,WACR,sBAAC,4BAAA5D,EAAA,+EAE0B+G,EAAA,UAAuB5C,IAFjD,OAESN,EAFT,OAGG+D,EAAQ/D,EAASvD,MACjB4C,GAAW,GAJd,gDAMGA,GAAW,GACXc,QAAQC,IAAR,MAPH,wDAAD,KAUC,CAACE,IAGF,eAAC,WAAD,WACE,cAAC,EAAD,CAAU1B,MAAM,2BACfJ,EACC,cAAC,EAAD,IAEA,eAAC,WAAD,WACE,oBAAIN,UAAU,yBAAd,oCACA,sBAAKA,UAAU,YAAf,UACE,sBAAKA,UAAU,KAAf,UACE,6BAAKmC,EAAKoC,OACV,4BACE,yCAAYpC,EAAK6B,IAAjB,SAEF,4BACE,yCAASlD,EAAS2B,OAAON,EAAKiD,OAA9B,SAEF,4BACE,qDAAgBjD,EAAKyB,KAArB,SAEF,4BACE,oGAAiCzB,EAAKkD,gBAAgBC,OAAtD,uBAEF,sBAAKtF,UAAU,MAAf,UACE,mBAAGA,UAAU,OAAb,+BADF,UAEGmC,EAAK2D,iBAFR,aAEG,EAAgBxB,KAAI,SAACyB,GAAD,OACnB,qBAAe/F,UAAU,WAAzB,SACE,qBAAKA,UAAU,QAAQgG,IAAKD,EAAKE,IAAKF,KAD9BA,SAKd,mBAAG/F,UAAU,OAAb,SACE,gDAAWmC,EAAK+D,YAAhB,YAGJ,8BACmC,IAAhC/D,EAAKkD,gBAAgBC,OAAgB,GACpC,eAAC,WAAD,WACE,oBAAItF,UAAU,wBAAd,uDACA,qBAAKA,UAAU,KAAf,mBACGmC,EAAKkD,uBADR,aACG,EAAsBf,KAAI,SAAClD,GAAD,OACzB,eAAC,WAAD,WACE,4BACE,yCAAYA,EAAQI,UAApB,SAEF,4BACE,yCAAYJ,EAAQiB,OAApB,SAEF,4BACE,0CACYjB,EAAQkB,UADpB,gBAC4ClB,EAAQmB,aAGtD,4BACE,qDAAgBnB,EAAQwB,OAAxB,SAEF,8C,mBCjFXuD,GAAa,SAACC,GACvB,OAAQ,cAACC,GAAA,EAAD,CAAOC,QAAQ,SAAf,SAAyBF,KAGxBG,GAAiB,SAACH,GAC3B,OAAQ,cAACC,GAAA,EAAD,CAAOC,QAAQ,UAAf,SAA0BF,KC0BvBI,OA7Bf,WACI,IAAOC,EAAoBC,eAApBD,iBACP,EAAsBpG,mBAAS,IAA/B,mBAAOjC,EAAP,KAAYuI,EAAZ,KACA,EAA8BtG,mBAAS,IAAvC,mBAAOuG,EAAP,KAAgBC,EAAhB,KAkBA,OAhBAhF,qBAAU,WACH4E,GACsB,uCAAG,4BAAAxI,EAAA,+EAEEI,EAAQI,YAAa,CAACgI,qBAFxB,OAEVtI,EAFU,OAGhB0I,EAAW1I,EAAII,KAAK4F,SAHJ,gDAKhB,KAAIrC,SAASvD,KAAK4F,SAAWwC,EAAO,KAAI7E,SAASvD,KAAK4F,SALtC,yDAAH,oDAQrB2C,KAEN,CAACL,IAEHxE,QAAQC,IAAIuE,GAGR,sBAAKzG,UAAU,cAAf,UACK5B,GAAO+H,GAAW/H,GAClBwI,GAAWL,GAAeK,OC8DxBG,OAnFf,SAAqBC,GACnB,IAAQ1H,EAAOoH,eAAPpH,GACF2H,EAAUC,eAChB,EAAgC7G,mBAAS,IAAzC,mBAAO8G,EAAP,KAAiBC,EAAjB,KAEM5D,EAAQlC,aAAY,SAACC,GAAD,OAAWA,EAAMiC,SACrCxE,EAAQsC,aAAY,SAACC,GAAD,OAAWA,EAAMvC,SAE3C,EAAoCqB,oBAAS,GAA7C,mBAAOgH,EAAP,KAAmBC,EAAnB,KACA,EAAsBjH,mBAAS,GAA/B,mBAAOkH,EAAP,KAAYC,EAAZ,KAEA3F,qBAAU,WACa,IAAjB2B,EAAM8B,OACR9B,EAAMiE,SAAQ,SAACnE,GACTA,EAAKU,MAAQ1E,IACf8H,EAAY9D,GACZgE,EAA4B,IAAdhE,EAAKmB,UAIvBwC,EAAQS,KAAK,cAEd,CAAClE,EAAOlE,EAAI2H,IAEf,IAAMU,EAAY,uCAAG,4BAAA1J,EAAA,kEAEbsJ,EAAM,IAAM,EAFC,gCAGQlJ,EAAQgB,gBAAR,UAClB8H,EAASnD,KACZ,CACES,KAAM4C,EAAa,EAAI,GAEzB,CACE5J,QAAS,CAAEmE,cAAe5C,KATf,OAGT8C,EAHS,OAafmC,IAAKC,KAAK,GAAV,UAAiBpC,EAASvD,KAAK4F,SAAW,WAAWR,MAAK,WACxD5B,OAAOqC,SAASC,KAAO,cAEzBmD,EAAO,GAhBQ,uDAmBjB,KAAI1F,SAASvD,KAAK4F,SAAWF,IAAKC,KAAK,OAAV,UAAqB,KAAIpC,SAASvD,KAAK4F,SAAW,SAnB9D,yDAAH,qDA4BlB,OACE,eAAC,WAAD,WACE,cAAC,EAAD,CAAUzD,MAAM,4DAChB,qBAAKV,UAAU,yBAAf,SACA,sBAAKA,UAAU,SAAf,UACE,yFAEA,sBAAKA,UAAU,aAAf,UACE,uBAAO4H,QAAQ,OAAf,oBACA,uBAAOhE,KAAK,OAAOW,KAAK,OAAOsD,aAAcV,EAAS5C,KAAMuD,UAAQ,OAGtE,sBAAK9H,UAAU,aAAf,UACE,uBAAO4H,QAAQ,QAAf,mBACA,uBAAOhE,KAAK,QAAQW,KAAK,QAAQsD,aAAcV,EAAS3C,MAAOsD,UAAQ,OAGzE,sBAAK9H,UAAU,oBAAf,UACE,uBAAO4H,QAAQ,UAAf,qBACA,uBAAOhE,KAAK,WAAWtE,GAAG,UAAUyI,QAASV,EAAYW,SAxB7C,WAClBV,GAAeD,GACfG,EAAOD,EAAM,SAwBT,qBAAKvH,UAAU,oCAAf,SACE,wBAAQ2E,QAASgD,EAAjB,2C,iBClFGM,GAAU,SAAAC,GACnB,OAAIA,GAIKC,GAAU,SAAA3D,GAGnB,MADW,4JACD4D,KAAK5D,IAGN6D,GAAW,SAAAC,GACpB,OAAGA,EAAShD,OAAS,GAIZiD,GAAU,SAACD,EAAUE,GAC9B,OAAGF,IAAaE,GCmDLC,OA7Df,WACE,MAAwBpI,mBAAS,CAC/BmE,MAAO,GACPpG,IAAK,GACLwI,QAAS,KAHX,mBAAOrI,EAAP,KAAamK,EAAb,KAKA,EAA8BrI,oBAAS,GAAvC,mBAAOC,EAAP,KAAgBa,EAAhB,KACQqD,EAAwBjG,EAAxBiG,MAAOpG,EAAiBG,EAAjBH,IAAKwI,EAAYrI,EAAZqI,QAOd9H,EAAc,uCAAG,4BAAAb,EAAA,yDAChBkK,GAAQ3D,GADQ,yCACOkE,EAAQ,6BAAKnK,GAAN,IAAYH,IAAK,gCAAuBwI,QAAS,OAD/D,uBAInBzF,GAAW,GAJQ,SAKD9C,EAAQS,eAAe,CAAE0F,UALxB,OAKbrG,EALa,OAMnBuK,EAAQ,6BAAKnK,GAAN,IAAYH,IAAK,GAAIwI,QAASzI,EAAII,KAAK4F,WAC9ChD,GAAW,GAPQ,kDASnB,KAAIW,SAASvD,KAAK4F,SAChBuE,EAAQ,6BAAKnK,GAAN,IAAYH,IAAK,KAAI0D,SAASvD,KAAK4F,QAASyC,QAAS,MAC9DzF,GAAW,GAXQ,0DAAH,qDAepB,OACE,eAAC,WAAD,WACE,cAAC,EAAD,CAAUT,MAAM,+BACfJ,EACC,cAAC,EAAD,IAEA,sBAAKN,UAAU,UAAf,UACE,oBAAIA,UAAU,QAAd,yCAEA,sBAAKA,UAAU,MAAf,UACG5B,GAAO+H,GAAW/H,GAClBwI,GAAWL,GAAeK,GAE3B,uBAAOgB,QAAQ,QAAf,+CAGA,uBACEhE,KAAK,QACLW,KAAK,QACLjF,GAAG,QACH4I,MAAO1D,EACPwD,SAzCc,SAACW,GAAO,IAAD,EAC/B,EAAwBA,EAAEC,OAAlBrE,EAAR,EAAQA,KAAM2D,EAAd,EAAcA,MACdQ,EAAQ,6BAAKnK,GAAN,wBAAagG,EAAO2D,GAApB,qBAAgC,IAAhC,yBAA6C,IAA7C,MAwCGW,YAAY,0BAEd,wBAAQlE,QAAS7F,EAAjB,qE,+BCzDCgK,GAAgB,WAC3B,MAAO,CACLlF,KAAMf,IAIGkG,GAAS,uCAAG,WAAO/J,GAAP,eAAAf,EAAA,sEAELI,EAAQa,cAAc,CACtCzB,QAAS,CAAEmE,cAAe5C,KAHL,cAEjBb,EAFiB,yBAKhBA,GALgB,2CAAH,sDC0JP6K,GAxJD,WACZ,MAA8B3I,oBAAS,GAAvC,mBAAOC,EAAP,KAAgBa,EAAhB,KACA,EAAwBd,mBAAS,CAC/BmE,MAAO,GACP8D,SAAU,GACVlK,IAAK,GACLwI,QAAS,KAJX,mBAAOtD,EAAP,KAAa2F,EAAb,KAMMxF,EAAWC,cACXuD,EAAUC,eAER1C,EAAkClB,EAAlCkB,MAAO8D,EAA2BhF,EAA3BgF,SAAUlK,EAAiBkF,EAAjBlF,IAAKwI,EAAYtD,EAAZsD,QAExBsC,EAAoB,SAACP,GAAO,IAAD,EAC/B,EAAwBA,EAAEC,OAAlBrE,EAAR,EAAQA,KAAM2D,EAAd,EAAcA,MACde,EAAQ,6BAAK3F,GAAN,wBAAaiB,EAAO2D,GAApB,qBAAgC,IAAhC,yBAA6C,IAA7C,MAGHiB,EAAY,uCAAG,WAAOR,GAAP,eAAA1K,EAAA,6DACnB0K,EAAES,iBADiB,SAGjBjI,GAAW,GAHM,SAKC9C,EAAQM,MAAM,CAAE6F,QAAO8D,aALxB,OAKXnK,EALW,OAMjB8K,EAAQ,6BAAK3F,GAAN,IAAYlF,IAAK,GAAIwI,QAASzI,EAAIgG,WACzClC,QAAQC,IAAI/D,GACZgD,GAAW,GAGXkI,aAAaC,QAAQ,cAAc,GAEnC7F,EAASqF,MACT7B,EAAQS,KAAK,KAdI,kDAgBjB,KAAI5F,SAASvD,KAAK4F,SAChB8E,EAAQ,6BAAK3F,GAAN,IAAYlF,IAAK,KAAI0D,SAASvD,KAAK4F,QAASyC,QAAS,MAC9D2C,YAAW,kBAAMN,EAAQ,6BAAK3F,GAAN,IAAYlF,IAAK,KAAMwI,QAAS,QAAO,KAC/DzF,GAAW,GAnBM,0DAAH,sDAuBZqI,EAAc,uCAAG,WAAO1H,GAAP,eAAA7D,EAAA,+EAGDI,EAAQqB,YAAY,CACpCC,QAASmC,EAASnC,UAJD,OAGbxB,EAHa,OAOnB8K,EAAQ,6BAAK3F,GAAN,IAAYmG,MAAO,GAAI7C,QAASzI,EAAII,KAAK4F,WAChDkF,aAAaC,QAAQ,cAAc,GAEnC7F,EAASqF,MACT7B,EAAQS,KAAK,KAXM,kDAanB,KAAI5F,SAASvD,KAAK4F,SAChB8E,EAAQ,6BAAK3F,GAAN,IAAYlF,IAAK,KAAI0D,SAASvD,KAAK4F,QAASyC,QAAS,MAd3C,0DAAH,sDAkBd8C,EAAgB,uCAAG,WAAO5H,GAAP,mBAAA7D,EAAA,sEAEb4B,EAAwBiC,EAAxBjC,YAAaC,EAAWgC,EAAXhC,OAFA,SAIHzB,EAAQuB,cAAc,CACtCC,cACAC,WANmB,OAIf3B,EAJe,OASrB8K,EAAQ,6BAAK3F,GAAN,IAAYmG,MAAO,GAAI7C,QAASzI,EAAII,KAAK4F,WAChDkF,aAAaC,QAAQ,cAAc,GAEnC7F,EAASqF,MACT7B,EAAQS,KAAK,KAbQ,kDAerB,KAAI5F,SAASvD,KAAK4F,SAChB8E,EAAQ,6BAAK3F,GAAN,IAAYlF,IAAK,KAAI0D,SAASvD,KAAK4F,QAASyC,QAAS,MAhBzC,0DAAH,sDAoBtB,OACE,eAAC,WAAD,WACE,cAAC,EAAD,CAAUlG,MAAO,6BAChBJ,EACC,cAAC,EAAD,IAEA,sBAAKN,UAAU,aAAf,UACE,oBAAIA,UAAU,cAAd,sCACC5B,GAAO+H,GAAW/H,GAClBwI,GAAWL,GAAeK,GAE3B,uBAAM+C,SAAUR,EAAhB,UACE,gCACE,uBAAOvB,QAAQ,QAAf,mBACA,uBACEhE,KAAK,OACLiF,YAAY,wBACZvJ,GAAG,QACH4I,MAAO1D,EACPD,KAAK,QACLyD,SAAUkB,OAId,gCACE,uBAAOtB,QAAQ,WAAf,gCACA,uBACEhE,KAAK,WACLiF,YAAY,YACZvJ,GAAG,WACH4I,MAAOI,EACP/D,KAAK,WACLyD,SAAUkB,OAId,sBAAKlJ,UAAU,MAAf,UACE,wBAAQ4D,KAAK,SAAb,SACE,2DAEF,cAAC,IAAD,CAAMc,GAAG,mBAAmB1E,UAAU,6BAAtC,+CAMJ,qBAAKA,UAAU,iBAAf,yDAEA,sBAAKA,UAAU,SAAf,UACE,cAAC,eAAD,CACE4J,SAAS,0EACTC,WAAW,oBACXC,UAAWN,EACXO,aAAc,uBAGhB,cAAC,KAAD,CACEC,MAAM,kBACNC,UAAU,EACVC,OAAO,qBACPC,SAAUT,OAId,oBAAG1J,UAAU,cAAb,gDACqB,cAAC,IAAD,CAAM0E,GAAG,YAAT,iECzJlB0F,GAAY,SACR7L,EAAKS,GAEd,OAAO7B,EAAYqB,KADR,qBACkBD,EAAKS,IC+N3BqL,GA1NC,WACd,MAAqC/I,aAAY,SAACC,GAAD,OAAWA,EAAM8B,QAA1DC,EAAR,EAAQA,KAAMC,EAAd,EAAcA,QAAS+G,EAAvB,EAAuBA,UACjBtL,EAAQsC,aAAY,SAACC,GAAD,OAAWA,EAAMvC,SAE3C,EAAwBqB,mBAAS,CAC/BkE,KAAM,GACN+D,SAAU,GACVE,YAAa,GACbpK,IAAK,GACLwI,QAAS,KALX,mBAAOrI,EAAP,KAAamK,EAAb,KAOQnE,EAA8ChG,EAA9CgG,KAAM+D,EAAwC/J,EAAxC+J,SAAUE,EAA8BjK,EAA9BiK,YAAapK,EAAiBG,EAAjBH,IAAKwI,EAAYrI,EAAZqI,QAE1C,EAA4BvG,oBAAS,GAArC,mBAAOkK,EAAP,KAAeC,EAAf,KACA,EAA8BnK,oBAAS,GAAvC,mBAAOC,EAAP,KAAgBa,EAAhB,KAEMsJ,EAAe,SAAC9B,GAAO,IAAD,EAC1B,EAAwBA,EAAEC,OAAlBrE,EAAR,EAAQA,KAAM2D,EAAd,EAAcA,MACdQ,EAAQ,6BAAKnK,GAAN,wBAAagG,EAAO2D,GAApB,qBAAgC,IAAhC,yBAA6C,IAA7C,MAGHwC,EAAY,uCAAG,WAAO/B,GAAP,mBAAA1K,EAAA,yDACnB0K,EAAES,iBADiB,SAGXuB,EAAOhC,EAAEC,OAAOgC,MAAM,GAHX,uBAMfrB,YAAW,kBAAMb,EAAQ,6BAAKnK,GAAN,IAAYH,IAAK,KAAMwI,QAAS,UAAS,MANlD,kBAOR8B,EAAQ,6BACVnK,GADS,IAEZH,IAAK,yEACLwI,QAAS,OAVI,YAcb+D,EAAKnK,KAAO,SAdC,uBAef+I,YAAW,kBAAMb,EAAQ,6BAAKnK,GAAN,IAAYH,IAAK,KAAMwI,QAAS,UAAS,MAflD,kBAgBR8B,EAAQ,6BAAKnK,GAAN,IAAYH,IAAK,mCAAoBwI,QAAS,OAhB7C,UAmBC,eAAd+D,EAAK/G,MAAuC,cAAd+G,EAAK/G,KAnBtB,wBAoBf2F,YAAW,kBAAMb,EAAQ,6BAAKnK,GAAN,IAAYH,IAAK,KAAMwI,QAAS,UAAS,MApBlD,kBAqBR8B,EAAQ,6BACVnK,GADS,IAEZH,IAAK,uDACLwI,QAAS,OAxBI,eA4BbiE,EAAW,IAAIC,UACVC,OAAO,OAAQJ,GACxBxJ,GAAW,GA9BM,UA+BCiJ,GAAuBS,EAAU,CACjDpN,QAAS,CACP,eAAgB,sBAChBmE,cAAe5C,KAlCF,QA+BXb,EA/BW,OAsCjBgD,GAAW,GACXqJ,EAAUrM,EAAII,KAAKgB,KAvCF,kDAyCjBmJ,EAAQ,6BAAKnK,GAAN,IAAYH,IAAK,KAAI0D,SAASvD,KAAK6H,IAAKQ,QAAS,MACxD2C,YAAW,kBAAMb,EAAQ,CAAEtK,IAAK,KAAMwI,QAAS,SAAS,KA1CvC,0DAAH,sDA0GlB,OACE,eAAC,WAAD,WACE,cAAC,EAAD,CAAUlG,MAAM,+BACf4J,EACC,cAAC,EAAD,IAEA,eAAC,WAAD,WACE,gCACGlM,GAAO+H,GAAW/H,GAClBwI,GAAWL,GAAeK,GAC1BtG,GAAW,gDAEd,qBAAKN,UAAU,+BAAf,SACE,sBAAKA,UAAU,SAAf,UACE,6BAAKuD,EAAU,gBAAkB,+BAEjC,sBAAKvD,UAAU,SAAf,UACE,qBAAKgG,IAAKuE,GAAkBjH,EAAKiH,OAAQtE,IAAI,KAC7C,iCACE,mBAAGjG,UAAU,kBACb,mDACA,uBAAO4D,KAAK,OAAOW,KAAK,OAAOjF,GAAG,UAAU0I,SAAU0C,UAI1D,sBAAK1K,UAAU,aAAf,UACE,uBAAO4H,QAAQ,OAAf,4BACA,uBACEhE,KAAK,OACLW,KAAK,OACLjF,GAAG,OACHuI,aAAcvE,EAAKiB,KACnBsE,YAAY,YACZb,SAAUyC,OAId,sBAAKzK,UAAU,aAAf,UACE,uBAAO4H,QAAQ,QAAf,mBACA,uBACEhE,KAAK,QACLW,KAAK,QACLjF,GAAG,QACHuI,aAAcvE,EAAKkB,MACnBqE,YAAY,qBACZf,UAAQ,OAIZ,sBAAK9H,UAAU,aAAf,UACE,uBAAO4H,QAAQ,WAAf,yCACA,uBACEhE,KAAK,WACLW,KAAK,WACLjF,GAAG,WACHuJ,YAAY,gBACZX,MAAOI,EACPN,SAAUyC,OAId,sBAAKzK,UAAU,aAAf,UACE,uBAAO4H,QAAQ,cAAf,0DACA,uBACEhE,KAAK,WACLW,KAAK,cACLjF,GAAG,cACHuJ,YAAY,mBACZX,MAAOM,EACPR,SAAUyC,OAId,8BACE,oBAAIxJ,MAAO,CAAEV,MAAO,WAApB,kMAIF,qBAAKP,UAAU,qCAAf,SACE,wBAAQ8H,SAAUxH,EAASqE,QApFpB,YACfJ,GAAQgG,IAxDM,WAClB,IACElM,EAAQc,WACN,CACEoF,KAAMA,GAAcjB,EAAKiB,KACzBgG,OAAQA,GAAkBjH,EAAKiH,QAEjC,CACE9M,QAAS,CAAEmE,cAAe5C,KAI9B0J,EAAQ,6BAAKnK,GAAN,IAAYH,IAAK,GAAIwI,QAAS,uDACrC3C,IAAKC,KAAK,GAAI,oDAAkC,WAAWP,MAAK,WAC9D5B,OAAOqC,SAASC,KAAO,cAEzB,MAAOjG,GACPsK,EAAQ,6BAAKnK,GAAN,IAAYH,IAAKA,EAAI0D,SAASvD,KAAK6H,IAAKQ,QAAS,MACxD2C,YAAW,kBAAMb,EAAQ,6BAAKnK,GAAN,IAAYH,IAAK,GAAIwI,QAAS,QAAO,MAsC3CoE,GAChB1C,GAnCiB,WACrB,GAAID,GAASC,GAEX,OADAiB,YAAW,kBAAMb,EAAQ,6BAAKnK,GAAN,IAAYH,IAAK,KAAMwI,QAAS,UAAS,MAC1D8B,EAAQ,6BACVnK,GADS,IAEZH,IAAK,gEACLwI,QAAS,MAIb,IAAK2B,GAAQD,EAAUE,GAErB,OADAe,YAAW,kBAAMb,EAAQ,6BAAKnK,GAAN,IAAYH,IAAK,KAAMwI,QAAS,UAAS,MAC1D8B,EAAQ,6BAAKnK,GAAN,IAAYH,IAAK,yCAAwBwI,QAAS,MAGlE,IACEvI,EAAQU,cACN,CAAEuJ,YACF,CACE7K,QAAS,CAAEmE,cAAe5C,KAI9B0J,EAAQ,6BAAKnK,GAAN,IAAYH,IAAK,GAAIwI,QAAS,uDACrC3C,IAAKC,KAAK,GAAI,oDAAkC,WAAWP,MAAK,WAC9D5B,OAAOqC,SAASC,KAAO,cAEzB,MAAOjG,GACPsK,EAAQ,6BAAKnK,GAAN,IAAYH,IAAKA,EAAI0D,SAASvD,KAAK6H,IAAKQ,QAAS,MACxD2C,YAAW,kBAAMb,EAAQ,6BAAKnK,GAAN,IAAYH,IAAK,KAAMwI,QAAS,QAAO,MAMnDqE,IAkFF,8CCtFDC,GA1HE,WACf,MAA8B7K,oBAAS,GAAvC,mBAAOC,EAAP,KAAgBa,EAAhB,KACA,EAAwBd,mBAAS,CAC/BkE,KAAM,GACNC,MAAO,GACP8D,SAAU,GACVE,YAAa,GACbpK,IAAK,GACLwI,QAAS,KANX,mBAAOtD,EAAP,KAAa2F,EAAb,KASQ1E,EAAqDjB,EAArDiB,KAAMC,EAA+ClB,EAA/CkB,MAAO8D,EAAwChF,EAAxCgF,SAAUE,EAA8BlF,EAA9BkF,YAAapK,EAAiBkF,EAAjBlF,IAAKwI,EAAYtD,EAAZsD,QAE3CsC,EAAoB,SAACP,GAAO,IAAD,EAC/B,EAAwBA,EAAEC,OAAlBrE,EAAR,EAAQA,KAAM2D,EAAd,EAAcA,MACde,EAAQ,6BAAK3F,GAAN,wBAAaiB,EAAO2D,GAApB,qBAAgC,IAAhC,yBAA6C,IAA7C,MAIHiB,EAAY,uCAAG,WAAOR,GAAP,eAAA1K,EAAA,yDACnB0K,EAAES,kBACEnB,GAAQ1D,KAAS0D,GAAQK,GAFV,yCAGVW,EAAQ,6BAAK3F,GAAN,IAAYlF,IAAK,wEAAmCwI,QAAS,OAH1D,UAKduB,GAAQ3D,GALM,yCAKSyE,EAAQ,6BAAK3F,GAAN,IAAYlF,IAAK,qCAAuBwI,QAAS,OALjE,WAOfyB,GAASC,GAPM,yCAQVW,EAAQ,6BAAK3F,GAAN,IAAYlF,IAAK,sDAA6BwI,QAAS,OARpD,UAUd2B,GAAQD,EAAUE,GAVJ,yCAWVS,EAAQ,6BAAK3F,GAAN,IAAYlF,IAAK,yCAAwBwI,QAAS,OAX/C,uBAajBzF,GAAW,GAbM,UAeC9C,EAAQC,SAAS,CACjCiG,OACAC,QACA8D,aAlBe,QAeXnK,EAfW,OAqBjB8K,EAAQ,6BAAK3F,GAAN,IAAYlF,IAAK,GAAIwI,QAASzI,EAAII,KAAK4F,WAC9ChD,GAAW,GAtBM,kDAwBjB,KAAIW,SAASvD,KAAK4F,SAChB8E,EAAQ,6BAAK3F,GAAN,IAAYlF,IAAK,KAAI0D,SAASvD,KAAK4F,QAASyC,QAAS,MAC9D2C,YAAW,kBAAMN,EAAQ,6BAAK3F,GAAN,IAAYlF,IAAK,KAAMwI,QAAS,QAAO,KA1B9C,0DAAH,sDA6BlB,OACE,eAAC,WAAD,WACE,cAAC,EAAD,CAAUlG,MAAO,yBAChBJ,EACC,cAAC,EAAD,IAEA,sBAAKN,UAAU,aAAf,UACE,oBAAIA,UAAU,cAAd,kCACC5B,GAAO+H,GAAW/H,GAClBwI,GAAWL,GAAeK,GAE3B,uBAAM+C,SAAUR,EAAhB,UACE,gCACE,uBAAOvB,QAAQ,OAAf,sBACA,uBACEhE,KAAK,OACLiF,YAAY,qBACZvJ,GAAG,OACH4I,MAAO3D,EACPA,KAAK,OACLyD,SAAUkB,OAId,gCACE,uBAAOtB,QAAQ,QAAf,mBACA,uBACEhE,KAAK,OACLiF,YAAY,oBACZvJ,GAAG,QACH4I,MAAO1D,EACPD,KAAK,QACLyD,SAAUkB,OAId,gCACE,uBAAOtB,QAAQ,WAAf,gCACA,uBACEhE,KAAK,WACLiF,YAAY,YACZvJ,GAAG,WACH4I,MAAOI,EACP/D,KAAK,WACLyD,SAAUkB,OAId,gCACE,uBAAOtB,QAAQ,cAAf,iDACA,uBACEhE,KAAK,WACLiF,YAAY,YACZvJ,GAAG,cACH4I,MAAOM,EACPjE,KAAK,cACLyD,SAAUkB,OAId,qBAAKlJ,UAAU,MAAf,SACE,wBAAQ4D,KAAK,SAAb,SAAsB,4DAI1B,oBAAG5D,UAAU,cAAb,iDACmB,cAAC,IAAD,CAAM0E,GAAG,SAAT,qDC9CdyG,OAtEf,WACE,IAAQnM,EAAU0H,eAAV1H,MACR,EAAwBqB,mBAAS,CAC/BiI,SAAU,GACVE,YAAa,GACbpK,IAAK,GACLwI,QAAS,KAJX,mBAAOrI,EAAP,KAAamK,EAAb,KAOQJ,EAAwC/J,EAAxC+J,SAAUE,EAA8BjK,EAA9BiK,YAAapK,EAAiBG,EAAjBH,IAAKwI,EAAYrI,EAAZqI,QAE9BsC,EAAoB,SAACP,GAAO,IAAD,EAC/B,EAAwBA,EAAEC,OAAlBrE,EAAR,EAAQA,KAAM2D,EAAd,EAAcA,MACdQ,EAAQ,6BAAKnK,GAAN,wBAAagG,EAAO2D,GAApB,qBAAgC,IAAhC,yBAA6C,IAA7C,MAGHkD,EAAe,uCAAG,4BAAAnN,EAAA,0DAClBoK,GAASC,GADS,yCAEbI,EAAQ,6BAAKnK,GAAN,IAAYH,IAAK,gEAAkCwI,QAAS,OAFtD,UAIjB2B,GAAQD,EAAUE,GAJD,yCAKbE,EAAQ,6BAAKnK,GAAN,IAAYH,IAAK,yCAAwBwI,QAAS,OAL5C,gCAQFvI,EAAQU,cACxB,CAAEuJ,YACF,CACE7K,QAAS,CAAEmE,cAAe5C,KAXV,cAQdb,EARc,yBAebuK,EAAQ,6BAAKnK,GAAN,IAAYH,IAAK,GAAIwI,QAASzI,EAAII,KAAK4F,YAfjC,kCAiBpB,KAAIrC,SAASvD,KAAK4F,SAChBuE,EAAQ,6BAAKnK,GAAN,IAAYH,IAAK,KAAI0D,SAASvD,KAAK4F,QAASyC,QAAS,MAlB1C,0DAAH,qDAsBrB,OACE,sBAAK5G,UAAU,UAAf,UACE,6FAEA,sBAAKA,UAAU,MAAf,UACG5B,GAAO+H,GAAW/H,GAClBwI,GAAWL,GAAeK,GAE3B,uBAAOgB,QAAQ,WAAf,gCACA,uBACEhE,KAAK,WACLW,KAAK,WACLjF,GAAG,WACH4I,MAAOI,EACPN,SAAUkB,IAGZ,uBAAOtB,QAAQ,cAAf,iDACA,uBACEhE,KAAK,WACLW,KAAK,cACLjF,GAAG,cACH4I,MAAOM,EACPR,SAAUkB,IAGZ,wBAAQvE,QAASyG,EAAjB,SAAkC,mF,4DCC3BC,I,OAjEF,SAAC,GAAkC,IAAD,EAA/BlJ,EAA+B,EAA/BA,KAAMG,EAAyB,EAAzBA,UAAWC,EAAc,EAAdA,QACzBzB,EAAW,IAAIC,KAAKC,aAAa,QAAS,CAC9CC,MAAO,WACPC,SAAU,QAEN+F,EAAUC,eAChB,EAAwB7G,oBAAS,GAAjC,mBAAOiL,EAAP,KAAaC,EAAb,KACA,EAA0BlL,mBAAS,IAAnC,mBAAOmL,EAAP,KAAcC,EAAd,KAeA,OACE,mCACE,sBAAKzL,UAAU,SAAS0L,WAAS,UAAjC,UACE,qBAAK1L,UAAU,gBAAf,SACE,qBAAKgG,IAAK7D,EAAK2D,UAAU,GAAIG,IAAK9D,EAAKoC,KAAMvE,UAAU,iBAEzD,sBAAKA,UAAU,gBAAf,UACE,6BAAKmC,EAAKoC,OACV,kDAAezD,EAAS2B,OAAON,EAAKiD,OAApC,cACA,qDAAgBjD,EAAKyB,QACrB,oBAAGS,KAAK,KAAKM,QAtBF,kBAAM4G,GAAQ,IAsBzB,+BACgB,QAEhB,qBAAKvL,UAAU,8BAAf,SACE,wBAAQA,UAAU,WAAW2E,QAxBnB,WACbrC,GAAcC,EAMjB0E,EAAQS,KAAR,gBAAsBvF,EAAK6B,IAA3B,YAAkC1B,EAAlC,YAA+CC,KAL/CkJ,EAAS,mCACTlC,YAAW,WACTkC,EAAS,QACR,QAmBG,sCAKF,eAACE,GAAA,EAAD,CAAOL,KAAMA,EAAMM,OAhCP,kBAAML,GAAQ,IAgCc/K,KAAK,KAA7C,UACE,cAACmL,GAAA,EAAME,OAAP,CAAcC,aAAW,EAAzB,SACE,4BAAI3J,EAAKoC,SAEX,eAACoH,GAAA,EAAMI,KAAP,WACE,cAACC,GAAA,EAAD,oBACG7J,EAAK2D,iBADR,aACG,EAAgBxB,KAAI,SAACyB,GAAD,OACnB,cAACiG,GAAA,EAASC,KAAV,UACE,qBAAKjM,UAAU,gBAAgBgG,IAAKD,EAAKE,IAAKF,KAD5BA,QAKxB,uBAAM/F,UAAU,OAAhB,UACE,gDADF,IACkBmC,EAAK+D,wBAK5BsF,GAASrF,GAAWqF,UC7CdU,GAlBA,WACb,OACE,yBAASlM,UAAU,SAAnB,SACE,sBAAKA,UAAU,mBAAf,UACE,kEACA,2PAKA,mBAAGqE,KAAK,QAAQrE,UAAU,WAA1B,qCCFAmM,I,OAAgBC,KAAhBD,aAqJOE,GAnJF,WACX,MAA8BhM,oBAAS,GAAvC,mBAAOC,EAAP,KAAgBa,EAAhB,KACA,EAA0Bd,mBAAS,IAAnC,mBAAO6E,EAAP,KAAcC,EAAd,KACA,EAA0C9E,mBAAS,IAAnD,mBAAOiM,EAAP,KAAsBC,EAAtB,KACA,EAAoClM,mBAAS,IAA7C,mBAAOmM,EAAP,KAAmBC,EAAnB,KACA,EAAoCpM,mBAAS,OAA7C,mBAAOqM,EAAP,KAAmBC,EAAnB,KACMC,EAAmBC,iBAAO,MAEhC,EAAkCxM,mBAAS,IAA3C,mBAAOiC,EAAP,KAAkBwK,EAAlB,KACA,EAA8BzM,mBAAS,IAAvC,mBAAOkC,EAAP,KAAgBwK,EAAhB,KAEAlL,qBAAU,WACR,sBAAC,4BAAA5D,EAAA,+EAE0B+G,IAF1B,OAESlD,EAFT,OAGGqD,EAASrD,EAASvD,MAClBgO,EAAiBzK,EAASvD,MAC1B4C,GAAW,GACXY,OAAOC,SAAS,EAAG,GANtB,kDAQGC,QAAQC,IAAR,MACAf,GAAW,GATd,yDAAD,KAYC,IAmEH,OACE,eAAC,WAAD,WACE,cAAC,EAAD,CAAUT,MAAM,mBACfJ,EACC,cAAC,EAAD,IAEA,eAAC,WAAD,WACE,cAAC,GAAD,IACA,sBAAKN,UAAU,YAAYV,GAAG,OAA9B,UACE,oBAAIU,UAAU,yBAAd,yCACA,sBAAKA,UAAU,SAASV,GAAG,gBAA3B,UACE,qBAAKU,UAAU,WAAWV,GAAG,aAA7B,SACE,cAAC6M,GAAD,CACE1J,OAAO,aACPuK,aAjDhB,SAAsBC,GACpB,OAAOA,GAAWA,EAAQC,UAAYC,OAASC,MAAM,QAiDvCpF,SA/EK,SAACqF,GACpB,GAAKA,EAAL,CACApL,QAAQC,IAAIiL,KAAOE,EAAM,IAAI5K,OAAO,eACpCR,QAAQC,IAAIiL,KAAOE,EAAM,IAAI5K,OAAO,eACpCqK,EAAaO,EAAM,GAAG5K,OAAO,eAC7BsK,EAAWM,EAAM,GAAG5K,OAAO,eAE3B,IAP8B,EAO1B6K,EAAY,GAPc,eAWXhB,GAXW,IAW9B,2BAAkC,CAAC,IAAxBnK,EAAuB,QAEhC,GAAIA,EAAKkD,gBAAgBC,OAAS,EAAG,sBAEbnD,EAAKkD,iBAFQ,IAEnC,2BAA4C,CAAC,IAAlCjE,EAAiC,QAC1Ca,QAAQC,IAAId,IAHqB,+BAQwB,IAAhCe,EAAKkD,gBAAgBC,QAChDgI,EAAU5F,KAAKvF,IAtBW,qCAkFpB,qBAAKnC,UAAU,WAAf,SACE,uBACE4D,KAAK,OACL5D,UAAU,eACV6I,YAAY,sBACZX,MAAOsE,EACPxE,SAvDW,SAACW,GAC1B8D,EAAc9D,EAAEC,OAAOV,OACvB,IAAMqF,EAAe5E,EAAEC,OAAOV,MAAMsF,OAAOC,cACtCF,IAGDX,EAAiBK,SACnBS,aAAad,EAAiBK,SAGhCL,EAAiBK,QAAU1D,YAAW,WACpC,IAAMpH,EAAOmK,EAAcqB,QAAO,SAACxL,GACjC,OAAOA,EAAKoC,KAAKkJ,cAAcG,SAASL,MAE1CpI,EAAShD,KACR,WA2CO,qBAAKnC,UAAU,WAAf,SACE,yBACEA,UAAU,cACVkI,MAAOwE,EACP1E,SAAU,SAACW,GAAD,OA5CD,SAACA,GAGxB,GAFAgE,EAAchE,GACd1G,QAAQC,IAAIyG,GACF,QAANA,EAAa,CACf,IAAMxG,EAAOmK,EAAcqB,QAAO,SAACxL,GACjC,OAAOA,EAAKyB,KAAK6J,gBAAkB9E,EAAE8E,iBAEvCtI,EAAShD,QAETgD,EAASmH,GAmCoBuB,CAAiBlF,EAAEC,OAAOV,QAH7C,UAKE,wBAAQA,MAAM,MAAd,8BACA,wBAAQA,MAAM,WAAd,sBACA,wBAAQA,MAAM,QAAd,2BAKN,qBAAKlI,UAAU,kCAAf,gBACGkF,QADH,IACGA,OADH,EACGA,EAAOZ,KAAI,SAACnC,GACX,OACE,qBAAoBnC,UAAU,gBAA9B,SACE,cAAC,GAAD,CAAMmC,KAAMA,EAAMG,UAAWA,EAAWC,QAASA,KADzCJ,EAAK6B,oBClClB8J,I,OArGK,SAAC,GAAe,IAAbjN,EAAY,EAAZA,MACfC,EAAW,IAAIC,KAAKC,aAAa,QAAS,CAC9CC,MAAO,WACPC,SAAU,QAEJoC,EAAShC,aAAY,SAACC,GAAD,OAAWA,EAAM8B,QAAtCC,KACFtE,EAAQsC,aAAY,SAACC,GAAD,OAAWA,EAAMvC,SAC3C,EAAwBqB,mBAAS,IAAjC,mBAAO8B,EAAP,KAAa0D,EAAb,KACA,EAA8BxF,oBAAS,GAAvC,mBAAOC,EAAP,KAAgBa,EAAhB,KACA,EAA0Bd,mBAAS,MAAnC,mBAAOoJ,EAAP,KAAcsE,EAAd,KACA,EAA8B1N,oBAAS,GAAvC,mBAAO2N,EAAP,KAAgBC,EAAhB,KACM7L,EAASvB,EAAMY,OAAOnC,GACtBgD,EAAY6K,KAAOtM,EAAMY,OAAOa,UAAW,cAC3CC,EAAU4K,KAAOtM,EAAMY,OAAOc,QAAS,cAEvCC,EAAY2K,KAAOe,SAAS3L,EAAQ4L,KAAK7L,IAAY8L,SACvD1L,EAAcF,EAAYL,EAAKiD,MAEnCvD,qBAAU,WACR,sBAAC,4BAAA5D,EAAA,sEAEGkD,GAAW,GAFd,SAG0B6D,EAAA,UAAuB5C,IAHjD,OAGSN,EAHT,OAIG+D,EAAQ/D,EAASvD,MACjB4C,GAAW,GACXY,OAAOC,SAAS,EAAG,GANtB,kDAQG+L,EAAS,KAAMjM,SAASvD,KAAK4F,SAC7BhD,GAAW,GATd,yDAAD,KAYC,CAACiB,IAEJ,IAAMiM,EAAa,uCAAG,4BAAApQ,EAAA,6DACdqQ,EAAgB,CACpBnM,OACAE,OAAQiB,EAAKU,IACb1B,YACAC,UACAG,cACAF,UAAW+L,OAAO/L,IAPA,kBAUZvC,EAA6BqO,EAAe,CAChD7Q,QAAS,CAAEmE,cAAe5C,KAXV,OAalBiP,GAAW,GACXhK,IAAKC,KAAK,oBAAa,0CAAwB,WAAWP,MAAK,WAC7D5B,OAAOqC,SAASC,KAAO,OAfP,gDAkBlBpC,QAAQC,IAAR,MACA+B,IAAKC,KAAK,OAAQ,yCAAmB,SAnBnB,yDAAH,qDAuBnB,OACE,eAAC,WAAD,WACE,cAAC,EAAD,CAAUxD,MAAM,2BACfJ,EACC,cAAC,EAAD,IACEmJ,EACFtD,GAAWsD,GAEX,qBAAKzJ,UAAU,aAAf,SACE,sBAAKA,UAAU,cAAc0L,WAAS,YAAtC,UACE,sBAAK1L,UAAU,gBAAf,UACE,6BAAKmC,EAAKoC,OACV,qBAAKyB,IAAK7D,EAAK2D,UAAU,GAAIG,IAAK9D,EAAKoC,KAAMvE,UAAU,wBAEzD,sBAAKA,UAAU,8BAAf,UACE,oBAAIA,UAAU,GAAd,kDACA,uBACA,8BACE,yCAASsD,EAAKiB,KAAd,OACA,6DAAqB1D,EAAMY,OAAOa,UAAlC,OACA,4DAAoBzB,EAAMY,OAAOc,QAAjC,OACA,kDAAeJ,EAAKiD,MAApB,iBAGF,2CACA,uBACA,8BACE,oDAAe5C,EAAf,cACA,0DAAoBL,EAAKiD,MAAzB,OACA,sDAAetE,EAAS2B,OAAOC,SAGjC,qBAAK1C,UAAU,iBAAf,SACE,wBAAQA,UAAU,cAAc8H,SAAUkG,EAASrJ,QAAS0J,EAA5D,0CCjGHG,GAAgB,uCAAG,WAAOxP,GAAP,eAAAf,EAAA,sEACZgC,EAA8B,CAC9CxC,QAAS,CAAEmE,cAAe5C,KAFE,cACxBb,EADwB,yBAIvBA,GAJuB,2CAAH,sDCwFdsQ,GAnFG,WAChB,IAAMzP,EAAQsC,aAAY,SAACC,GAAD,OAAWA,EAAMvC,SAC3C,EAA8BsC,aAAY,SAACC,GAAD,OAAWA,EAAMH,WAAnDyD,EAAR,EAAQA,SAAUvE,EAAlB,EAAkBA,QAEZmD,EAAWC,cAEjB7B,qBAAU,WACJ7C,GACFwP,GAAiBxP,GAAO2E,MAAK,SAACxF,GAC5BsF,EDP8B,SAACtF,GACrC,MAAO,CACLyF,KAAMV,EACNW,QAAS1F,EAAII,MCIAmQ,CAAuBvQ,SAGnC,CAACa,EAAOyE,IAEX,IAAMkL,EAAmB,uCAAG,WAAOC,EAAUxM,GAAjB,eAAAnE,EAAA,sEAExBgE,QAAQC,IAAI0M,EAAUxM,GAFE,SAIhBnC,EAAyB,CAAE2O,WAAUxM,UAAU,CAAE3E,QAAS,CAAEmE,cAAe5C,KAJ3D,8BAKtBT,KALsB,OAGlBuD,EAHkB,OAMxBmC,IAAKC,KAAK,GAAV,UAAiBpC,EAASqC,SAAW,WAAWR,MAAK,WACnD5B,OAAOqC,SAASC,KAAO,gBAPD,kDAUxBpC,QAAQC,IAAR,MAVwB,0DAAH,wDAczB,OACE,eAAC,WAAD,WACE,cAAC,EAAD,CAAUxB,MAAM,eACfJ,EACC,cAAC,EAAD,IAEA,cAAC,WAAD,UACuB,IAApBuE,EAASS,OACR,oBAAItF,UAAU,mBAAd,mCAEA,8BACE,qBAAKA,UAAU,YAAf,SACE,qBAAKA,UAAU,MAAf,gBACG6E,QADH,IACGA,OADH,EACGA,EAAUP,KAAI,SAAClD,GAAD,OACb,sBAAKpB,UAAU,cAAc0L,WAAS,UAAtC,UACE,6BAAKtK,EAAQe,OACb,4BACE,4CAAef,EAAQ4C,IAAvB,SAEF,4BACE,0CAAa5C,EAAQkB,UAArB,SAEF,4BACE,2CAAclB,EAAQmB,QAAtB,SAEF,4BACE,yCAAYnB,EAAQsB,YAApB,SAEF,4BACE,yCAA+B,WAAnBtB,EAAQwB,OAAsB,YAAc,SAAxD,SAEkB,cAAnBxB,EAAQwB,QACP,qBAAK5C,UAAU,6BAAf,SACE,wBACEA,UAAU,eACV2E,QAAS,WACPgK,EAAoBvN,EAAQ4C,IAAK5C,EAAQgB,SAH7C,gCAnB+ChB,EAAQ4C,oBCvClE6K,OARf,WACI,OACI,mDCyCOC,GA5BA,WACb,IAAMzL,EAAO/B,aAAY,SAACC,GAAD,OAAWA,EAAM8B,QAClC0L,EAAsB1L,EAAtB0L,SAAUxL,EAAYF,EAAZE,QAClB,OACE,cAAC,KAAD,UACE,eAAC,WAAD,WAEE,cAAC,KAAD,CAAOyL,KAAK,SAASC,UAAWjG,GAAOkG,OAAK,IAC5C,cAAC,KAAD,CAAOF,KAAK,YAAYC,UAAW/D,GAAUgE,OAAK,IAClD,cAAC,KAAD,CAAOF,KAAK,mBAAmBC,UAAWF,EAAWF,GAAWpG,GAAgByG,OAAK,IACrF,cAAC,KAAD,CAAOF,KAAK,kCAAkCC,UAAW9D,GAAe+D,OAAK,IAC7E,cAAC,KAAD,CAAOF,KAAK,uCAAuCC,UAAWzI,GAAiB0I,OAAK,IACpF,cAAC,KAAD,CAAOF,KAAK,WAAWC,UAAWF,EAAW1E,GAAUwE,GAAUK,OAAK,IACtE,cAAC,KAAD,CAAOF,KAAK,iBAAiBC,UAAW1L,EAAUwD,GAAc8H,GAAUK,OAAK,IAE/E,cAAC,KAAD,CAAOF,KAAK,IAAIC,UAAW5C,GAAM6C,OAAK,IACtC,cAAC,KAAD,CAAOF,KAAK,gCAAgCC,UAAWF,EAAWjB,GAAc9E,GAAOkG,OAAK,IAC5F,cAAC,KAAD,CAAOF,KAAK,aAAaC,UAAWR,GAAWS,OAAK,IAGpD,cAAC,KAAD,CAAOF,KAAK,SAASC,UAAW1L,EAAUkC,GAAQoJ,GAAUK,OAAK,IACjE,cAAC,KAAD,CAAOF,KAAK,4BAA4BC,UAAW1L,EAAU3C,EAAgBiO,GAAUK,OAAK,IAC5F,cAAC,KAAD,CAAOF,KAAK,yBAAyBC,UAAW1L,EAAUqC,GAAaiJ,GAAUK,OAAK,U,mBCyD/ErD,OA3Ff,WACE,IAAMxI,EAAO/B,aAAY,SAACC,GAAD,OAAWA,EAAM8B,QAElCC,EAAmBD,EAAnBC,KAAMyL,EAAa1L,EAAb0L,SAEdhN,OAAOoN,SAAW,WACZC,SAASC,KAAKC,WAAa,KAAOF,SAASG,gBAAgBD,WAAa,IAC1EF,SAASI,cAAc,UAAUC,UAAUC,IAAI,UAE/CN,SAASI,cAAc,UAAUC,UAAUE,OAAO,UAEhDP,SAASI,cAAc,oBACrBJ,SAASC,KAAKC,WAAa,KAAOF,SAASG,gBAAgBD,WAAa,IAC1EF,SAASI,cAAc,kBAAkBC,UAAUC,IAAI,UAC9CN,SAASC,KAAKC,UAAY,KAAOF,SAASG,gBAAgBD,UAAY,MAC/EF,SAASI,cAAc,kBAAkBC,UAAUE,OAAO,WAKhE,IAAMC,EAAY,uCAAG,sBAAA3R,EAAA,+EAEXI,EAAQO,SAFG,OAGjByK,aAAawG,WAAW,cACxB9N,OAAOqC,SAASC,KAAO,IAJN,gDAMjBtC,OAAOqC,SAASC,KAAO,IANN,yDAAH,qDA2ClB,OACE,iCACE,cAACyL,GAAA,EAAD,CAAQC,OAAO,KAAf,SACE,sBAAK/P,UAAU,YAAf,UACE,cAAC8P,GAAA,EAAOE,MAAR,CAAc3L,KAAK,IAAnB,SACE,oBAAIrE,UAAU,YAAd,2BAEF,cAAC8P,GAAA,EAAOG,OAAR,CAAeC,gBAAc,iBAC7B,eAACJ,GAAA,EAAOK,SAAR,CAAiB7Q,GAAG,eAAeU,UAAU,GAA7C,UACE,oBAAIA,UAAU,oCACd,oBAAIA,UAAU,SAAd,SACG+O,EA1CT,qBAAI/O,UAAU,WAAd,UACE,eAAC,IAAD,CAAM0E,GAAG,IAAI1E,UAAU,SAAvB,UACE,qBAAKgG,IAAK1C,EAAKiH,OAAQtE,IAAI,KAC3B,iCACG3C,EAAKiB,KADR,OAEE,mBAAGvE,UAAU,4BAGjB,qBAAIA,UAAU,WAAd,UACGsD,GAAsB,IAAdA,EAAKmB,KACZ,6BACE,cAAC,IAAD,CAAMC,GAAG,aAAT,uBAGF,6BACE,cAAC,IAAD,CAAMA,GAAG,SAAT,qBAGJ,6BACE,cAAC,IAAD,CAAMA,GAAG,WAAT,6BAEF,6BACE,cAAC,IAAD,CAAMA,GAAG,IAAIC,QAASiL,EAAtB,8CAuBI,6BACE,eAAC,IAAD,CAAMlL,GAAG,SAAT,UACE,mBAAG1E,UAAU,gBADf,8CChCHoQ,OA1Cf,WACE,IAAM3M,EAAWC,cACX1E,EAAQsC,aAAY,SAACC,GAAD,OAAWA,EAAMvC,SACnC+P,EAAazN,aAAY,SAACC,GAAD,OAAWA,EAAM8B,QAA1C0L,SAyBR,OAxBAlN,qBAAU,WACWwH,aAAagH,QAAQ,eAExB,uCAAG,4BAAApS,EAAA,sEACGI,EAAQK,iBADX,OACTP,EADS,OAEfsF,EAAS,CAAEG,KAAM,YAAaC,QAAS1F,EAAII,KAAK+R,eAFjC,2CAAH,oDAIdC,KAED,CAACxB,EAAUtL,IAEd5B,qBAAU,WACR,GAAI7C,EAAO,CAEPyE,EAASqF,MAEFC,GAAU/J,GAAO2E,MAAK,SAACxF,GAC5BsF,EfdqB,SAACtF,GAC9B,MAAO,CACLyF,KAAMZ,EACNa,QAAS,CACPP,KAAMnF,EAAII,KACVgF,QAAgC,IAAvBpF,EAAII,KAAK+E,KAAKmB,OeSV+L,CAAgBrS,UAK9B,CAACa,EAAOyE,IAGT,cAAC,IAAD,UACE,sBAAKzD,UAAU,MAAf,UACE,cAAC,GAAD,IACA,qBAAMA,UAAU,6BAAhB,SACE,cAAC,GAAD,MAGF,cAAC,EAAD,U,mBC5CFyQ,GAAe,CACnBnN,KAAM,GACNyL,UAAU,EACVxL,SAAS,EACT+G,WAAW,GA6BEoG,GA1BK,WAAmC,IAAlCnP,EAAiC,uDAAzBkP,GAAcE,EAAW,uCACpD,OAAQA,EAAO/M,MACb,KAAKf,EACH,OAAO,6BACFtB,GADL,IAEEwN,UAAU,IAEd,KAAKhM,EACH,OAAO,6BACFxB,GADL,IAGE+I,WAAW,IAEf,KAAKtH,EACH,OAAO,6BACFzB,GADL,IAEE+B,KAAMqN,EAAO9M,QAAQP,KAAKA,KAC1BC,QAASoN,EAAO9M,QAAQN,QACxB+G,WAAW,IAGf,QACE,OAAO/I,ICjBEqP,GAVM,WAA2B,IAAzBrP,EAAwB,uDAFjC,GAEuBoP,EAAU,uCAC3C,OAAOA,EAAO/M,MACV,KAAKd,EACD,OAAO6N,EAAO9M,QAClB,QACI,OAAOtC,ICPbiC,GAAO,GAWEqN,GATM,WAA4B,IAA3BtP,EAA0B,uDAAlBiC,GAAOmN,EAAW,uCAC5C,OAAOA,EAAO/M,MACV,KAAKX,EACD,OAAO0N,EAAO9M,QAClB,QACI,OAAOtC,ICPbkP,GAAe,CACnB5L,SAAU,GACVvE,SAAS,GAiBIoQ,GAdK,WAAmC,IAAlCnP,EAAiC,uDAAzBkP,GAAcE,EAAW,uCACpD,OAAQA,EAAO/M,MACb,KAAKV,EACH,OAAO,6BACF3B,GADL,IAEEjB,SAAS,EACTuE,SAAU8L,EAAO9M,UAGrB,QACE,OAAOtC,ICVEuP,gBAAgB,CAC3BzN,QACArE,SACAwE,SACApC,aCNE2P,GAAQC,aAAYC,GACtBlP,OAAOmP,8BAAgCnP,OAAOmP,gCAWnCC,OARf,YAAmC,IAAZC,EAAW,EAAXA,SACnB,OACI,cAAC,IAAD,CAAUL,MAAOA,GAAjB,SACKK,KCHbC,IAAIC,KAAK,CACPpD,SAAU,MAEZqD,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,UACE,cAAC,GAAD,QAGJrC,SAASsC,eAAe,W","file":"static/js/main.293594b1.chunk.js","sourcesContent":["import axios from 'axios'\r\nimport queryString from 'query-string'\r\n\r\nconst axiosClient = axios.create({\r\n    baseURL: process.env.REACT_APP_API_URL,\r\n    headers: {\r\n        'content-type' : 'application/json'\r\n    },\r\n    paramsSerializer: prams => queryString.stringify(prams),\r\n})\r\n\r\n\r\naxiosClient.interceptors.request.use(async(config) =>{\r\n    return config\r\n})\r\naxiosClient.interceptors.request.use(async(res) =>{\r\n    // if(res && res.data){\r\n    //     return res.data\r\n    // }\r\n    return res\r\n},(err)=>{\r\n    throw err\r\n})\r\n\r\nexport default axiosClient","import axiosClient from './axiosClient';\r\n\r\nconst userApi = {\r\n  register(data) {\r\n    const url = '/api/auth/register';\r\n    return axiosClient.post(url, data);\r\n  },\r\n  activeEmail(data) {\r\n    const url = '/api/auth/activation';\r\n    return axiosClient.post(url, data);\r\n  },\r\n  getAccessToken() {\r\n    const url = '/api/auth/refresh_token';\r\n    return axiosClient.post(url);\r\n  },\r\n  login(data) {\r\n    const url = '/api/auth/login';\r\n    return axiosClient.post(url, data);\r\n  },\r\n  logout() {\r\n    const url = '/api/auth/logout';\r\n    return axiosClient.get(url);\r\n  },\r\n  forgotPassword(data) {\r\n    const url = '/api/auth/forgot-password';\r\n    return axiosClient.post(url, data);\r\n  },\r\n  resetPassword(data, token) {\r\n    const url = '/api/auth/reset-password';\r\n    return axiosClient.post(url, data, token);\r\n  },\r\n  getUsersAllInfor(data) {\r\n    const url = '/api/auth/all_infor';\r\n    return axiosClient.get(url, data);\r\n  },\r\n  getUsersInfor(data) {\r\n    const url = '/api/auth/infor';\r\n    return axiosClient.get(url, data);\r\n  },\r\n  updateUser(data, token) {\r\n    const url = '/api/auth/update';\r\n    return axiosClient.put(url, data, token);\r\n  },\r\n  updateUsersRole(id, data, token) {\r\n    const url = `/api/auth/update_role/${id}`;\r\n    return axiosClient.put(url, data, token);\r\n  },\r\n  deleteUser(id, token) {\r\n    const url = `/api/auth/delete/${id}`;\r\n    return axiosClient.delete(url, token);\r\n  },\r\n  // Socail\r\n  loginGoogle(tokenId) {\r\n    const url = '/api/auth/google_login';\r\n    return axiosClient.post(url, tokenId);\r\n  },\r\n  loginFacebook(accessToken, userID) {\r\n    const url = '/api/auth/facebook_login';\r\n    return axiosClient.post(url, accessToken, userID);\r\n  },\r\n};\r\n\r\nexport default userApi;\r\n","import React, { Fragment } from 'react';\r\nimport './Footer.css'\r\n\r\nconst Footer = () => {\r\n    return (\r\n        <Fragment>\r\n            <footer className=\"py-2\">\r\n                <p className=\"text-center mt-1\">\r\n                    Booking App &copy; 2021 by Nguyen Tinh\r\n               </p>\r\n            </footer>\r\n        </Fragment>\r\n    );\r\n}\r\n\r\nexport default Footer;","import axiosClient from './axiosClient';\r\n\r\nexport const bookingApi = {\r\n  createBookingRoom(data, token) {\r\n    const url = '/api/booking';\r\n    return axiosClient.post(url, data, token);\r\n  },\r\n  getAllBooking(token) {\r\n    const url = '/api/bookings';\r\n    return axiosClient.get(url, token);\r\n  },\r\n  getBookingById(id, token) {\r\n    const url = `/api/booking/${id}`;\r\n    return axiosClient.get(url, token);\r\n  },\r\n  getBookingByUserId(token) {\r\n    const url = '/api/bookingbyid';\r\n    return axiosClient.get(url, token);\r\n  },\r\n  cancelBooking(data, token) {\r\n    const url = '/api/cancelbooking';\r\n    return axiosClient.post(url, data, token);\r\n  },\r\n  deleteBooking(id,data ,token) {\r\n    const url = `/api/booking/${id}`;\r\n    return axiosClient.delete(url,data ,token);\r\n  },\r\n\r\n};\r\n","import { useState } from 'react';\r\nimport { css } from '@emotion/react';\r\nimport FadeLoader from 'react-spinners/FadeLoader';\r\n\r\n// Can be a string as well. Need to ensure each key-value pair ends with ;\r\nconst override = css`\r\n  display: block;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  margin-top: 20%;\r\n  padding-left: 0;\r\n`;\r\n\r\nconst Loader = () => {\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  return (\r\n    <div className=\"sweet-loading text-center\">\r\n      <FadeLoader color=\"#333\" loading={loading} css={override} size={40} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loader;\r\n","import React from 'react';\r\nimport { Helmet } from 'react-helmet';\r\n\r\nconst MetaData = ({title}) => {\r\n    return (\r\n        <div>\r\n            <Helmet>\r\n                <title> {`${title}`} </title>\r\n            </Helmet>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MetaData;","import { bookingApi } from 'api/bookingApi';\r\nimport Loader from 'components/utils/Loader';\r\nimport MetaData from 'components/utils/MetaData';\r\nimport React, { Fragment, useCallback, useEffect, useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst BookingDetail = ({ match }) => {\r\n  const formater = new Intl.NumberFormat('vi-VN', {\r\n    style: 'currency',\r\n    currency: 'VND',\r\n  });\r\n  const [loading, setLoading] = useState(true);\r\n  const [booking, setBooking] = useState([]);\r\n  const token = useSelector((state) => state.token);\r\n\r\n  const bookingId = match.params.id;\r\n\r\n  const getBooking = useCallback(async () => {\r\n    return await bookingApi.getBookingById(`${bookingId}`, {\r\n      headers: { Authorization: token },\r\n    });\r\n  }, [token, bookingId]);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const response = await getBooking();\r\n        setBooking(response.data);\r\n        setLoading(false);\r\n        window.scrollTo(0, 0);\r\n      } catch (error) {\r\n        setLoading(false);\r\n        console.log(error);\r\n      }\r\n    })();\r\n  }, [getBooking]);\r\n\r\n  return (\r\n    <Fragment>\r\n      <MetaData title=\"Chi tiết đặt phòng\" />\r\n      {loading ? (\r\n        <Loader />\r\n      ) : (\r\n        <Fragment>\r\n          <h1 className=\"text-center mt-3 title\">Chi tiết đặt phòng</h1>\r\n          <div className=\"container\">\r\n            <div className=\"bs\">\r\n              <h5>{booking.room}</h5>\r\n              <p>\r\n                <b>RoomId: {booking.roomId} </b>\r\n              </p>\r\n              <p>\r\n                <b>UserId: {booking.userId} </b>\r\n              </p>\r\n              <p>\r\n                <b>\r\n                  CheckIn: {booking.startDate} - CheckOut: {booking.endDate}\r\n                </b>\r\n              </p>\r\n              <p>\r\n                <b>Tổng ngày: {booking.totalDays}/ngày </b>\r\n              </p>\r\n              <p>\r\n                <b>Tổng tiền: {formater.format(booking.totalAmount)} </b>\r\n              </p>\r\n              <p>\r\n                <b>TransactionId: {booking.transactionId} </b>\r\n              </p>\r\n              <p>\r\n                <b>\r\n                  Status:\r\n                  {booking.status === 'booked' ? (\r\n                    <span className=\"badge bg-success\">Hoàn thành</span>\r\n                  ) : (\r\n                    <span className=\"badge bg-danger\">Hủy phòng</span>\r\n                  )}\r\n                </b>\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </Fragment>\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default BookingDetail;\r\n","export const LOGIN = 'LOGIN'\r\nexport const GET_TOKEN = 'GET_TOKEN'\r\nexport const GET_USER_REQUEST = 'GET_USER_REQUEST'\r\nexport const GET_USER_SUCCESS = 'GET_USER_SUCCESS'\r\nexport const GET_ALL_USERS_SUCCESS = 'GET_ALL_USERS_SUCCESS'\r\nexport const GET_BOOKING_USER_SUCCESS = 'GET_BOOKING_USER_SUCCESS'\r\nexport const GET_BOOKING_USER_FAIL = 'GET_BOOKING_USER_FAIL'\r\n","import userApi from 'api/userApi';\r\nimport { GET_ALL_USERS_SUCCESS } from 'redux/contants';\r\n\r\nexport const fetchAllUsers = async (token) => {\r\n  const res = await userApi.getUsersAllInfor({\r\n    headers: { Authorization: token },\r\n  });\r\n  return res;\r\n};\r\n\r\nexport const dispatchGetAllUsers = (res) => {\r\n  return {\r\n    type: GET_ALL_USERS_SUCCESS,\r\n    payload: res.data,\r\n  };\r\n};\r\n","import userApi from 'api/userApi';\r\nimport Loader from 'components/utils/Loader';\r\nimport React, { Fragment, useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { dispatchGetAllUsers, fetchAllUsers } from 'redux/actions/userAction';\r\nimport Swal from 'sweetalert2';\r\nimport \"./Admin.css\"\r\n\r\nconst GetAllUser = () => {\r\n  const { user, isAdmin } = useSelector((state) => state.auth);\r\n  const token = useSelector((state) => state.token);\r\n  const users = useSelector((state) => state.users);\r\n  const [loading, setLoading] = useState(true);\r\n  const dispatch = useDispatch();\r\n\r\n  console.log(users);\r\n\r\n  useEffect(() => {\r\n    if (isAdmin) {\r\n      fetchAllUsers(token).then((res) => {\r\n        dispatch(dispatchGetAllUsers(res));\r\n      });\r\n      setLoading(false);\r\n    }\r\n  }, [token, isAdmin, dispatch]);\r\n\r\n  const handleDelete = async (id) => {\r\n    try {\r\n      if (user._id !== id) {\r\n        const response = await userApi.deleteUser(`${id}`, {\r\n          headers: { Authorization: token },\r\n        });\r\n        Swal.fire('', `${response.data.message}`, 'success').then(() => {\r\n          window.location.href = '/admin';\r\n        });\r\n      }\r\n    } catch (err) {\r\n      err.response.data.message && Swal.fire('Oops', `${err.response.data.message}`, 'error');\r\n    }\r\n  };\r\n  return (\r\n    <Fragment>\r\n      {loading ? (\r\n        <Loader />\r\n      ) : (\r\n        <div className=\"container\">\r\n          <table className=\"customers\">\r\n            <thead>\r\n              <tr>\r\n                <th>ID</th>\r\n                <th>Nickname</th>\r\n                <th>Email</th>\r\n                <th>Admin</th>\r\n                <th>Hành động</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {users?.map((user) => (\r\n                <tr key={user._id}>\r\n                  <td>{user._id}</td>\r\n                  <td>{user.name}</td>\r\n                  <td>{user.email}</td>\r\n                  <td>\r\n                    {user.role === 1 ? (\r\n                      <i className=\"fas fa-check\" title=\"Admin\"></i>\r\n                    ) : (\r\n                      <i className=\"fas fa-times\" title=\"User\"></i>\r\n                    )}\r\n                  </td>\r\n                  <td>\r\n                    <Link to={`/edit_user/${user._id}`}>\r\n                      <i className=\"fas fa-edit\" title=\"Edit\"></i>\r\n                    </Link>\r\n                    <i\r\n                      className=\"fas fa-trash-alt\"\r\n                      title=\"Remove\"\r\n                      onClick={() => handleDelete(user._id)}\r\n                    ></i>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default GetAllUser;\r\n","import { bookingApi } from 'api/bookingApi';\r\nimport Loader from 'components/utils/Loader';\r\nimport React, { Fragment, useEffect, useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport Swal from 'sweetalert2';\r\nimport './Admin.css';\r\n\r\nconst GetAllBooking = () => {\r\n  const token = useSelector((state) => state.token);\r\n  const [bookings, setBookings] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const response = await bookingApi.getAllBooking({\r\n          headers: { Authorization: token },\r\n        });\r\n        console.log(response.data);\r\n        setBookings(response.data);\r\n        setLoading(false);\r\n      } catch (error) {\r\n        console.log(error);\r\n        setLoading(false);\r\n      }\r\n    })();\r\n  }, [token]);\r\n\r\n  const handleDeleteBooking = async (bookingId, roomId) => {\r\n    try {\r\n      console.log(bookingId, roomId);\r\n      await bookingApi.deleteBooking(`${bookingId}`, {\r\n        headers: { Authorization: token },\r\n      });\r\n\r\n      Swal.fire('', 'Xóa đặt phòng thành công', 'success').then(() => {\r\n        window.location.href = '/admin';\r\n      });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      {loading ? (\r\n        <Loader />\r\n      ) : (\r\n        <div className=\"container\">\r\n          <table className=\"customers\">\r\n            <thead>\r\n              <tr>\r\n                <th>ID</th>\r\n                <th>Phòng</th>\r\n                <th>Ngày</th>\r\n                <th>Trạng thái</th>\r\n                <th>Tổng tiền</th>\r\n                <th>Hành động</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {bookings?.map((booking) => (\r\n                <tr key={booking._id}>\r\n                  <td>{booking._id}</td>\r\n                  <td>{booking.room}</td>\r\n                  <td>\r\n                    {booking.startDate} to {booking.endDate}\r\n                  </td>\r\n                  <td>{booking.status}</td>\r\n                  <td>{booking.totalAmount}</td>\r\n                  <td className=\"text-center\">\r\n                    <Link to={`admin/booking-detail/${booking._id}`}>\r\n                      <i className=\"fas fa-eye\"></i>\r\n                    </Link>\r\n                    {booking.status === 'cancelled' && (\r\n                      <i\r\n                        className=\"fas fa-trash-alt\"\r\n                        title=\"Remove\"\r\n                        onClick={() => {\r\n                          handleDeleteBooking(booking._id, token);\r\n                        }}\r\n                      ></i>\r\n                    )}\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default GetAllBooking;\r\n","import axiosClient from './axiosClient';\r\n\r\nexport const roomApi = {\r\n  getAllRooms() {\r\n    const url = '/api/rooms';\r\n    return axiosClient.get(url);\r\n  },\r\n  getRoomById(id) {\r\n    const url = `/api/room/${id}`;\r\n    return axiosClient.get(url);\r\n  },\r\n};\r\n","import { roomApi } from 'api/roomApi';\r\nimport Loader from 'components/utils/Loader';\r\nimport React, { Fragment, useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './Admin.css';\r\n\r\nconst GetAllRoom = () => {\r\n  const formater = new Intl.NumberFormat('vi-VN', {\r\n    style: 'currency',\r\n    currency: 'VND',\r\n  });\r\n  const [rooms, setRooms] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const response = await roomApi.getAllRooms();\r\n        console.log(response.data);\r\n        setRooms(response.data);\r\n        setLoading(false);\r\n      } catch (error) {\r\n        console.log(error);\r\n        setLoading(false);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  return (\r\n    <Fragment>\r\n      {loading ? (\r\n        <Loader />\r\n      ) : (\r\n        <div className=\"container\">\r\n          <table className=\"customers\">\r\n            <thead>\r\n              <tr>\r\n                <th>ID</th>\r\n                <th>Tên phòng</th>\r\n                <th>Giá </th>\r\n                <th>SL đặt phòng</th>\r\n                <th>Loại phòng</th>\r\n                <th>Hành động</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {rooms?.map((room) => (\r\n                <tr key={room._id}>\r\n                  <td>{room._id}</td>\r\n                  <td>{room.name}</td>\r\n                  <td>{formater.format(room.price)}</td>\r\n                  <td>{room.currentBookings.length}</td>\r\n                  <td>{room.type}</td>\r\n                  <td className=\"text-center\">\r\n                    <Link to={`admin/room-detail/${room._id}`}>\r\n                      <i className=\"fas fa-eye\"></i>\r\n                    </Link>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default GetAllRoom;\r\n","import React, { Fragment } from 'react';\r\nimport { Tabs } from 'antd';\r\nimport GetAllUser from './GetAllUser';\r\nimport GetAllBooking from './GetAllBooking';\r\nimport MetaData from 'components/utils/MetaData';\r\nimport GetAllRoom from './GetAllRoom';\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nconst Admin = () => {\r\n  return (\r\n     <Fragment>\r\n       <MetaData title=\"Admin\"/>\r\n       <div className=\"mt-3\">\r\n        <Tabs defaultActiveKey=\"1\">\r\n          <TabPane tab=\"Bookings\" key=\"1\">\r\n            <GetAllBooking/>\r\n          </TabPane>\r\n          <TabPane tab=\"Người dùng\" key=\"2\">\r\n            <GetAllUser />\r\n          </TabPane>\r\n          <TabPane tab=\"Phòng\" key=\"3\">\r\n            <GetAllRoom />\r\n          </TabPane>\r\n        </Tabs>\r\n      </div>\r\n     </Fragment>\r\n  );\r\n};\r\n\r\nexport default Admin;\r\n","import { roomApi } from 'api/roomApi';\r\nimport Loader from 'components/utils/Loader';\r\nimport MetaData from 'components/utils/MetaData';\r\nimport React, { Fragment, useEffect, useState } from 'react';\r\n\r\nconst RoomDetail = ({ match }) => {\r\n  const formater = new Intl.NumberFormat('vi-VN', {\r\n    style: 'currency',\r\n    currency: 'VND',\r\n  });\r\n  const [loading, setLoading] = useState(true);\r\n  const [room, setRoom] = useState([]);\r\n\r\n  const roomId = match.params.id;\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const response = await roomApi.getRoomById(`${roomId}`);\r\n        setRoom(response.data);\r\n        setLoading(false);\r\n      } catch (error) {\r\n        setLoading(false);\r\n        console.log(error);\r\n      }\r\n    })();\r\n  }, [roomId]);\r\n\r\n  return (\r\n    <Fragment>\r\n      <MetaData title=\"Chi tiết phòng\" />\r\n      {loading ? (\r\n        <Loader />\r\n      ) : (\r\n        <Fragment>\r\n          <h1 className=\"text-center mt-3 title\">Chi tiết phòng</h1>\r\n          <div className=\"container\">\r\n            <div className=\"bs\">\r\n              <h5>{room.name}</h5>\r\n              <p>\r\n                <b>RoomId: {room._id} </b>\r\n              </p>\r\n              <p>\r\n                <b>Giá: {formater.format(room.price)} </b>\r\n              </p>\r\n              <p>\r\n                <b>Loại phòng: {room.type} </b>\r\n              </p>\r\n              <p>\r\n                <b>Số lượng đặt phòng hiện tại: {room.currentBookings.length} đặt </b>\r\n              </p>\r\n              <div className=\"row\">\r\n                <b className=\"mb-3\">Ảnh phòng</b>\r\n                {room.imageUrls?.map((img) => (\r\n                  <div key={img} className=\"col-md-4\">\r\n                    <img className=\"w-100\" src={img} alt={img} />\r\n                  </div>\r\n                ))}\r\n              </div>\r\n              <p className=\"mt-3\">\r\n                <b>Mô tả: {room.description} </b>\r\n              </p>\r\n            </div>\r\n            <div>\r\n              {room.currentBookings.length === 0 ? ('') : (\r\n                <Fragment>\r\n                  <h3 className=\"text-center title m-3\">Đặt phòng hiện tại</h3>\r\n                  <div className=\"bs\">\r\n                    {room.currentBookings?.map((booking) => (\r\n                      <Fragment>\r\n                        <p>\r\n                          <b>RoomId: {booking.bookingId} </b>\r\n                        </p>\r\n                        <p>\r\n                          <b>UserId: {booking.userId} </b>\r\n                        </p>\r\n                        <p>\r\n                          <b>\r\n                            CheckIn: {booking.startDate} - CheckOut: {booking.endDate}\r\n                          </b>\r\n                        </p>\r\n                        <p>\r\n                          <b>Trạng thái: {booking.status} </b>\r\n                        </p>\r\n                        <hr />\r\n                      </Fragment>\r\n                    ))}\r\n                  </div>\r\n                </Fragment>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </Fragment>\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default RoomDetail;\r\n","import React from 'react'\r\nimport { Alert } from 'react-bootstrap'\r\n\r\nexport const showErrMsg = (msg) => {\r\n    return  <Alert variant=\"danger\">{msg}</Alert>\r\n}\r\n\r\nexport const showSuccessMsg = (msg) => {\r\n    return  <Alert variant=\"success\">{msg}</Alert>\r\n}","import userApi from 'api/userApi'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\nimport { showErrMsg, showSuccessMsg } from '../utils/Notification'\r\n\r\nfunction ActivationEmail() {\r\n    const {activation_token} = useParams()\r\n    const [err, setErr] = useState('')\r\n    const [success, setSuccess] = useState('')\r\n\r\n    useEffect(() => {\r\n        if(activation_token){\r\n            const activationEmail = async () => {\r\n                try {\r\n                    const res = await userApi.activeEmail( {activation_token})\r\n                    setSuccess(res.data.message)\r\n                } catch (err) {\r\n                    err.response.data.message && setErr(err.response.data.message)\r\n                }\r\n            }\r\n            activationEmail()\r\n        }\r\n    },[activation_token])\r\n\r\n    console.log(activation_token);\r\n\r\n    return (\r\n        <div className=\"active_page\">\r\n            {err && showErrMsg(err)}\r\n            {success && showSuccessMsg(success)}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ActivationEmail","import userApi from 'api/userApi';\r\nimport MetaData from 'components/utils/MetaData';\r\nimport React, { Fragment, useEffect, useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport Swal from 'sweetalert2';\r\n\r\n\r\nfunction EditProfile(props) {\r\n  const { id } = useParams();\r\n  const history = useHistory();\r\n  const [editUser, setEditUser] = useState([]);\r\n\r\n  const users = useSelector((state) => state.users);\r\n  const token = useSelector((state) => state.token);\r\n\r\n  const [checkAdmin, setCheckAdmin] = useState(false);\r\n  const [num, setNum] = useState(0);\r\n\r\n  useEffect(() => {\r\n    if (users.length !== 0) {\r\n      users.forEach((user) => {\r\n        if (user._id === id) {\r\n          setEditUser(user);\r\n          setCheckAdmin(user.role === 1 ? true : false);\r\n        }\r\n      });\r\n    } else {\r\n      history.push('/profile');\r\n    }\r\n  }, [users, id, history]);\r\n\r\n  const handleUpdate = async () => {\r\n    try {\r\n      if (num % 2 !== 0) {\r\n        const response = await userApi.updateUsersRole(\r\n          `${editUser._id}`,\r\n          {\r\n            role: checkAdmin ? 1 : 0,\r\n          },\r\n          {\r\n            headers: { Authorization: token },\r\n          }\r\n        );\r\n\r\n        Swal.fire('', `${response.data.message}`, 'success').then(() => {\r\n          window.location.href = '/profile';\r\n        });\r\n        setNum(0);\r\n      }\r\n    } catch (err) {\r\n      err.response.data.message && Swal.fire('Oops', `${err.response.data.message}`, 'error');\r\n    }\r\n  };\r\n\r\n  const handleCheck = () => {\r\n    setCheckAdmin(!checkAdmin);\r\n    setNum(num + 1);\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <MetaData title=\"Cập nhật thông tin người dùng\"/>\r\n      <div className=\"profile_page edit_user\">\r\n      <div className=\"m-auto\">\r\n        <h2>Cập nhật thông tin người dùng</h2>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"name\">Tên</label>\r\n          <input type=\"text\" name=\"name\" defaultValue={editUser.name} disabled />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"email\">Email</label>\r\n          <input type=\"email\" name=\"email\" defaultValue={editUser.email} disabled />\r\n        </div>\r\n\r\n        <div className=\"form-group d-flex\">\r\n          <label htmlFor=\"isAdmin\">isAdmin</label>\r\n          <input type=\"checkbox\" id=\"isAdmin\" checked={checkAdmin} onChange={handleCheck} />\r\n        </div>\r\n        <div className=\"d-flex justify-content-center m-3\">\r\n          <button onClick={handleUpdate}>Cập nhật</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n \r\n    </Fragment>\r\n    );\r\n}\r\n\r\nexport default EditProfile;\r\n","export const isEmpty = value => {\r\n    if(!value) return true\r\n    return false\r\n}\r\n\r\nexport const isEmail = email => {\r\n    // eslint-disable-next-line\r\n    const re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    return re.test(email);\r\n}\r\n\r\nexport const isLength = password => {\r\n    if(password.length < 6) return true\r\n    return false\r\n}\r\n\r\nexport const isMatch = (password, cf_password) => {\r\n    if(password === cf_password) return true\r\n    return false\r\n}","import userApi from 'api/userApi';\r\nimport Loader from 'components/utils/Loader';\r\nimport MetaData from 'components/utils/MetaData';\r\nimport React, { Fragment, useState } from 'react';\r\nimport { showErrMsg, showSuccessMsg } from '../utils/Notification';\r\nimport { isEmail } from '../utils/Validation';\r\n\r\nfunction ForgotPassword() {\r\n  const [data, setData] = useState({\r\n    email: '',\r\n    err: '',\r\n    success: '',\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const { email, err, success } = data;\r\n\r\n  const handleChangeInput = (e) => {\r\n    const { name, value } = e.target;\r\n    setData({ ...data, [name]: value, err: '', success: '' });\r\n  };\r\n\r\n  const forgotPassword = async () => {\r\n    if (!isEmail(email)) return setData({ ...data, err: 'Xin mời nhập email.', success: '' });\r\n\r\n    try {\r\n      setLoading(true);\r\n      const res = await userApi.forgotPassword({ email });\r\n      setData({ ...data, err: '', success: res.data.message });\r\n      setLoading(false);\r\n    } catch (err) {\r\n      err.response.data.message &&\r\n        setData({ ...data, err: err.response.data.message, success: '' });\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <MetaData title=\"Quên mật khẩu\" />\r\n      {loading ? (\r\n        <Loader />\r\n      ) : (\r\n        <div className=\"fg_pass\">\r\n          <h2 className=\"title\">Quên mật khẩu?</h2>\r\n\r\n          <div className=\"row\">\r\n            {err && showErrMsg(err)}\r\n            {success && showSuccessMsg(success)}\r\n\r\n            <label htmlFor=\"email\">\r\n              Nhập email của bạn\r\n            </label>\r\n            <input\r\n              type=\"email\"\r\n              name=\"email\"\r\n              id=\"email\"\r\n              value={email}\r\n              onChange={handleChangeInput}\r\n              placeholder=\"vd: example@gmail.com\"\r\n            />\r\n            <button onClick={forgotPassword}>Xác nhận địa chỉ email</button>\r\n          </div>\r\n        </div>\r\n       )} \r\n    </Fragment>\r\n  );\r\n}\r\n\r\nexport default ForgotPassword;\r\n","import userApi from \"api/userApi\";\r\nimport { GET_USER_SUCCESS, LOGIN } from \"redux/contants\";\r\n\r\nexport const dispatchLogin = () => {\r\n  return {\r\n    type: LOGIN,\r\n  };\r\n};\r\n\r\nexport const fetchUser = async (token) => {\r\n  \r\n  const res = await userApi.getUsersInfor({\r\n    headers: { Authorization: token },\r\n  });\r\n  return res;\r\n};\r\n\r\nexport const dispatchGetUser = (res) => {\r\n  return {\r\n    type: GET_USER_SUCCESS,\r\n    payload: {\r\n      user: res.data,\r\n      isAdmin: res.data.user.role === 1 ? true : false,\r\n    },\r\n  };\r\n};\r\n\r\n\r\n","import userApi from 'api/userApi';\r\nimport Loader from 'components/utils/Loader';\r\nimport MetaData from 'components/utils/MetaData';\r\nimport React, { Fragment, useState } from 'react';\r\nimport FacebookLogin from 'react-facebook-login';\r\nimport { GoogleLogin } from 'react-google-login';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { dispatchLogin } from 'redux/actions/authAction';\r\nimport { showErrMsg, showSuccessMsg } from '../utils/Notification';\r\n\r\nconst Login = () => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [user, setUser] = useState({\r\n    email: '',\r\n    password: '',\r\n    err: '',\r\n    success: '',\r\n  });\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const { email, password, err, success } = user;\r\n\r\n  const handleChangeInput = (e) => {\r\n    const { name, value } = e.target;\r\n    setUser({ ...user, [name]: value, err: '', success: '' });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      setLoading(true);\r\n      // gọi api đăng nhập\r\n      const res = await userApi.login({ email, password });\r\n      setUser({ ...user, err: '', success: res.message });\r\n      console.log(res);\r\n      setLoading(false);\r\n\r\n      // lưu đăng nhập ở local\r\n      localStorage.setItem('firstLogin', true);\r\n\r\n      dispatch(dispatchLogin());\r\n      history.push('/');\r\n    } catch (err) {\r\n      err.response.data.message &&\r\n        setUser({ ...user, err: err.response.data.message, success: '' });\r\n      setTimeout(() => setUser({ ...user, err: null, success: '' }), 2000);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const responseGoogle = async (response) => {\r\n    try {\r\n      // gọi api đăng nhập google\r\n      const res = await userApi.loginGoogle({\r\n        tokenId: response.tokenId,\r\n      });\r\n\r\n      setUser({ ...user, error: '', success: res.data.message });\r\n      localStorage.setItem('firstLogin', true);\r\n\r\n      dispatch(dispatchLogin());\r\n      history.push('/');\r\n    } catch (err) {\r\n      err.response.data.message &&\r\n        setUser({ ...user, err: err.response.data.message, success: '' });\r\n    }\r\n  };\r\n\r\n  const responseFacebook = async (response) => {\r\n    try {\r\n      const { accessToken, userID } = response;\r\n      // gọi api đăng nhập facebook\r\n      const res = await userApi.loginFacebook({\r\n        accessToken,\r\n        userID,\r\n      });\r\n\r\n      setUser({ ...user, error: '', success: res.data.message });\r\n      localStorage.setItem('firstLogin', true);\r\n\r\n      dispatch(dispatchLogin());\r\n      history.push('/');\r\n    } catch (err) {\r\n      err.response.data.message &&\r\n        setUser({ ...user, err: err.response.data.message, success: '' });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <MetaData title={'Đăng nhập'} />\r\n      {loading ? (\r\n        <Loader />\r\n      ) : (\r\n        <div className=\"login_page\">\r\n          <h2 className=\"text-center\">Đăng nhập</h2>\r\n          {err && showErrMsg(err)}\r\n          {success && showSuccessMsg(success)}\r\n\r\n          <form onSubmit={handleSubmit}>\r\n            <div>\r\n              <label htmlFor=\"email\">Email</label>\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"vd: example@gmail.com\"\r\n                id=\"email\"\r\n                value={email}\r\n                name=\"email\"\r\n                onChange={handleChangeInput}\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label htmlFor=\"password\">Mật khẩu</label>\r\n              <input\r\n                type=\"password\"\r\n                placeholder=\"*********\"\r\n                id=\"password\"\r\n                value={password}\r\n                name=\"password\"\r\n                onChange={handleChangeInput}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"row\">\r\n              <button type=\"submit\">\r\n                <b>Đăng nhập</b>\r\n              </button>\r\n              <Link to=\"/forgot_password\" className=\"d-flex justify-content-end\">\r\n                Quên mật khẩu?\r\n              </Link>\r\n            </div>\r\n          </form>\r\n\r\n          <div className=\"hr text-center\">Hoặc đăng nhập với</div>\r\n\r\n          <div className=\"social\">\r\n            <GoogleLogin\r\n              clientId=\"55687161092-slgs7a90j0guvn4f5vi1p6s6sf8vv9m5.apps.googleusercontent.com\"\r\n              buttonText=\"Login with google\"\r\n              onSuccess={responseGoogle}\r\n              cookiePolicy={'single_host_origin'}\r\n            />\r\n\r\n            <FacebookLogin\r\n              appId=\"160074812626146\"\r\n              autoLoad={false}\r\n              fields=\"name,email,picture\"\r\n              callback={responseFacebook}\r\n            />\r\n          </div>\r\n\r\n          <p className=\"text-center\">\r\n            Chưa có tài khoản. <Link to=\"/register\">Đăng ký tại đây</Link>\r\n          </p>\r\n        </div>\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import axiosClient from \"./axiosClient\"\r\n\r\nexport const uploadApi = {\r\n    uploadAvatar(data,token){\r\n        const url ='/api/upload_avatar'\r\n        return axiosClient.post(url, data,token)\r\n    },\r\n}","import { uploadApi } from 'api/uploadApi';\r\nimport userApi from 'api/userApi';\r\nimport Loader from 'components/utils/Loader';\r\nimport MetaData from 'components/utils/MetaData';\r\nimport React, { Fragment, useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport Swal from 'sweetalert2';\r\nimport { showErrMsg, showSuccessMsg } from '../utils/Notification';\r\nimport { isLength, isMatch } from '../utils/Validation';\r\n\r\nconst Profile = () => {\r\n  const { user, isAdmin, isLoading } = useSelector((state) => state.auth);\r\n  const token = useSelector((state) => state.token);\r\n\r\n  const [data, setData] = useState({\r\n    name: '',\r\n    password: '',\r\n    cf_password: '',\r\n    err: '',\r\n    success: '',\r\n  });\r\n  const { name, password, cf_password, err, success } = data;\r\n\r\n  const [avatar, setAvatar] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setData({ ...data, [name]: value, err: '', success: '' });\r\n  };\r\n\r\n  const changeAvatar = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const file = e.target.files[0];\r\n\r\n      if (!file) {\r\n        setTimeout(() => setData({ ...data, err: null, success: null }), 1500);\r\n        return setData({\r\n          ...data,\r\n          err: 'Không có file nào được tải lên.',\r\n          success: '',\r\n        });\r\n      }\r\n\r\n      if (file.size > 1024 * 1024) {\r\n        setTimeout(() => setData({ ...data, err: null, success: null }), 1500);\r\n        return setData({ ...data, err: 'Kích cỡ quá lớn.', success: '' });\r\n      }\r\n\r\n      if (file.type !== 'image/jpeg' && file.type !== 'image/png') {\r\n        setTimeout(() => setData({ ...data, err: null, success: null }), 1500);\r\n        return setData({\r\n          ...data,\r\n          err: 'File không đúng định dạng.',\r\n          success: '',\r\n        });\r\n      }\r\n\r\n      let formData = new FormData();\r\n      formData.append('file', file);\r\n      setLoading(true);\r\n      const res = await uploadApi.uploadAvatar(formData, {\r\n        headers: {\r\n          'content-type': 'multipart/form-data',\r\n          Authorization: token,\r\n        },\r\n      });\r\n\r\n      setLoading(false);\r\n      setAvatar(res.data.url);\r\n    } catch (err) {\r\n      setData({ ...data, err: err.response.data.msg, success: '' });\r\n      setTimeout(() => setData({ err: null, success: null }), 2000);\r\n    }\r\n  };\r\n\r\n  const updateInfor = () => {\r\n    try {\r\n      userApi.updateUser(\r\n        {\r\n          name: name ? name : user.name,\r\n          avatar: avatar ? avatar : user.avatar,\r\n        },\r\n        {\r\n          headers: { Authorization: token },\r\n        }\r\n      );\r\n\r\n      setData({ ...data, err: '', success: 'Cập nhập thông tin thành công!' });\r\n      Swal.fire('', 'Cập nhập thông tin thành công!', 'success').then(() => {\r\n        window.location.href = '/profile';\r\n      });\r\n    } catch (err) {\r\n      setData({ ...data, err: err.response.data.msg, success: '' });\r\n      setTimeout(() => setData({ ...data, err: '', success: '' }), 2000);\r\n    }\r\n  };\r\n\r\n  const updatePassword = () => {\r\n    if (isLength(password)) {\r\n      setTimeout(() => setData({ ...data, err: null, success: null }), 1500);\r\n      return setData({\r\n        ...data,\r\n        err: 'Mật khẩu phải 6 ký tự trở lên.',\r\n        success: '',\r\n      });\r\n    }\r\n\r\n    if (!isMatch(password, cf_password)) {\r\n      setTimeout(() => setData({ ...data, err: null, success: null }), 1500);\r\n      return setData({ ...data, err: 'Mật khẩu không khớp.', success: '' });\r\n    }\r\n\r\n    try {\r\n      userApi.resetPassword(\r\n        { password },\r\n        {\r\n          headers: { Authorization: token },\r\n        }\r\n      );\r\n\r\n      setData({ ...data, err: '', success: 'Cập nhập thông tin thành công!' });\r\n      Swal.fire('', 'Cập nhập thông tin thành công!', 'success').then(() => {\r\n        window.location.href = '/profile';\r\n      });\r\n    } catch (err) {\r\n      setData({ ...data, err: err.response.data.msg, success: '' });\r\n      setTimeout(() => setData({ ...data, err: null, success: '' }), 2000);\r\n    }\r\n  };\r\n\r\n  const handleUpdate = () => {\r\n    if (name || avatar) updateInfor();\r\n    if (password) updatePassword();\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <MetaData title=\"Thông tin cá nhân\"/>\r\n      {isLoading ? (\r\n        <Loader />\r\n      ) : (\r\n        <Fragment>\r\n          <div>\r\n            {err && showErrMsg(err)}\r\n            {success && showSuccessMsg(success)}\r\n            {loading && <b>Loading.....</b>}\r\n          </div>\r\n          <div className=\"profile_page container-fluid\">\r\n            <div className=\"m-auto\">\r\n              <h2>{isAdmin ? 'Admin Profile' : 'Thông tin cá nhân'}</h2>\r\n\r\n              <div className=\"avatar\">\r\n                <img src={avatar ? avatar : user.avatar} alt=\"\" />\r\n                <span>\r\n                  <i className=\"fas fa-camera\"></i>\r\n                  <p>Thay đổi</p>\r\n                  <input type=\"file\" name=\"file\" id=\"file_up\" onChange={changeAvatar} />\r\n                </span>\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"name\">Họ tên</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"name\"\r\n                  id=\"name\"\r\n                  defaultValue={user.name}\r\n                  placeholder=\"Your name\"\r\n                  onChange={handleChange}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"email\">Email</label>\r\n                <input\r\n                  type=\"email\"\r\n                  name=\"email\"\r\n                  id=\"email\"\r\n                  defaultValue={user.email}\r\n                  placeholder=\"Your email address\"\r\n                  disabled\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"password\">Mật khẩu mới</label>\r\n                <input\r\n                  type=\"password\"\r\n                  name=\"password\"\r\n                  id=\"password\"\r\n                  placeholder=\"Your password\"\r\n                  value={password}\r\n                  onChange={handleChange}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"cf_password\">Xác nhận mật khẩu mới</label>\r\n                <input\r\n                  type=\"password\"\r\n                  name=\"cf_password\"\r\n                  id=\"cf_password\"\r\n                  placeholder=\"Confirm password\"\r\n                  value={cf_password}\r\n                  onChange={handleChange}\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <em style={{ color: 'crimson' }}>\r\n                  * Nếu bạn cập nhật mật khẩu tại đây, bạn sẽ không thể đăng nhập nhanh bằng google và facebook.\r\n                </em>\r\n              </div>\r\n              <div className=\"d-flex justify-content-center mt-2\">\r\n                <button disabled={loading} onClick={handleUpdate}>\r\n                  Cập nhật\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Fragment>\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import userApi from 'api/userApi';\r\nimport Loader from 'components/utils/Loader';\r\nimport MetaData from 'components/utils/MetaData';\r\nimport React, { Fragment, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { showErrMsg, showSuccessMsg } from '../utils/Notification';\r\nimport { isEmail, isEmpty, isLength, isMatch } from '../utils/Validation';\r\n\r\nconst Register = () => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [user, setUser] = useState({\r\n    name: '',\r\n    email: '',\r\n    password: '',\r\n    cf_password: '',\r\n    err: '',\r\n    success: '',\r\n  });\r\n\r\n  const { name, email, password, cf_password, err, success } = user;\r\n\r\n  const handleChangeInput = (e) => {\r\n    const { name, value } = e.target;\r\n    setUser({ ...user, [name]: value, err: '', success: '' });\r\n  };\r\n\r\n  // hàm submit\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (isEmpty(name) || isEmpty(password))\r\n      return setUser({ ...user, err: 'Xin mời điền tất cả các trường.', success: '' });\r\n\r\n    if (!isEmail(email)) return setUser({ ...user, err: 'Thiếu trường email.', success: '' });\r\n\r\n    if (isLength(password))\r\n      return setUser({ ...user, err: 'Mật khẩu 6 ký tự trở lên.', success: '' });\r\n\r\n    if (!isMatch(password, cf_password))\r\n      return setUser({ ...user, err: 'Mật khẩu không khớp.', success: '' });\r\n    try {\r\n      setLoading(true);\r\n      // gọi api đăng ký\r\n      const res = await userApi.register({\r\n        name,\r\n        email,\r\n        password,\r\n      });\r\n\r\n      setUser({ ...user, err: '', success: res.data.message });\r\n      setLoading(false);\r\n    } catch (err) {\r\n      err.response.data.message &&\r\n        setUser({ ...user, err: err.response.data.message, success: '' });\r\n      setTimeout(() => setUser({ ...user, err: null, success: '' }), 2000);\r\n    }\r\n  };\r\n  return (\r\n    <Fragment>\r\n      <MetaData title={'Đăng ký'} />\r\n      {loading ? (\r\n        <Loader />\r\n      ) : (\r\n        <div className=\"login_page\">\r\n          <h2 className=\"text-center\">Đăng ký</h2>\r\n          {err && showErrMsg(err)}\r\n          {success && showSuccessMsg(success)}\r\n\r\n          <form onSubmit={handleSubmit}>\r\n            <div>\r\n              <label htmlFor=\"name\">Nickname</label>\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Nhập nickname\"\r\n                id=\"name\"\r\n                value={name}\r\n                name=\"name\"\r\n                onChange={handleChangeInput}\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label htmlFor=\"email\">Email</label>\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"vd: abc@gmail.com\"\r\n                id=\"email\"\r\n                value={email}\r\n                name=\"email\"\r\n                onChange={handleChangeInput}\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label htmlFor=\"password\">Mật khẩu</label>\r\n              <input\r\n                type=\"password\"\r\n                placeholder=\"*********\"\r\n                id=\"password\"\r\n                value={password}\r\n                name=\"password\"\r\n                onChange={handleChangeInput}\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label htmlFor=\"cf_password\">Xác nhận mật khẩu</label>\r\n              <input\r\n                type=\"password\"\r\n                placeholder=\"*********\"\r\n                id=\"cf_password\"\r\n                value={cf_password}\r\n                name=\"cf_password\"\r\n                onChange={handleChangeInput}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"row\">\r\n              <button type=\"submit\"><b>Đăng ký</b></button>\r\n            </div>\r\n          </form>\r\n\r\n          <p className=\"text-center\">\r\n            Đã có tài khoản? <Link to=\"/login\">Đăng nhập ngay</Link>\r\n          </p>\r\n        </div>\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n","import userApi from 'api/userApi';\r\nimport React, { useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { showErrMsg, showSuccessMsg } from '../utils/Notification';\r\nimport { isLength, isMatch } from '../utils/Validation';\r\n\r\nfunction ResetPassword() {\r\n  const { token } = useParams();\r\n  const [data, setData] = useState({\r\n    password: '',\r\n    cf_password: '',\r\n    err: '',\r\n    success: '',\r\n  });\r\n\r\n  const { password, cf_password, err, success } = data;\r\n\r\n  const handleChangeInput = (e) => {\r\n    const { name, value } = e.target;\r\n    setData({ ...data, [name]: value, err: '', success: '' });\r\n  };\r\n\r\n  const handleResetPass = async () => {\r\n    if (isLength(password))\r\n      return setData({ ...data, err: 'Mật khẩu phải 6 ký tự trở lên.', success: '' });\r\n\r\n    if (!isMatch(password, cf_password))\r\n      return setData({ ...data, err: 'Mật khẩu không khớp.', success: '' });\r\n\r\n    try {\r\n      const res = await userApi.resetPassword(\r\n        { password },\r\n        {\r\n          headers: { Authorization: token },\r\n        }\r\n      );\r\n\r\n      return setData({ ...data, err: '', success: res.data.message });\r\n    } catch (err) {\r\n      err.response.data.message &&\r\n        setData({ ...data, err: err.response.data.message, success: '' });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"fg_pass\">\r\n      <h2>ĐẶT LẠI MẬT KHẨU CỦA BẠN</h2>\r\n\r\n      <div className=\"row\">\r\n        {err && showErrMsg(err)}\r\n        {success && showSuccessMsg(success)}\r\n\r\n        <label htmlFor=\"password\">Mật khẩu</label>\r\n        <input\r\n          type=\"password\"\r\n          name=\"password\"\r\n          id=\"password\"\r\n          value={password}\r\n          onChange={handleChangeInput}\r\n        />\r\n\r\n        <label htmlFor=\"cf_password\">Xác nhận mật khẩu</label>\r\n        <input\r\n          type=\"password\"\r\n          name=\"cf_password\"\r\n          id=\"cf_password\"\r\n          value={cf_password}\r\n          onChange={handleChangeInput}\r\n        />\r\n\r\n        <button onClick={handleResetPass}><b>ĐẶT LẠI MẬT KHẨU</b></button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ResetPassword;\r\n","import { showErrMsg } from 'components/utils/Notification';\r\nimport React, { useState } from 'react';\r\nimport { Carousel, Modal } from 'react-bootstrap';\r\nimport { useHistory } from 'react-router-dom';\r\nimport './Room.css';\r\n\r\nconst Room = ({ room, startDate, endDate }) => {\r\n  const formater = new Intl.NumberFormat('vi-VN', {\r\n    style: 'currency',\r\n    currency: 'VND',\r\n  });\r\n  const history = useHistory();\r\n  const [show, setShow] = useState(false);\r\n  const [alert, setAlert] = useState('');\r\n\r\n  const handleClose = () => setShow(false);\r\n  const handleShow = () => setShow(true);\r\n\r\n  const handleClick = () => {\r\n    if (!startDate || !endDate) {\r\n      setAlert('Xin mời chọn ngày!');\r\n      setTimeout(() => {\r\n        setAlert(null);\r\n      }, 1500);\r\n    } else {\r\n      history.push(`/book/${room._id}/${startDate}/${endDate}`);\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      <div className=\"row bs\" data-aos=\"fade-up\">\r\n        <div className=\"col-md-4 mb-1\">\r\n          <img src={room.imageUrls[0]} alt={room.name} className=\"room_image\" />\r\n        </div>\r\n        <div className=\"col-md-8 mb-1\">\r\n          <h5>{room.name}</h5>\r\n          <p>Giá phòng: {formater.format(room.price)}/ngày</p>\r\n          <p>Loại phòng: {room.type}</p>\r\n          <a href=\"#/\" onClick={handleShow}>\r\n            Xem chi tiết {'>>'}\r\n          </a>\r\n          <div className=\"d-flex justify-content-end \">\r\n            <button className=\"btn-room\" onClick={handleClick}>\r\n              Đặt phòng\r\n            </button>\r\n          </div>\r\n\r\n          <Modal show={show} onHide={handleClose} size=\"lg\">\r\n            <Modal.Header closeButton>\r\n              <b>{room.name}</b>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n              <Carousel>\r\n                {room.imageUrls?.map((img) => (\r\n                  <Carousel.Item key={img}>\r\n                    <img className=\"d-block w-100\" src={img} alt={img} />\r\n                  </Carousel.Item>\r\n                ))}\r\n              </Carousel>\r\n              <span className=\"mt-2\">\r\n                <b>Mô tả: </b> {room.description}\r\n              </span>\r\n            </Modal.Body>\r\n          </Modal>\r\n        </div>\r\n        {alert && showErrMsg(alert)}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Room;\r\n","import React from 'react';\r\n\r\nconst Banner = () => {\r\n  return (\r\n    <section className=\"banner\">\r\n      <div className=\"head-bottom flex\">\r\n        <h2>YOUR PASSION IS OUR SATISFACTION</h2>\r\n        <p>\r\n          Lorem ipsum dolor sit amet consectetur adipisicing elit. Iusto est quos veniam impedit\r\n          numquam itaque voluptatum, dicta asperiores accusamus, eligendi neque ut incidunt, modi\r\n          harum molestiae atque natus officia minima.\r\n        </p>\r\n        <a href=\"#home\" className=\"head-btn\">\r\n          CHÀO MỪNG\r\n        </a>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Banner;\r\n","import { DatePicker } from 'antd';\r\nimport { roomApi } from 'api/roomApi';\r\nimport Loader from 'components/utils/Loader';\r\nimport moment from 'moment';\r\nimport React, { Fragment, useEffect, useRef, useState } from 'react';\r\nimport Room from './Room';\r\nimport Banner from 'components/Layout/Banner';\r\nimport './Home.css';\r\nimport MetaData from 'components/utils/MetaData';\r\n\r\nconst { RangePicker } = DatePicker;\r\n\r\nconst Home = () => {\r\n  const [loading, setLoading] = useState(true);\r\n  const [rooms, setRooms] = useState([]);\r\n  const [duplicateRoom, setDuplicateRoom] = useState([]);\r\n  const [searchRoom, setSearchRoom] = useState('');\r\n  const [filterType, setFilterType] = useState('all');\r\n  const typingTimeoutRef = useRef(null);\r\n\r\n  const [startDate, setStartDate] = useState('');\r\n  const [endDate, setEndDate] = useState('');\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const response = await roomApi.getAllRooms();\r\n        setRooms(response.data);\r\n        setDuplicateRoom(response.data);\r\n        setLoading(false);\r\n        window.scrollTo(0, 0);\r\n      } catch (error) {\r\n        console.log(error);\r\n        setLoading(false);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  // chọn ngày\r\n  const filterByDate = (dates) => {\r\n    if (!dates) return;\r\n    console.log(moment(dates[0]).format('DD-MM-YYYY'));\r\n    console.log(moment(dates[1]).format('DD-MM-YYYY'));\r\n    setStartDate(dates[0].format('DD-MM-YYYY'));\r\n    setEndDate(dates[1].format('DD-MM-YYYY'));\r\n\r\n    let tempRooms = [];\r\n    let availability = false;\r\n\r\n    // duyệt qua tất cả rooms\r\n    for (const room of duplicateRoom) {\r\n      // nếu currentBookings > 0 -> loại bỏ ko cho room\r\n      if (room.currentBookings.length > 0) {\r\n        // duyệt qua tất cả  room.currentBooking -> check lịch\r\n        for (const booking of room.currentBookings) {\r\n          console.log(booking);\r\n          \r\n        }\r\n      }\r\n      // nếu currentBookings == 0 -> push(room)\r\n      if (availability === true || room.currentBookings.length === 0) {\r\n        tempRooms.push(room);\r\n      }\r\n      // setRooms(tempRooms);\r\n    }\r\n  };\r\n\r\n  // chặn chọn ngày trước đó\r\n  function disabledDate(current) {\r\n    return current && current.valueOf() < moment().endOf('day');\r\n  }\r\n\r\n  const handleSearchChange = (e) => {\r\n    setSearchRoom(e.target.value);\r\n    const searchString = e.target.value.trim().toLowerCase();\r\n    if (!searchString) {\r\n      return;\r\n    }\r\n    if (typingTimeoutRef.current) {\r\n      clearTimeout(typingTimeoutRef.current);\r\n    }\r\n\r\n    typingTimeoutRef.current = setTimeout(() => {\r\n      const room = duplicateRoom.filter((room) => {\r\n        return room.name.toLowerCase().includes(searchString);\r\n      });\r\n      setRooms(room);\r\n    }, 300);\r\n  };\r\n\r\n  const handleFilterType = (e) => {\r\n    setFilterType(e);\r\n    console.log(e);\r\n    if (e !== 'all') {\r\n      const room = duplicateRoom.filter((room) => {\r\n        return room.type.toLowerCase() === e.toLowerCase();\r\n      });\r\n      setRooms(room);\r\n    } else {\r\n      setRooms(duplicateRoom);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <MetaData title=\"Trang chủ\" />\r\n      {loading ? (\r\n        <Loader />\r\n      ) : (\r\n        <Fragment>\r\n          <Banner />\r\n          <div className=\"container\" id=\"home\">\r\n            <h1 className=\"text-center mt-5 title\">ĐẶT PHÒNG NGAY</h1>\r\n            <div className=\"row bs\" id=\"booking-fixed\">\r\n              <div className=\"col-md-4\" id=\"datepicker\">\r\n                <RangePicker\r\n                  format=\"DD-MM-YYYY\"\r\n                  disabledDate={disabledDate}\r\n                  onChange={filterByDate}\r\n                />\r\n              </div>\r\n              <div className=\"col-md-4\">\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  placeholder=\"Tìm kiếm...\"\r\n                  value={searchRoom}\r\n                  onChange={handleSearchChange}\r\n                />\r\n              </div>\r\n              <div className=\"col-md-4\">\r\n                <select\r\n                  className=\"form-select\"\r\n                  value={filterType}\r\n                  onChange={(e) => handleFilterType(e.target.value)}\r\n                >\r\n                  <option value=\"all\">Tất cả</option>\r\n                  <option value=\"standard\">Standard</option>\r\n                  <option value=\"delux\">Delux</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"row justify-content-center mt-2\">\r\n              {rooms?.map((room) => {\r\n                return (\r\n                  <div key={room._id} className=\"col-md-9 mt-2\">\r\n                    <Room room={room} startDate={startDate} endDate={endDate} />\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n        </Fragment>\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import { bookingApi } from 'api/bookingApi';\r\nimport { roomApi } from 'api/roomApi';\r\nimport Loader from 'components/utils/Loader';\r\nimport MetaData from 'components/utils/MetaData';\r\nimport { showErrMsg } from 'components/utils/Notification';\r\nimport moment from 'moment';\r\nimport React, { Fragment, useEffect, useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport Swal from 'sweetalert2';\r\nimport './BookingRoom.css';\r\n\r\nconst BookingRoom = ({ match }) => {\r\n  const formater = new Intl.NumberFormat('vi-VN', {\r\n    style: 'currency',\r\n    currency: 'VND',\r\n  });\r\n  const { user } = useSelector((state) => state.auth);\r\n  const token = useSelector((state) => state.token);\r\n  const [room, setRoom] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [disable, setDisable] = useState(false);\r\n  const roomId = match.params.id;\r\n  const startDate = moment(match.params.startDate, 'DD-MM-YYYY');\r\n  const endDate = moment(match.params.endDate, 'DD-MM-YYYY');\r\n\r\n  const totalDays = moment.duration(endDate.diff(startDate)).asDays();\r\n  let totalAmount = totalDays * room.price;\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        setLoading(true);\r\n        const response = await roomApi.getRoomById(`${roomId}`);\r\n        setRoom(response.data);\r\n        setLoading(false);\r\n        window.scrollTo(0, 0);\r\n      } catch (error) {\r\n        setError(error.response.data.message);\r\n        setLoading(false);\r\n      }\r\n    })();\r\n  }, [roomId]);\r\n\r\n  const handleBooking = async () => {\r\n    const bookingDetail = {\r\n      room,\r\n      userId: user._id,\r\n      startDate,\r\n      endDate,\r\n      totalAmount,\r\n      totalDays: Number(totalDays),\r\n    };\r\n    try {\r\n      await bookingApi.createBookingRoom(bookingDetail, {\r\n        headers: { Authorization: token },\r\n      });\r\n      setDisable(true);\r\n      Swal.fire('Chúc mừng', 'Đặt phòng thành công', 'success').then(() => {\r\n        window.location.href = '/';\r\n      });\r\n    } catch (error) {\r\n      console.log(error);\r\n      Swal.fire('Oops', 'Đã xảy ra sự cố', 'error');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <MetaData title=\"Đặt phòng\" />\r\n      {loading ? (\r\n        <Loader />\r\n      ) : error ? (\r\n        showErrMsg(error)\r\n      ) : (\r\n        <div className=\"container \">\r\n          <div className=\"row bs mt-5\" data-aos=\"flip-left\">\r\n            <div className=\"col-md-5 mb-2\">\r\n              <h4>{room.name}</h4>\r\n              <img src={room.imageUrls[0]} alt={room.name} className=\"booking-room-img\" />\r\n            </div>\r\n            <div className=\"col-md-7 boking-detail mb-2\">\r\n              <h1 className=\"\">Chi tiết đặt phòng</h1>\r\n              <hr />\r\n              <b>\r\n                <p>Tên: {user.name} </p>\r\n                <p>Ngày nhận phòng: {match.params.startDate} </p>\r\n                <p>Ngày trả phòng: {match.params.endDate} </p>\r\n                <p>Giá phòng: {room.price}/ngày</p>\r\n              </b>\r\n\r\n              <h1>Tổng</h1>\r\n              <hr />\r\n              <b>\r\n                <p>Tổng ngày: {totalDays} ngày</p>\r\n                <p>Giá thuê phòng: {room.price} </p>\r\n                <p>Tổng tiền: {formater.format(totalAmount)}</p>\r\n              </b>\r\n\r\n              <div className=\"booking-center\">\r\n                <button className=\"btn-booking\" disabled={disable} onClick={handleBooking}>\r\n                  Thanh toán\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default BookingRoom;\r\n","import { bookingApi } from 'api/bookingApi';\r\nimport { GET_BOOKING_USER_SUCCESS } from 'redux/contants';\r\n\r\nexport const fetchBookingUser = async (token) => {\r\n  const res = await bookingApi.getBookingByUserId({\r\n    headers: { Authorization: token },\r\n  });\r\n  return res;\r\n};\r\n\r\nexport const dispatchGetBookingUser = (res) => {\r\n  return {\r\n    type: GET_BOOKING_USER_SUCCESS,\r\n    payload: res.data,\r\n  };\r\n};\r\n\r\n","import { bookingApi } from 'api/bookingApi';\r\nimport Loader from 'components/utils/Loader';\r\nimport MetaData from 'components/utils/MetaData';\r\nimport React, { Fragment, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { dispatchGetBookingUser, fetchBookingUser } from 'redux/actions/bookingAction';\r\nimport Swal from 'sweetalert2';\r\n\r\nconst MyBooking = () => {\r\n  const token = useSelector((state) => state.token);\r\n  const { bookings, loading } = useSelector((state) => state.booking);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if (token) {\r\n      fetchBookingUser(token).then((res) => {\r\n        dispatch(dispatchGetBookingUser(res));\r\n      });\r\n    }\r\n  }, [token, dispatch]);\r\n\r\n  const handleCancelBooking = async (bookedId, roomId) => {\r\n    try {\r\n      console.log(bookedId, roomId);\r\n      const response = await (\r\n        await bookingApi.cancelBooking({ bookedId, roomId }, { headers: { Authorization: token } })\r\n      ).data;\r\n      Swal.fire('', `${response.message}`, 'success').then(() => {\r\n        window.location.href = '/mybooking';\r\n      });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <MetaData title=\"My booking\"/>\r\n      {loading ? (\r\n        <Loader />\r\n      ) : (\r\n        <Fragment>\r\n          {bookings.length === 0 ? (\r\n            <h2 className=\"text-center mt-2\">Booking room is empty</h2>\r\n          ) : (\r\n            <div>\r\n              <div className=\"container\">\r\n                <div className=\"row\">\r\n                  {bookings?.map((booking) => (\r\n                    <div className=\"col-md-6 bs\" data-aos=\"zoom-in\" key={booking._id}>\r\n                      <h5>{booking.room}</h5>\r\n                      <p>\r\n                        <b>BookingId: {booking._id} </b>\r\n                      </p>\r\n                      <p>\r\n                        <b>CheckIn: {booking.startDate} </b>\r\n                      </p>\r\n                      <p>\r\n                        <b>CheckOut: {booking.endDate} </b>\r\n                      </p>\r\n                      <p>\r\n                        <b>Amount: {booking.totalAmount} </b>\r\n                      </p>\r\n                      <p>\r\n                        <b>Status: {booking.status === 'booked' ? 'CONFIRMED' : 'CANCEL'} </b>\r\n                      </p>\r\n                      {booking.status !== 'cancelled' && (\r\n                        <div className=\"d-flex justify-content-end\">\r\n                          <button\r\n                            className=\"btn btn-dark\"\r\n                            onClick={() => {\r\n                              handleCancelBooking(booking._id, booking.roomId);\r\n                            }}\r\n                          >\r\n                            Cancel booking\r\n                          </button>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </Fragment>\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default MyBooking;\r\n","\r\nimport React from 'react'\r\n\r\nfunction NotFound() {\r\n    return (\r\n        <div>\r\n            404 | Not Found\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NotFound","import BookingDetail from 'components/Admin/BookingDetail';\r\nimport Admin from 'components/Admin/index';\r\nimport RoomDetail from 'components/Admin/RoomDetail';\r\nimport ActivationEmail from 'components/Auth/ActivationEmail';\r\nimport EditProfile from 'components/Auth/EditProfile';\r\nimport ForgotPassword from 'components/Auth/ForgotPassword';\r\nimport Login from 'components/Auth/Login';\r\nimport Profile from 'components/Auth/Profile';\r\nimport Register from 'components/Auth/Register';\r\nimport ResetPassword from 'components/Auth/ResetPassword';\r\nimport Home from 'components/Home';\r\nimport BookingRoom from 'components/Home/BookingRoom';\r\nimport MyBooking from 'components/MyBooking';\r\nimport NotFound from 'components/utils/NotFound';\r\nimport { Fragment } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Route, Switch } from 'react-router';\r\n\r\nconst Routes = () => {\r\n  const auth = useSelector((state) => state.auth);\r\n  const { isLogged, isAdmin } = auth;\r\n  return (\r\n    <Switch>\r\n      <Fragment>\r\n        {/* Authentication */}\r\n        <Route path=\"/login\" component={Login} exact />\r\n        <Route path=\"/register\" component={Register} exact />\r\n        <Route path=\"/forgot_password\" component={isLogged ? NotFound : ForgotPassword} exact />\r\n        <Route path=\"/api/auth/reset-password/:token\" component={ResetPassword} exact />\r\n        <Route path=\"/api/auth/activate/:activation_token\" component={ActivationEmail} exact />\r\n        <Route path=\"/profile\" component={isLogged ? Profile : NotFound} exact />\r\n        <Route path=\"/edit_user/:id\" component={isAdmin ? EditProfile : NotFound} exact />\r\n        {/* Home */}\r\n        <Route path=\"/\" component={Home} exact />\r\n        <Route path=\"/book/:id/:startDate/:endDate\" component={isLogged ? BookingRoom : Login} exact/>\r\n        <Route path=\"/mybooking\" component={MyBooking} exact />\r\n\r\n        {/* Admin */}\r\n        <Route path=\"/admin\" component={isAdmin ? Admin : NotFound} exact />\r\n        <Route path=\"/admin/booking-detail/:id\" component={isAdmin ? BookingDetail : NotFound} exact/>\r\n        <Route path=\"/admin/room-detail/:id\" component={isAdmin ? RoomDetail : NotFound} exact/>\r\n      </Fragment>\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default Routes;\r\n","import userApi from 'api/userApi';\r\nimport React from 'react';\r\nimport { Navbar } from 'react-bootstrap';\r\nimport { useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Header() {\r\n  const auth = useSelector((state) => state.auth);\r\n\r\n  const { user, isLogged } = auth;\r\n\r\n  window.onscroll = function () {\r\n    if (document.body.scrollTop >= 400 || document.documentElement.scrollTop >= 400) {\r\n      document.querySelector('header').classList.add('sticky');\r\n    } else {\r\n      document.querySelector('header').classList.remove('sticky');\r\n    }\r\n    if (document.querySelector('#booking-fixed')) {\r\n      if (document.body.scrollTop >= 600 || document.documentElement.scrollTop >= 600) {\r\n        document.querySelector('#booking-fixed').classList.add('fixed');\r\n      } else if (document.body.scrollTop < 600 || document.documentElement.scrollTop < 600) {\r\n        document.querySelector('#booking-fixed').classList.remove('fixed');\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleLogout = async () => {\r\n    try {\r\n      await userApi.logout();\r\n      localStorage.removeItem('firstLogin');\r\n      window.location.href = '/';\r\n    } catch (err) {\r\n      window.location.href = '/';\r\n    }\r\n  };\r\n\r\n  const userLink = () => {\r\n    return (\r\n      <li className=\"drop-nav\">\r\n        <Link to=\"#\" className=\"avatar\">\r\n          <img src={user.avatar} alt=\"\" />\r\n          <span>\r\n            {user.name}&nbsp;\r\n            <i className=\"fas fa-angle-down\"></i>\r\n          </span>\r\n        </Link>\r\n        <ul className=\"dropdown\">\r\n          {user && user.role !== 1 ? (\r\n            <li>\r\n              <Link to=\"/mybooking\">Booking</Link>\r\n            </li>\r\n          ) : (\r\n            <li>\r\n              <Link to=\"/admin\">Admin</Link>\r\n            </li>\r\n          )}\r\n          <li>\r\n            <Link to=\"/profile\">Cá nhân</Link>\r\n          </li>\r\n          <li>\r\n            <Link to=\"/\" onClick={handleLogout}>\r\n              Đăng xuất\r\n            </Link>\r\n          </li>\r\n        </ul>\r\n      </li>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <header>\r\n      <Navbar expand=\"lg\">\r\n        <div className=\"container\">\r\n          <Navbar.Brand href=\"/\">\r\n            <h2 className=\"title-app\">Booking App</h2>\r\n          </Navbar.Brand>\r\n          <Navbar.Toggle aria-controls=\"navbarScroll\" />\r\n          <Navbar.Collapse id=\"navbarScroll\" className=\"\">\r\n            <ul className=\"navbar-nav me-auto mb-2 mb-lg-0\"></ul>\r\n            <ul className=\"d-flex\">\r\n              {isLogged ? (\r\n                userLink()\r\n              ) : (\r\n                <li>\r\n                  <Link to=\"/login\">\r\n                    <i className=\"fas fa-user\"></i> Đăng nhập\r\n                  </Link>\r\n                </li>\r\n              )}\r\n            </ul>\r\n          </Navbar.Collapse>\r\n        </div>\r\n      </Navbar>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import userApi from 'api/userApi';\nimport Footer from 'components/Layout/Footer';\nimport { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport Routes from 'Routes';\nimport './App.css';\nimport Header from './components/Layout/Header';\nimport { dispatchGetUser, dispatchLogin, fetchUser } from './redux/actions/authAction';\n\nfunction App() {\n  const dispatch = useDispatch();\n  const token = useSelector((state) => state.token);\n  const { isLogged } = useSelector((state) => state.auth);\n  useEffect(() => {\n    const firstLogin = localStorage.getItem('firstLogin');\n    if (firstLogin) {\n      const getToken = async () => {\n        const res = await userApi.getAccessToken();\n        dispatch({ type: 'GET_TOKEN', payload: res.data.access_token });\n      };\n      getToken();\n    }\n  }, [isLogged, dispatch]);\n\n  useEffect(() => {\n    if (token) {\n      const getUser = () => {\n        dispatch(dispatchLogin());\n\n        return fetchUser(token).then((res) => {\n          dispatch(dispatchGetUser(res));\n        });\n      };\n      getUser();\n    }\n  }, [token, dispatch]);\n\n  return (\n    <Router>\n      <div className=\"App\">\n        <Header />\n        <div  className=\"booking-app-main-container\">\n          <Routes />\n        </div>\n\n        <Footer />\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import { GET_USER_REQUEST, GET_USER_SUCCESS, LOGIN } from 'redux/contants';\r\n\r\nconst initialState = {\r\n  user: [],\r\n  isLogged: false,\r\n  isAdmin: false,\r\n  isLoading: true,\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case LOGIN:\r\n      return {\r\n        ...state,\r\n        isLogged: true,\r\n      };\r\n    case GET_USER_REQUEST:\r\n      return {\r\n        ...state,\r\n\r\n        isLoading: true,\r\n      };\r\n    case GET_USER_SUCCESS:\r\n      return {\r\n        ...state,\r\n        user: action.payload.user.user,\r\n        isAdmin: action.payload.isAdmin,\r\n        isLoading: false,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default authReducer;\r\n","import { GET_TOKEN } from 'redux/contants'\r\n\r\nconst token = ''\r\n\r\nconst tokenReducer = ( state = token,action) =>{\r\n    switch(action.type){\r\n        case GET_TOKEN:\r\n            return action.payload\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\nexport default tokenReducer","import { GET_ALL_USERS_SUCCESS } from 'redux/contants'\r\n\r\nconst users =[]\r\n\r\nconst usersReducer = (state = users, action) => {\r\n    switch(action.type){\r\n        case GET_ALL_USERS_SUCCESS:\r\n            return action.payload\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default usersReducer","import { GET_BOOKING_USER_SUCCESS } from 'redux/contants';\r\n\r\nconst initialState = {\r\n  bookings: [],\r\n  loading: true,\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case GET_BOOKING_USER_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        bookings: action.payload,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default authReducer;\r\n","  \r\nimport {combineReducers} from 'redux'\r\nimport auth from './authReducer'\r\nimport token from './tokenReducer'\r\nimport users from './userReducer'\r\nimport booking from './bookingReducer'\r\n\r\nexport default combineReducers({\r\n    auth,\r\n    token,\r\n    users,\r\n    booking\r\n})","import React from 'react'\r\nimport {createStore} from 'redux'\r\nimport rootReducer from './reducers'\r\nimport {Provider} from 'react-redux'\r\n\r\nconst store = createStore(rootReducer,\r\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n)\r\n\r\nfunction DataProvider({children}) {\r\n    return (\r\n        <Provider store={store}>\r\n            {children}\r\n        </Provider>\r\n    )\r\n}\r\n\r\nexport default DataProvider","import 'antd/dist/antd.css';\nimport AOS from \"aos\";\nimport \"aos/dist/aos.css\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\nimport DataProvider from './redux/store';\n\nAOS.init({\n  duration: 1000\n});\nReactDOM.render(\n  <React.StrictMode>\n    <DataProvider>\n      <App />\n    </DataProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}