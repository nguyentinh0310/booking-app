(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{113:function(e,t,c){},207:function(e,t,c){},304:function(e,t,c){},305:function(e,t,c){},306:function(e,t,c){},307:function(e,t,c){},308:function(e,t,c){},309:function(e,t,c){},310:function(e,t,c){"use strict";c.r(t);c(168);var n=c(148),a=c.n(n),r=(c(169),c(0)),s=c.n(r),i=c(29),o=c.n(i),j=c(8),l=c.n(j),u=c(10),b=c(149),d=c.n(b),h=c(92),O=c.n(h),p=d.a.create({baseURL:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL,headers:{"content-type":"application/json"},paramsSerializer:function(e){return O.a.stringify(e)}});p.interceptors.request.use(function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),p.interceptors.request.use(function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){throw e}));var m,x=p,f={register:function(e){return x.post("/api/auth/register",e)},activeEmail:function(e){return x.post("/api/auth/activation",e)},getAccessToken:function(){return x.post("/api/auth/refresh_token")},login:function(e){return x.post("/api/auth/login",e)},logout:function(){return x.get("/api/auth/logout")},forgotPassword:function(e){return x.post("/api/auth/forgot-password",e)},resetPassword:function(e,t){return x.post("/api/auth/reset-password",e,t)},getUsersAllInfor:function(e){return x.get("/api/auth/all_infor",e)},getUsersInfor:function(e){return x.get("/api/auth/infor",e)},updateUser:function(e,t){return x.put("/api/auth/update",e,t)},updateUsersRole:function(e,t,c){var n="/api/auth/update_role/".concat(e);return x.put(n,t,c)},deleteUser:function(e,t){var c="/api/auth/delete/".concat(e);return x.delete(c,t)},loginGoogle:function(e){return x.post("/api/auth/google_login",e)},loginFacebook:function(e,t){return x.post("/api/auth/facebook_login",e,t)}},g=(c(207),c(1)),v=function(){return Object(g.jsx)(r.Fragment,{children:Object(g.jsx)("footer",{className:"py-2",children:Object(g.jsx)("p",{className:"text-center mt-1",children:"Booking App \xa9 2021 by Nguyen Tinh"})})})},k=c(17),w=c(21),N=c(9),y=function(e,t){return x.post("/api/booking",e,t)},S=function(e){return x.get("/api/bookings",e)},_=function(e,t){var c="/api/booking/".concat(e);return x.get(c,t)},T=function(e){return x.get("/api/bookingbyid",e)},C=function(e,t){return x.post("/api/cancelbooking",e,t)},D=function(e,t,c){var n="/api/booking/".concat(e);return x.delete(n,t,c)},E=c(151),I=c(118),A=c(152),F=c.n(A),U=Object(I.css)(m||(m=Object(E.a)(["\n  display: block;\n  margin-left: auto;\n  margin-right: auto;\n  margin-top: 20%;\n  padding-left: 0;\n"]))),L=function(){var e=Object(r.useState)(!0),t=Object(N.a)(e,2),c=t[0];t[1];return Object(g.jsx)("div",{className:"sweet-loading text-center",children:Object(g.jsx)(F.a,{color:"#333",loading:c,css:U,size:40})})},M=c(153),Y=function(e){var t=e.title;return Object(g.jsx)("div",{children:Object(g.jsx)(M.a,{children:Object(g.jsxs)("title",{children:[" ","".concat(t)," "]})})})},R=function(e){var t=e.match,c=new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}),n=Object(r.useState)(!0),a=Object(N.a)(n,2),s=a[0],i=a[1],o=Object(r.useState)([]),j=Object(N.a)(o,2),b=j[0],d=j[1],h=Object(k.c)((function(e){return e.token})),O=t.params.id,p=Object(r.useCallback)(Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_("".concat(O),{headers:{Authorization:h}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),[h,O]);return Object(r.useEffect)((function(){Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p();case 3:t=e.sent,d(t.data),i(!1),window.scrollTo(0,0),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),i(!1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))()}),[p]),Object(g.jsxs)(r.Fragment,{children:[Object(g.jsx)(Y,{title:"Chi ti\u1ebft \u0111\u1eb7t ph\xf2ng"}),s?Object(g.jsx)(L,{}):Object(g.jsxs)(r.Fragment,{children:[Object(g.jsx)("h1",{className:"text-center mt-3 title",children:"Chi ti\u1ebft \u0111\u1eb7t ph\xf2ng"}),Object(g.jsx)("div",{className:"container",children:Object(g.jsxs)("div",{className:"bs",children:[Object(g.jsx)("h5",{children:b.room}),Object(g.jsx)("p",{children:Object(g.jsxs)("b",{children:["RoomId: ",b.roomId," "]})}),Object(g.jsx)("p",{children:Object(g.jsxs)("b",{children:["UserId: ",b.userId," "]})}),Object(g.jsx)("p",{children:Object(g.jsxs)("b",{children:["CheckIn: ",b.startDate," - CheckOut: ",b.endDate]})}),Object(g.jsx)("p",{children:Object(g.jsxs)("b",{children:["T\u1ed5ng ng\xe0y: ",b.totalDays,"/ng\xe0y "]})}),Object(g.jsx)("p",{children:Object(g.jsxs)("b",{children:["T\u1ed5ng ti\u1ec1n: ",c.format(b.totalAmount)," "]})}),Object(g.jsx)("p",{children:Object(g.jsxs)("b",{children:["TransactionId: ",b.transactionId," "]})}),Object(g.jsx)("p",{children:Object(g.jsxs)("b",{children:["Status:","booked"===b.status?Object(g.jsx)("span",{className:"badge bg-success",children:"Ho\xe0n th\xe0nh"}):Object(g.jsx)("span",{className:"badge bg-danger",children:"H\u1ee7y ph\xf2ng"})]})})]})})]})]})},z=c(316),B="LOGIN",G="GET_TOKEN",P="GET_USER_REQUEST",V="GET_USER_SUCCESS",H="GET_ALL_USERS_SUCCESS",q="GET_BOOKING_USER_SUCCESS",K=function(){var e=Object(u.a)(l.a.mark((function e(t){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.getUsersAllInfor({headers:{Authorization:t}});case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=c(33),J=c.n(X),Q=(c(113),function(){var e=Object(k.c)((function(e){return e.auth})),t=e.user,c=e.isAdmin,n=Object(k.c)((function(e){return e.token})),a=Object(k.c)((function(e){return e.users})),s=Object(r.useState)(!0),i=Object(N.a)(s,2),o=i[0],j=i[1],b=Object(k.b)();console.log(a),Object(r.useEffect)((function(){c&&(K(n).then((function(e){b(function(e){return{type:H,payload:e.data}}(e))})),j(!1))}),[n,c,b]);var d=function(){var e=Object(u.a)(l.a.mark((function e(c){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{console.log(t._id),t._id!==c&&J.a.fire("","X\xf3a ng\u01b0\u1eddi d\xf9ng th\xe0nh c\xf4ng","success").then((function(){window.location.href="/admin"}))}catch(n){console.log(n)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsx)(r.Fragment,{children:o?Object(g.jsx)(L,{}):Object(g.jsx)("div",{className:"container",children:Object(g.jsxs)("table",{className:"customers",children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"ID"}),Object(g.jsx)("th",{children:"Nickname"}),Object(g.jsx)("th",{children:"Email"}),Object(g.jsx)("th",{children:"Admin"}),Object(g.jsx)("th",{children:"H\xe0nh \u0111\u1ed9ng"})]})}),Object(g.jsx)("tbody",{children:null===a||void 0===a?void 0:a.map((function(e){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:e._id}),Object(g.jsx)("td",{children:e.name}),Object(g.jsx)("td",{children:e.email}),Object(g.jsx)("td",{children:1===e.role?Object(g.jsx)("i",{className:"fas fa-check",title:"Admin"}):Object(g.jsx)("i",{className:"fas fa-times",title:"User"})}),Object(g.jsxs)("td",{children:[Object(g.jsx)(w.b,{to:"/edit_user/".concat(e._id),children:Object(g.jsx)("i",{className:"fas fa-edit",title:"Edit"})}),Object(g.jsx)("i",{className:"fas fa-trash-alt",title:"Remove",onClick:function(){return d(e._id)}})]})]},e._id)}))})]})})})}),W=function(){var e=Object(k.c)((function(e){return e.token})),t=Object(r.useState)([]),c=Object(N.a)(t,2),n=c[0],a=c[1],s=Object(r.useState)(!0),i=Object(N.a)(s,2),o=i[0],j=i[1];Object(r.useEffect)((function(){Object(u.a)(l.a.mark((function t(){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S({headers:{Authorization:e}});case 3:c=t.sent,console.log(c.data),a(c.data),j(!1),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0),j(!1);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()}),[e]);var b=function(){var t=Object(u.a)(l.a.mark((function t(c,n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log(c,n),t.next=4,D("".concat(c),{headers:{Authorization:e}});case 4:J.a.fire("","X\xf3a \u0111\u1eb7t ph\xf2ng th\xe0nh c\xf4ng","success").then((function(){window.location.href="/admin"})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,c){return t.apply(this,arguments)}}();return Object(g.jsx)(r.Fragment,{children:o?Object(g.jsx)(L,{}):Object(g.jsx)("div",{className:"container",children:Object(g.jsxs)("table",{className:"customers",children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"ID"}),Object(g.jsx)("th",{children:"Ph\xf2ng"}),Object(g.jsx)("th",{children:"Ng\xe0y"}),Object(g.jsx)("th",{children:"Tr\u1ea1ng th\xe1i"}),Object(g.jsx)("th",{children:"T\u1ed5ng ti\u1ec1n"}),Object(g.jsx)("th",{children:"H\xe0nh \u0111\u1ed9ng"})]})}),Object(g.jsx)("tbody",{children:null===n||void 0===n?void 0:n.map((function(t){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:t._id}),Object(g.jsx)("td",{children:t.room}),Object(g.jsxs)("td",{children:[t.startDate," to ",t.endDate]}),Object(g.jsx)("td",{children:t.status}),Object(g.jsx)("td",{children:t.totalAmount}),Object(g.jsxs)("td",{className:"text-center",children:[Object(g.jsx)(w.b,{to:"admin/booking-detail/".concat(t._id),children:Object(g.jsx)("i",{className:"fas fa-eye"})}),"cancelled"===t.status&&Object(g.jsx)("i",{className:"fas fa-trash-alt",title:"Remove",onClick:function(){b(t._id,e)}})]})]},t._id)}))})]})})})},Z=function(e){var t="/api/rooms/".concat(e);return x.get(t)},$=function(e){var t="/api/room/".concat(e);return x.get(t)},ee=function(){var e=new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}),t=Object(r.useState)([]),c=Object(N.a)(t,2),n=c[0],a=c[1],s=Object(r.useState)(!0),i=Object(N.a)(s,2),o=i[0],j=i[1];return Object(r.useEffect)((function(){Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z();case 3:t=e.sent,console.log(t.data),a(t.data),j(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),j(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))()}),[]),Object(g.jsx)(r.Fragment,{children:o?Object(g.jsx)(L,{}):Object(g.jsx)("div",{className:"container",children:Object(g.jsxs)("table",{className:"customers",children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"ID"}),Object(g.jsx)("th",{children:"T\xean ph\xf2ng"}),Object(g.jsx)("th",{children:"Gi\xe1 "}),Object(g.jsx)("th",{children:"SL \u0111\u1eb7t ph\xf2ng"}),Object(g.jsx)("th",{children:"Lo\u1ea1i ph\xf2ng"}),Object(g.jsx)("th",{children:"H\xe0nh \u0111\u1ed9ng"})]})}),Object(g.jsx)("tbody",{children:null===n||void 0===n?void 0:n.map((function(t){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:t._id}),Object(g.jsx)("td",{children:t.name}),Object(g.jsx)("td",{children:e.format(t.price)}),Object(g.jsx)("td",{children:t.currentBookings.length}),Object(g.jsx)("td",{children:t.type}),Object(g.jsx)("td",{className:"text-center",children:Object(g.jsx)(w.b,{to:"admin/room-detail/".concat(t._id),children:Object(g.jsx)("i",{className:"fas fa-eye"})})})]},t._id)}))})]})})})},te=z.a.TabPane,ce=function(){return Object(g.jsxs)(r.Fragment,{children:[Object(g.jsx)(Y,{title:"Admin"}),Object(g.jsx)("div",{className:"mt-3",children:Object(g.jsxs)(z.a,{defaultActiveKey:"1",children:[Object(g.jsx)(te,{tab:"Bookings",children:Object(g.jsx)(W,{})},"1"),Object(g.jsx)(te,{tab:"Ng\u01b0\u1eddi d\xf9ng",children:Object(g.jsx)(Q,{})},"2"),Object(g.jsx)(te,{tab:"Ph\xf2ng",children:Object(g.jsx)(ee,{})},"3")]})})]})},ne=function(e){var t,c,n=e.match,a=new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}),s=Object(r.useState)(!0),i=Object(N.a)(s,2),o=i[0],j=i[1],b=Object(r.useState)([]),d=Object(N.a)(b,2),h=d[0],O=d[1],p=n.params.id;return Object(r.useEffect)((function(){Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$("".concat(p));case 3:t=e.sent,O(t.data),j(!1),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),j(!1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()}),[p]),Object(g.jsxs)(r.Fragment,{children:[Object(g.jsx)(Y,{title:"Chi ti\u1ebft ph\xf2ng"}),o?Object(g.jsx)(L,{}):Object(g.jsxs)(r.Fragment,{children:[Object(g.jsx)("h1",{className:"text-center mt-3 title",children:"Chi ti\u1ebft ph\xf2ng"}),Object(g.jsxs)("div",{className:"container",children:[Object(g.jsxs)("div",{className:"bs",children:[Object(g.jsx)("h5",{children:h.name}),Object(g.jsx)("p",{children:Object(g.jsxs)("b",{children:["RoomId: ",h._id," "]})}),Object(g.jsx)("p",{children:Object(g.jsxs)("b",{children:["Gi\xe1: ",a.format(h.price)," "]})}),Object(g.jsx)("p",{children:Object(g.jsxs)("b",{children:["Lo\u1ea1i ph\xf2ng: ",h.type," "]})}),Object(g.jsx)("p",{children:Object(g.jsxs)("b",{children:["S\u1ed1 l\u01b0\u1ee3ng \u0111\u1eb7t ph\xf2ng hi\u1ec7n t\u1ea1i: ",h.currentBookings.length," \u0111\u1eb7t "]})}),Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("b",{className:"mb-3",children:"\u1ea2nh ph\xf2ng"}),null===(t=h.imageUrls)||void 0===t?void 0:t.map((function(e){return Object(g.jsx)("div",{className:"col-md-4",children:Object(g.jsx)("img",{className:"w-100",src:e,alt:e})},e)}))]}),Object(g.jsx)("p",{className:"mt-3",children:Object(g.jsxs)("b",{children:["M\xf4 t\u1ea3: ",h.description," "]})})]}),Object(g.jsx)("div",{children:0===h.currentBookings.length?"":Object(g.jsxs)(r.Fragment,{children:[Object(g.jsx)("h3",{className:"text-center title m-3",children:"\u0110\u1eb7t ph\xf2ng hi\u1ec7n t\u1ea1i"}),Object(g.jsx)("div",{className:"bs",children:null===(c=h.currentBookings)||void 0===c?void 0:c.map((function(e){return Object(g.jsxs)(r.Fragment,{children:[Object(g.jsx)("p",{children:Object(g.jsxs)("b",{children:["RoomId: ",e.bookingId," "]})}),Object(g.jsx)("p",{children:Object(g.jsxs)("b",{children:["UserId: ",e.userId," "]})}),Object(g.jsx)("p",{children:Object(g.jsxs)("b",{children:["CheckIn: ",e.startDate," - CheckOut: ",e.endDate]})}),Object(g.jsx)("p",{children:Object(g.jsxs)("b",{children:["Tr\u1ea1ng th\xe1i: ",e.status," "]})}),Object(g.jsx)("hr",{})]})}))})]})})]})]})]})},ae=c(14),re=c(313),se=function(e){return Object(g.jsx)(re.a,{variant:"danger",children:e})},ie=function(e){return Object(g.jsx)(re.a,{variant:"success",children:e})};var oe=function(){var e=Object(ae.g)().activation_token,t=Object(r.useState)(""),c=Object(N.a)(t,2),n=c[0],a=c[1],s=Object(r.useState)(""),i=Object(N.a)(s,2),o=i[0],j=i[1];return Object(r.useEffect)((function(){e&&function(){var t=Object(u.a)(l.a.mark((function t(){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.activeEmail({activation_token:e});case 3:c=t.sent,j(c.data.message),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0.response.data.message&&a(t.t0.response.data.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}()()}),[e]),console.log(e),Object(g.jsxs)("div",{className:"active_page",children:[n&&se(n),o&&ie(o)]})};var je=function(e){var t=Object(ae.g)().id,c=Object(ae.f)(),n=Object(r.useState)([]),a=Object(N.a)(n,2),s=a[0],i=a[1],o=Object(k.c)((function(e){return e.users})),j=Object(k.c)((function(e){return e.token})),b=Object(r.useState)(!1),d=Object(N.a)(b,2),h=d[0],O=d[1],p=Object(r.useState)(0),m=Object(N.a)(p,2),x=m[0],v=m[1];Object(r.useEffect)((function(){0!==o.length?o.forEach((function(e){e._id===t&&(i(e),O(1===e.role))})):c.push("/profile")}),[o,t,c]);var w=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,x%2===0){e.next=7;break}return e.next=4,f.updateUsersRole("".concat(s._id),{role:h?1:0},{headers:{Authorization:j}});case 4:t=e.sent,J.a.fire("","".concat(t.data.message),"success").then((function(){window.location.href="/profile"})),v(0);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),e.t0.response.data.message&&J.a.fire("Oops","".concat(e.t0.response.data.message),"error");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)(r.Fragment,{children:[Object(g.jsx)(Y,{title:"C\u1eadp nh\u1eadt th\xf4ng tin ng\u01b0\u1eddi d\xf9ng"}),Object(g.jsx)("div",{className:"profile_page edit_user",children:Object(g.jsxs)("div",{className:"m-auto",children:[Object(g.jsx)("h2",{children:"C\u1eadp nh\u1eadt th\xf4ng tin ng\u01b0\u1eddi d\xf9ng"}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{htmlFor:"name",children:"T\xean"}),Object(g.jsx)("input",{type:"text",name:"name",defaultValue:s.name,disabled:!0})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{htmlFor:"email",children:"Email"}),Object(g.jsx)("input",{type:"email",name:"email",defaultValue:s.email,disabled:!0})]}),Object(g.jsxs)("div",{className:"form-group d-flex",children:[Object(g.jsx)("label",{htmlFor:"isAdmin",children:"isAdmin"}),Object(g.jsx)("input",{type:"checkbox",id:"isAdmin",checked:h,onChange:function(){O(!h),v(x+1)}})]}),Object(g.jsx)("div",{className:"d-flex justify-content-center m-3",children:Object(g.jsx)("button",{onClick:w,children:"C\u1eadp nh\u1eadt"})})]})})]})},le=c(16),ue=c(3),be=function(e){return!e},de=function(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},he=function(e){return e.length<6},Oe=function(e,t){return e===t};var pe=function(){var e=Object(r.useState)({email:"",err:"",success:""}),t=Object(N.a)(e,2),c=t[0],n=t[1],a=Object(r.useState)(!1),s=Object(N.a)(a,2),i=s[0],o=s[1],j=c.email,b=c.err,d=c.success,h=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(de(j)){e.next=2;break}return e.abrupt("return",n(Object(ue.a)(Object(ue.a)({},c),{},{err:"Xin m\u1eddi nh\u1eadp email.",success:""})));case 2:return e.prev=2,o(!0),e.next=6,f.forgotPassword({email:j});case 6:t=e.sent,n(Object(ue.a)(Object(ue.a)({},c),{},{err:"",success:t.data.message})),o(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),e.t0.response.data.message&&n(Object(ue.a)(Object(ue.a)({},c),{},{err:e.t0.response.data.message,success:""})),o(!1);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)(r.Fragment,{children:[Object(g.jsx)(Y,{title:"Qu\xean m\u1eadt kh\u1ea9u"}),i?Object(g.jsx)(L,{}):Object(g.jsxs)("div",{className:"fg_pass",children:[Object(g.jsx)("h2",{className:"title",children:"Qu\xean m\u1eadt kh\u1ea9u?"}),Object(g.jsxs)("div",{className:"row",children:[b&&se(b),d&&ie(d),Object(g.jsx)("label",{htmlFor:"email",children:"Nh\u1eadp email c\u1ee7a b\u1ea1n"}),Object(g.jsx)("input",{type:"email",name:"email",id:"email",value:j,onChange:function(e){var t,a=e.target,r=a.name,s=a.value;n(Object(ue.a)(Object(ue.a)({},c),{},(t={},Object(le.a)(t,r,s),Object(le.a)(t,"err",""),Object(le.a)(t,"success",""),t)))},placeholder:"vd: example@gmail.com"}),Object(g.jsx)("button",{onClick:h,children:"X\xe1c nh\u1eadn \u0111\u1ecba ch\u1ec9 email"})]})]})]})},me=c(164),xe=c.n(me),fe=c(165),ge=function(){return{type:B}},ve=function(){var e=Object(u.a)(l.a.mark((function e(t){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.getUsersInfor({headers:{Authorization:t}});case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ke=function(){var e=Object(r.useState)(!1),t=Object(N.a)(e,2),c=t[0],n=t[1],a=Object(r.useState)({email:"",password:"",err:"",success:""}),s=Object(N.a)(a,2),i=s[0],o=s[1],j=Object(k.b)(),b=Object(ae.f)(),d=i.email,h=i.password,O=i.err,p=i.success,m=function(e){var t,c=e.target,n=c.name,a=c.value;o(Object(ue.a)(Object(ue.a)({},i),{},(t={},Object(le.a)(t,n,a),Object(le.a)(t,"err",""),Object(le.a)(t,"success",""),t)))},x=function(){var e=Object(u.a)(l.a.mark((function e(t){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,n(!0),e.next=5,f.login({email:d,password:h});case 5:c=e.sent,o(Object(ue.a)(Object(ue.a)({},i),{},{err:"",success:c.message})),console.log(c),n(!1),localStorage.setItem("userCurrent",JSON.stringify(c.data.user)),j(ge()),b.push("/"),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(1),e.t0.response.data.message&&o(Object(ue.a)(Object(ue.a)({},i),{},{err:e.t0.response.data.message,success:""})),setTimeout((function(){return o(Object(ue.a)(Object(ue.a)({},i),{},{err:null,success:""}))}),2e3),n(!1);case 19:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(u.a)(l.a.mark((function e(t){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.loginGoogle({tokenId:t.tokenId});case 3:c=e.sent,o(Object(ue.a)(Object(ue.a)({},i),{},{error:"",success:c.data.user})),localStorage.setItem("userCurrent",JSON.stringify(c.data.user)),j(ge()),b.push("/"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),e.t0.response.data.message&&o(Object(ue.a)(Object(ue.a)({},i),{},{err:e.t0.response.data.message,success:""}));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(u.a)(l.a.mark((function e(t){var c,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=t.accessToken,n=t.userID,e.next=4,f.loginFacebook({accessToken:c,userID:n});case 4:a=e.sent,o(Object(ue.a)(Object(ue.a)({},i),{},{error:"",success:a.data.message})),localStorage.setItem("userCurrent",JSON.stringify(a.data)),j(ge()),b.push("/"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),e.t0.response.data.message&&o(Object(ue.a)(Object(ue.a)({},i),{},{err:e.t0.response.data.message,success:""}));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)(r.Fragment,{children:[Object(g.jsx)(Y,{title:"\u0110\u0103ng nh\u1eadp"}),c?Object(g.jsx)(L,{}):Object(g.jsxs)("div",{className:"login_page",children:[Object(g.jsx)("h2",{className:"text-center",children:"\u0110\u0103ng nh\u1eadp"}),O&&se(O),p&&ie(p),Object(g.jsxs)("form",{onSubmit:x,children:[Object(g.jsxs)("div",{children:[Object(g.jsx)("label",{htmlFor:"email",children:"Email"}),Object(g.jsx)("input",{type:"text",placeholder:"vd: example@gmail.com",id:"email",value:d,name:"email",onChange:m})]}),Object(g.jsxs)("div",{children:[Object(g.jsx)("label",{htmlFor:"password",children:"M\u1eadt kh\u1ea9u"}),Object(g.jsx)("input",{type:"password",placeholder:"*********",id:"password",value:h,name:"password",onChange:m})]}),Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("button",{type:"submit",children:Object(g.jsx)("b",{children:"\u0110\u0103ng nh\u1eadp"})}),Object(g.jsx)(w.b,{to:"/forgot_password",className:"d-flex justify-content-end",children:"Qu\xean m\u1eadt kh\u1ea9u?"})]})]}),Object(g.jsx)("div",{className:"hr text-center",children:"Ho\u1eb7c \u0111\u0103ng nh\u1eadp v\u1edbi"}),Object(g.jsxs)("div",{className:"social",children:[Object(g.jsx)(fe.GoogleLogin,{clientId:"55687161092-slgs7a90j0guvn4f5vi1p6s6sf8vv9m5.apps.googleusercontent.com",buttonText:"\u0110\u0103ng nh\u1eadp Google",onSuccess:v,cookiePolicy:"single_host_origin"}),Object(g.jsx)(xe.a,{appId:"160074812626146",autoLoad:!1,fields:"name,email,picture",callback:y})]}),Object(g.jsxs)("p",{className:"text-center",children:["Ch\u01b0a c\xf3 t\xe0i kho\u1ea3n. ",Object(g.jsx)(w.b,{to:"/register",children:"\u0110\u0103ng k\xfd t\u1ea1i \u0111\xe2y"})]})]})]})},we=function(e,t){return x.post("/api/upload_avatar",e,t)},Ne=function(){var e=Object(k.c)((function(e){return e.auth})),t=e.user,c=e.isAdmin,n=e.isLoading,a=Object(k.c)((function(e){return e.token})),s=Object(r.useState)({name:"",password:"",cf_password:"",err:"",success:""}),i=Object(N.a)(s,2),o=i[0],j=i[1],b=o.name,d=o.password,h=o.cf_password,O=o.err,p=o.success,m=Object(r.useState)(!1),x=Object(N.a)(m,2),v=x[0],w=x[1],y=Object(r.useState)(!1),S=Object(N.a)(y,2),_=S[0],T=S[1],C=function(e){var t,c=e.target,n=c.name,a=c.value;j(Object(ue.a)(Object(ue.a)({},o),{},(t={},Object(le.a)(t,n,a),Object(le.a)(t,"err",""),Object(le.a)(t,"success",""),t)))},D=function(){var e=Object(u.a)(l.a.mark((function e(t){var c,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,c=t.target.files[0]){e.next=6;break}return setTimeout((function(){return j(Object(ue.a)(Object(ue.a)({},o),{},{err:null,success:null}))}),1500),e.abrupt("return",j(Object(ue.a)(Object(ue.a)({},o),{},{err:"Kh\xf4ng c\xf3 file n\xe0o \u0111\u01b0\u01a1\u0323c ta\u0309i l\xean.",success:""})));case 6:if(!(c.size>1048576)){e.next=9;break}return setTimeout((function(){return j(Object(ue.a)(Object(ue.a)({},o),{},{err:null,success:null}))}),1500),e.abrupt("return",j(Object(ue.a)(Object(ue.a)({},o),{},{err:"K\xedch c\u1ee1 qu\xe1 l\u1edbn.",success:""})));case 9:if("image/jpeg"===c.type||"image/png"===c.type){e.next=12;break}return setTimeout((function(){return j(Object(ue.a)(Object(ue.a)({},o),{},{err:null,success:null}))}),1500),e.abrupt("return",j(Object(ue.a)(Object(ue.a)({},o),{},{err:"File kh\xf4ng \u0111\xfang \u0111\u1ecbnh d\u1ea1ng.",success:""})));case 12:return(n=new FormData).append("file",c),T(!0),e.next=17,we(n,{headers:{"content-type":"multipart/form-data",Authorization:a}});case 17:r=e.sent,T(!1),w(r.data.url),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(1),j(Object(ue.a)(Object(ue.a)({},o),{},{err:e.t0.response.data.msg,success:""})),setTimeout((function(){return j({err:null,success:null})}),2e3);case 26:case"end":return e.stop()}}),e,null,[[1,22]])})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)(r.Fragment,{children:[Object(g.jsx)(Y,{title:"Th\xf4ng tin c\xe1 nh\xe2n"}),n?Object(g.jsx)(L,{}):Object(g.jsxs)(r.Fragment,{children:[Object(g.jsxs)("div",{children:[O&&se(O),p&&ie(p),_&&Object(g.jsx)("b",{children:"Loading....."})]}),Object(g.jsx)("div",{className:"profile_page container-fluid",children:Object(g.jsxs)("div",{className:"m-auto",children:[Object(g.jsx)("h2",{children:c?"Admin Profile":"Th\xf4ng tin c\xe1 nh\xe2n"}),Object(g.jsxs)("div",{className:"avatar",children:[Object(g.jsx)("img",{src:v||t.avatar,alt:""}),Object(g.jsxs)("span",{children:[Object(g.jsx)("i",{className:"fas fa-camera"}),Object(g.jsx)("p",{children:"Thay \u0111\u1ed5i"}),Object(g.jsx)("input",{type:"file",name:"file",id:"file_up",onChange:D})]})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{htmlFor:"name",children:"H\u1ecd t\xean"}),Object(g.jsx)("input",{type:"text",name:"name",id:"name",defaultValue:t.name,placeholder:"Your name",onChange:C})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{htmlFor:"email",children:"Email"}),Object(g.jsx)("input",{type:"email",name:"email",id:"email",defaultValue:t.email,disabled:!0})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{htmlFor:"password",children:"M\u1eadt kh\u1ea9u m\u1edbi"}),Object(g.jsx)("input",{type:"password",name:"password",id:"password",placeholder:"*********",value:d,onChange:C})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{htmlFor:"cf_password",children:"X\xe1c nh\u1eadn m\u1eadt kh\u1ea9u m\u1edbi"}),Object(g.jsx)("input",{type:"password",name:"cf_password",id:"cf_password",placeholder:"*********",value:h,onChange:C})]}),Object(g.jsx)("div",{children:Object(g.jsx)("em",{style:{color:"crimson"},children:"* N\u1ebfu b\u1ea1n c\u1eadp nh\u1eadt m\u1eadt kh\u1ea9u t\u1ea1i \u0111\xe2y, b\u1ea1n s\u1ebd kh\xf4ng th\u1ec3 \u0111\u0103ng nh\u1eadp nhanh b\u1eb1ng google v\xe0 facebook."})}),Object(g.jsx)("div",{className:"d-flex justify-content-center mt-2",children:Object(g.jsx)("button",{disabled:_,onClick:function(){(b||v)&&function(){try{f.updateUser({name:b||t.name,avatar:v||t.avatar},{headers:{Authorization:a}}),j(Object(ue.a)(Object(ue.a)({},o),{},{err:"",success:"C\u1eadp nh\u1eadp th\xf4ng tin th\xe0nh c\xf4ng!"})),J.a.fire("","C\u1eadp nh\u1eadp th\xf4ng tin th\xe0nh c\xf4ng!","success").then((function(){window.location.href="/profile"}))}catch(O){j(Object(ue.a)(Object(ue.a)({},o),{},{err:O.response.data.msg,success:""})),setTimeout((function(){return j(Object(ue.a)(Object(ue.a)({},o),{},{err:"",success:""}))}),2e3)}}(),d&&function(){if(he(d))return setTimeout((function(){return j(Object(ue.a)(Object(ue.a)({},o),{},{err:null,success:null}))}),1500),j(Object(ue.a)(Object(ue.a)({},o),{},{err:"M\u1eadt kh\u1ea9u ph\u1ea3i 6 k\xfd t\u1ef1 tr\u1edf l\xean.",success:""}));if(!Oe(d,h))return setTimeout((function(){return j(Object(ue.a)(Object(ue.a)({},o),{},{err:null,success:null}))}),1500),j(Object(ue.a)(Object(ue.a)({},o),{},{err:"M\u1eadt kh\u1ea9u kh\xf4ng kh\u1edbp.",success:""}));try{f.resetPassword({password:d},{headers:{Authorization:a}}),j(Object(ue.a)(Object(ue.a)({},o),{},{err:"",success:"C\u1eadp nh\u1eadp th\xf4ng tin th\xe0nh c\xf4ng!"})),J.a.fire("","C\u1eadp nh\u1eadp th\xf4ng tin th\xe0nh c\xf4ng!","success").then((function(){window.location.href="/profile"}))}catch(O){j(Object(ue.a)(Object(ue.a)({},o),{},{err:O.response.data.msg,success:""})),setTimeout((function(){return j(Object(ue.a)(Object(ue.a)({},o),{},{err:null,success:""}))}),2e3)}}()},children:"C\u1eadp nh\u1eadt"})})]})})]})]})},ye=function(){var e=Object(r.useState)(!1),t=Object(N.a)(e,2),c=t[0],n=t[1],a=Object(r.useState)({name:"",email:"",password:"",cf_password:"",err:"",success:""}),s=Object(N.a)(a,2),i=s[0],o=s[1],j=i.name,b=i.email,d=i.password,h=i.cf_password,O=i.err,p=i.success,m=function(e){var t,c=e.target,n=c.name,a=c.value;o(Object(ue.a)(Object(ue.a)({},i),{},(t={},Object(le.a)(t,n,a),Object(le.a)(t,"err",""),Object(le.a)(t,"success",""),t)))},x=function(){var e=Object(u.a)(l.a.mark((function e(t){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!be(j)&&!be(d)){e.next=3;break}return e.abrupt("return",o(Object(ue.a)(Object(ue.a)({},i),{},{err:"Xin m\u1eddi \u0111i\u1ec1n t\u1ea5t c\u1ea3 c\xe1c tr\u01b0\u1eddng.",success:""})));case 3:if(de(b)){e.next=5;break}return e.abrupt("return",o(Object(ue.a)(Object(ue.a)({},i),{},{err:"Thi\u1ebfu tr\u01b0\u1eddng email.",success:""})));case 5:if(!he(d)){e.next=7;break}return e.abrupt("return",o(Object(ue.a)(Object(ue.a)({},i),{},{err:"M\u1eadt kh\u1ea9u 6 k\xfd t\u1ef1 tr\u1edf l\xean.",success:""})));case 7:if(Oe(d,h)){e.next=9;break}return e.abrupt("return",o(Object(ue.a)(Object(ue.a)({},i),{},{err:"M\u1eadt kh\u1ea9u kh\xf4ng kh\u1edbp.",success:""})));case 9:return e.prev=9,n(!0),e.next=13,f.register({name:j,email:b,password:d});case 13:c=e.sent,o(Object(ue.a)(Object(ue.a)({},i),{},{err:"",success:c.data.message})),n(!1),e.next=23;break;case 18:e.prev=18,e.t0=e.catch(9),e.t0.response.data.message&&o(Object(ue.a)(Object(ue.a)({},i),{},{err:e.t0.response.data.message,success:""})),setTimeout((function(){return o(Object(ue.a)(Object(ue.a)({},i),{},{err:null,success:""}))}),2e3),n(!1);case 23:case"end":return e.stop()}}),e,null,[[9,18]])})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)(r.Fragment,{children:[Object(g.jsx)(Y,{title:"\u0110\u0103ng k\xfd"}),c?Object(g.jsx)(L,{}):Object(g.jsxs)("div",{className:"login_page",children:[Object(g.jsx)("h2",{className:"text-center",children:"\u0110\u0103ng k\xfd"}),O&&se(O),p&&ie(p),Object(g.jsxs)("form",{onSubmit:x,children:[Object(g.jsxs)("div",{children:[Object(g.jsx)("label",{htmlFor:"name",children:"Nickname"}),Object(g.jsx)("input",{type:"text",placeholder:"Nh\u1eadp nickname",id:"name",value:j,name:"name",onChange:m})]}),Object(g.jsxs)("div",{children:[Object(g.jsx)("label",{htmlFor:"email",children:"Email"}),Object(g.jsx)("input",{type:"text",placeholder:"vd: abc@gmail.com",id:"email",value:b,name:"email",onChange:m})]}),Object(g.jsxs)("div",{children:[Object(g.jsx)("label",{htmlFor:"password",children:"M\u1eadt kh\u1ea9u"}),Object(g.jsx)("input",{type:"password",placeholder:"*********",id:"password",value:d,name:"password",onChange:m})]}),Object(g.jsxs)("div",{children:[Object(g.jsx)("label",{htmlFor:"cf_password",children:"X\xe1c nh\u1eadn m\u1eadt kh\u1ea9u"}),Object(g.jsx)("input",{type:"password",placeholder:"*********",id:"cf_password",value:h,name:"cf_password",onChange:m})]}),Object(g.jsx)("div",{className:"row",children:Object(g.jsx)("button",{type:"submit",children:Object(g.jsx)("b",{children:"\u0110\u0103ng k\xfd"})})})]}),Object(g.jsxs)("p",{className:"text-center",children:["\u0110\xe3 c\xf3 t\xe0i kho\u1ea3n? ",Object(g.jsx)(w.b,{to:"/login",children:"\u0110\u0103ng nh\u1eadp ngay"})]})]})]})};var Se=function(){var e=Object(ae.g)().token,t=Object(r.useState)({password:"",cf_password:"",err:"",success:""}),c=Object(N.a)(t,2),n=c[0],a=c[1],s=n.password,i=n.cf_password,o=n.err,j=n.success,b=function(e){var t,c=e.target,r=c.name,s=c.value;a(Object(ue.a)(Object(ue.a)({},n),{},(t={},Object(le.a)(t,r,s),Object(le.a)(t,"err",""),Object(le.a)(t,"success",""),t)))},d=function(){var t=Object(u.a)(l.a.mark((function t(){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!he(s)){t.next=2;break}return t.abrupt("return",a(Object(ue.a)(Object(ue.a)({},n),{},{err:"M\u1eadt kh\u1ea9u ph\u1ea3i 6 k\xfd t\u1ef1 tr\u1edf l\xean.",success:""})));case 2:if(Oe(s,i)){t.next=4;break}return t.abrupt("return",a(Object(ue.a)(Object(ue.a)({},n),{},{err:"M\u1eadt kh\u1ea9u kh\xf4ng kh\u1edbp.",success:""})));case 4:return t.prev=4,t.next=7,f.resetPassword({password:s},{headers:{Authorization:e}});case 7:return c=t.sent,t.abrupt("return",a(Object(ue.a)(Object(ue.a)({},n),{},{err:"",success:c.data.message})));case 11:t.prev=11,t.t0=t.catch(4),t.t0.response.data.message&&a(Object(ue.a)(Object(ue.a)({},n),{},{err:t.t0.response.data.message,success:""}));case 14:case"end":return t.stop()}}),t,null,[[4,11]])})));return function(){return t.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:"fg_pass",children:[Object(g.jsx)("h2",{children:"\u0110\u1eb6T L\u1ea0I M\u1eacT KH\u1ea8U C\u1ee6A B\u1ea0N"}),Object(g.jsxs)("div",{className:"row",children:[o&&se(o),j&&ie(j),Object(g.jsx)("label",{htmlFor:"password",children:"M\u1eadt kh\u1ea9u"}),Object(g.jsx)("input",{type:"password",name:"password",id:"password",value:s,onChange:b}),Object(g.jsx)("label",{htmlFor:"cf_password",children:"X\xe1c nh\u1eadn m\u1eadt kh\u1ea9u"}),Object(g.jsx)("input",{type:"password",name:"cf_password",id:"cf_password",value:i,onChange:b}),Object(g.jsx)("button",{onClick:d,children:Object(g.jsx)("b",{children:"\u0110\u1eb6T L\u1ea0I M\u1eacT KH\u1ea8U"})})]})]})},_e=c(123),Te=c(314),Ce=function(){return Object(g.jsx)("section",{className:"banner",children:Object(g.jsxs)("div",{className:"head-bottom flex",children:[Object(g.jsx)("h2",{children:"YOUR PASSION IS OUR SATISFACTION"}),Object(g.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Iusto est quos veniam impedit numquam itaque voluptatum, dicta asperiores accusamus, eligendi neque ut incidunt, modi harum molestiae atque natus officia minima."}),Object(g.jsx)("a",{href:"#home",className:"head-btn",children:"CH\xc0O M\u1eeaNG"})]})})},De=c(55),Ee=c.n(De),Ie=c(166),Ae=c.n(Ie),Fe=(c(304),c(315)),Ue=c(318),Le=(c(305),function(e){var t,c=e.room,n=e.startDate,a=e.endDate,s=new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}),i=Object(ae.f)(),o=Object(r.useState)(!1),j=Object(N.a)(o,2),l=j[0],u=j[1],b=Object(r.useState)(""),d=Object(N.a)(b,2),h=d[0],O=d[1];return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:"row bs",children:[Object(g.jsx)("div",{className:"col-md-4 mb-1",children:Object(g.jsx)("img",{src:c.imageUrls[0],alt:c.name,className:"room_image"})}),Object(g.jsxs)("div",{className:"col-md-8 mb-1",children:[Object(g.jsx)("h5",{children:c.name}),Object(g.jsxs)("p",{children:["Gi\xe1 ph\xf2ng: ",s.format(c.price),"/ng\xe0y"]}),Object(g.jsxs)("p",{children:["Lo\u1ea1i ph\xf2ng: ",c.type]}),Object(g.jsxs)("a",{href:"#/",onClick:function(){return u(!0)},children:["Xem chi ti\u1ebft ",">>"]}),Object(g.jsx)("div",{className:"d-flex justify-content-end ",children:Object(g.jsx)("button",{className:"btn-room",onClick:function(){n&&a?n===a?(O("Kh\xf4ng \u0111\u01b0\u1ee3c ph\xe9p ch\u1ecdn ng\xe0y tr\xf9ng nhau !"),setTimeout((function(){O(null)}),1500)):i.push("/book/".concat(c._id,"/").concat(n,"/").concat(a)):(O("Xin m\u1eddi ch\u1ecdn ng\xe0y !"),setTimeout((function(){O(null)}),1500))},children:"\u0110\u1eb7t ph\xf2ng"})}),Object(g.jsxs)(Fe.a,{show:l,onHide:function(){return u(!1)},size:"lg",children:[Object(g.jsx)(Fe.a.Header,{closeButton:!0,children:Object(g.jsx)("b",{children:c.name})}),Object(g.jsxs)(Fe.a.Body,{children:[Object(g.jsx)(Ue.a,{children:null===(t=c.imageUrls)||void 0===t?void 0:t.map((function(e){return Object(g.jsx)(Ue.a.Item,{children:Object(g.jsx)("img",{className:"d-block w-100",src:e,alt:e})},e)}))}),Object(g.jsxs)("span",{className:"mt-2",children:[Object(g.jsx)("b",{children:"M\xf4 t\u1ea3: "})," ",c.description]})]})]})]}),h&&se(h)]})})}),Me=function(e){var t=e.onSubmit,c=Object(r.useState)(""),n=Object(N.a)(c,2),a=n[0],s=n[1],i=Object(r.useRef)(null);return Object(g.jsx)("form",{children:Object(g.jsx)("input",{type:"text",className:"form-control",placeholder:"T\xecm ki\u1ebfm...",value:a,onChange:function(e){var c=e.target.value;s(c),t&&(i.current&&clearTimeout(i.current),i.current=setTimeout((function(){var c={searchRoom:e.target.value};t(c)}),300))}})})},Ye=function(e){var t=e.onChange,c=Object(r.useState)("all"),n=Object(N.a)(c,2),a=n[0],s=n[1],i=function(e){if(s(e),t){var c={filterRoom:e};"all"!==e?t(c):(t(c),console.log(c))}};return Object(g.jsx)("div",{children:Object(g.jsxs)("select",{className:"form-select",value:a,onChange:function(e){return i(e.target.value)},children:[Object(g.jsx)("option",{value:"all",children:"T\u1ea5t c\u1ea3"}),Object(g.jsx)("option",{value:"standard",children:"Standard"}),Object(g.jsx)("option",{value:"delux",children:"Delux"})]})})},Re=Te.a.RangePicker,ze=function(){var e=Object(r.useState)(!0),t=Object(N.a)(e,2),c=t[0],n=t[1],a=Object(r.useState)([]),s=Object(N.a)(a,2),i=s[0],o=s[1],j=Object(r.useState)([]),b=Object(N.a)(j,2),d=b[0],h=b[1],p=Object(r.useState)({search:"",type:""}),m=Object(N.a)(p,2),x=m[0],f=m[1],v=Object(r.useState)(""),k=Object(N.a)(v,2),w=k[0],y=k[1],S=Object(r.useState)(""),_=Object(N.a)(S,2),T=_[0],C=_[1];Object(r.useEffect)((function(){Object(u.a)(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="?"+O.a.stringify(x),e.next=4,Z(t);case 4:c=e.sent,o(c.data),h(c.data),n(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),n(!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))()}),[x]);return Object(g.jsxs)(r.Fragment,{children:[Object(g.jsx)(Y,{title:"Trang ch\u1ee7"}),c?Object(g.jsx)(L,{}):Object(g.jsxs)(r.Fragment,{children:[Object(g.jsx)(Ce,{}),Object(g.jsxs)("div",{className:"container",id:"home",children:[Object(g.jsx)("h1",{className:"text-center mt-5 title",children:"\u0110\u1eb6T PH\xd2NG NGAY"}),Object(g.jsxs)("div",{className:"row bs",id:"booking-fixed",children:[Object(g.jsx)("div",{className:"col-md-4",id:"datepicker",children:Object(g.jsx)(Re,{format:"DD-MM-YYYY",disabledDate:function(e){return e&&e.valueOf()<Ee()().endOf("day")},onChange:function(e){if(e){console.log(Ee()(e[0]).format("DD-MM-YYYY")),console.log(Ee()(e[1]).format("DD-MM-YYYY")),y(e[0].format("DD-MM-YYYY")),C(e[1].format("DD-MM-YYYY"));var t,c=[],n=Object(_e.a)(d);try{for(n.s();!(t=n.n()).done;){var a=t.value;if(a.currentBookings.length>0){var r,s=Object(_e.a)(a.currentBookings);try{for(s.s();!(r=s.n()).done;){var i=r.value;console.log(i)}}catch(o){s.e(o)}finally{s.f()}}0===a.currentBookings.length&&c.push(a)}}catch(o){n.e(o)}finally{n.f()}}}})}),Object(g.jsx)("div",{className:"col-md-4",children:Object(g.jsx)(Me,{onSubmit:function(e){f(Object(ue.a)(Object(ue.a)({},x),{},{search:e.searchRoom})),console.log(x)},rooms:d})}),Object(g.jsx)("div",{className:"col-md-4",children:Object(g.jsx)(Ye,{onChange:function(e){f(Object(ue.a)(Object(ue.a)({},x),{},{type:e.filterRoom}))},rooms:d})})]}),Object(g.jsx)("div",{className:"row justify-content-center mt-2",children:0===i.length?Object(g.jsx)("div",{className:"no-result bs mt-3",children:Object(g.jsx)("h2",{className:"mt-5",children:"Kh\xf4ng t\xecm th\u1ea5y k\u1ebft qu\u1ea3"})}):Object(g.jsx)(r.Fragment,{children:null===i||void 0===i?void 0:i.map((function(e){return Object(g.jsx)("div",{className:"col-md-9 mt-2",children:Object(g.jsx)(Ae.a,{height:200,offset:100,debounce:300,once:!0,children:Object(g.jsx)(Le,{room:e,startDate:w,endDate:T})})},e._id)}))})})]})]})]})},Be=(c(306),function(e){var t=e.match,c=new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}),n=Object(k.c)((function(e){return e.auth})).user,a=Object(k.c)((function(e){return e.token})),s=Object(r.useState)([]),i=Object(N.a)(s,2),o=i[0],j=i[1],b=Object(r.useState)(!0),d=Object(N.a)(b,2),h=d[0],O=d[1],p=Object(r.useState)(null),m=Object(N.a)(p,2),x=m[0],f=m[1],v=Object(r.useState)(!1),w=Object(N.a)(v,2),S=w[0],_=w[1],T=t.params.id,C=Ee()(t.params.startDate,"DD-MM-YYYY"),D=Ee()(t.params.endDate,"DD-MM-YYYY"),E=Ee.a.duration(D.diff(C)).asDays(),I=E*o.price;Object(r.useEffect)((function(){Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O(!0),e.next=4,$("".concat(T));case 4:t=e.sent,j(t.data),O(!1),window.scrollTo(0,0),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),f(e.t0.response.data.message),O(!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))()}),[T]);var A=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={room:o,userId:n._id,startDate:C,endDate:D,totalAmount:I,totalDays:Number(E)},e.prev=1,e.next=4,y(t,{headers:{Authorization:a}});case 4:_(!0),J.a.fire("Ch\xfac m\u1eebng","\u0110\u1eb7t ph\xf2ng th\xe0nh c\xf4ng","success").then((function(){window.location.href="/"})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),J.a.fire("Oops","\u0110\xe3 x\u1ea3y ra s\u1ef1 c\u1ed1","error");case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)(r.Fragment,{children:[Object(g.jsx)(Y,{title:"\u0110\u1eb7t ph\xf2ng"}),h?Object(g.jsx)(L,{}):x?se(x):Object(g.jsx)("div",{className:"container ",children:Object(g.jsxs)("div",{className:"row bs mt-5","data-aos":"flip-left",children:[Object(g.jsxs)("div",{className:"col-md-5 mb-2",children:[Object(g.jsx)("h4",{children:o.name}),Object(g.jsx)("img",{src:o.imageUrls[0],alt:o.name,className:"booking-room-img"})]}),Object(g.jsxs)("div",{className:"col-md-7 boking-detail mb-2",children:[Object(g.jsx)("h1",{className:"",children:"Chi ti\u1ebft \u0111\u1eb7t ph\xf2ng"}),Object(g.jsx)("hr",{}),Object(g.jsxs)("b",{children:[Object(g.jsxs)("p",{children:["T\xean: ",n.name," "]}),Object(g.jsxs)("p",{children:["Ng\xe0y nh\u1eadn ph\xf2ng: ",t.params.startDate," "]}),Object(g.jsxs)("p",{children:["Ng\xe0y tr\u1ea3 ph\xf2ng: ",t.params.endDate," "]}),Object(g.jsxs)("p",{children:["Gi\xe1 ph\xf2ng: ",o.price,"/ng\xe0y"]})]}),Object(g.jsx)("h1",{children:"T\u1ed5ng"}),Object(g.jsx)("hr",{}),Object(g.jsxs)("b",{children:[Object(g.jsxs)("p",{children:["T\u1ed5ng ng\xe0y: ",E," ng\xe0y"]}),Object(g.jsxs)("p",{children:["Gi\xe1 thu\xea ph\xf2ng: ",o.price," "]}),Object(g.jsxs)("p",{children:["T\u1ed5ng ti\u1ec1n: ",c.format(I)]})]}),Object(g.jsx)("div",{className:"booking-center",children:Object(g.jsx)("button",{className:"btn-booking",disabled:S,onClick:A,children:"Thanh to\xe1n"})})]})]})})]})}),Ge=function(){var e=Object(u.a)(l.a.mark((function e(t){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T({headers:{Authorization:t}});case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(k.c)((function(e){return e.token})),t=Object(k.c)((function(e){return e.booking})),c=t.bookings,n=t.loading,a=Object(k.b)();Object(r.useEffect)((function(){e&&Ge(e).then((function(e){a(function(e){return{type:q,payload:e.data}}(e))}))}),[e,a]);var s=function(){var t=Object(u.a)(l.a.mark((function t(c,n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log(c,n),t.next=4,C({bookedId:c,roomId:n},{headers:{Authorization:e}});case 4:return t.next=6,t.sent.data;case 6:a=t.sent,J.a.fire("","".concat(a.message),"success").then((function(){window.location.href="/mybooking"})),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,c){return t.apply(this,arguments)}}();return Object(g.jsxs)(r.Fragment,{children:[Object(g.jsx)(Y,{title:"My booking"}),n?Object(g.jsx)(L,{}):Object(g.jsx)(r.Fragment,{children:0===c.length?Object(g.jsx)("h2",{className:"text-center mt-2",children:"Booking room is empty"}):Object(g.jsx)("div",{children:Object(g.jsx)("div",{className:"container",children:Object(g.jsx)("div",{className:"row",children:null===c||void 0===c?void 0:c.map((function(e){return Object(g.jsxs)("div",{className:"col-md-6 bs","data-aos":"zoom-in",children:[Object(g.jsx)("h5",{children:e.room}),Object(g.jsx)("p",{children:Object(g.jsxs)("b",{children:["BookingId: ",e._id," "]})}),Object(g.jsx)("p",{children:Object(g.jsxs)("b",{children:["CheckIn: ",e.startDate," "]})}),Object(g.jsx)("p",{children:Object(g.jsxs)("b",{children:["CheckOut: ",e.endDate," "]})}),Object(g.jsx)("p",{children:Object(g.jsxs)("b",{children:["Amount: ",e.totalAmount," "]})}),Object(g.jsx)("p",{children:Object(g.jsxs)("b",{children:["Status: ","booked"===e.status?"CONFIRMED":"CANCEL"," "]})}),"cancelled"!==e.status&&Object(g.jsx)("div",{className:"d-flex justify-content-end",children:Object(g.jsx)("button",{className:"btn btn-dark",onClick:function(){s(e._id,e.roomId)},children:"Cancel booking"})})]},e._id)}))})})})})]})};c(307);var Ve=function(){return Object(g.jsx)("div",{className:"not-found",children:Object(g.jsx)("h1",{className:"text-center",children:"404 | Kh\xf4ng t\xecm th\u1ea5y"})})},He=function(){var e=Object(k.c)((function(e){return e.auth})),t=e.isLogged,c=e.isAdmin;return Object(g.jsx)(ae.c,{children:Object(g.jsxs)(r.Fragment,{children:[Object(g.jsx)(ae.a,{path:"/login",component:ke,exact:!0}),Object(g.jsx)(ae.a,{path:"/register",component:ye,exact:!0}),Object(g.jsx)(ae.a,{path:"/forgot_password",component:t?Ve:pe,exact:!0}),Object(g.jsx)(ae.a,{path:"/api/auth/reset-password/:token",component:Se,exact:!0}),Object(g.jsx)(ae.a,{path:"/api/auth/activate/:activation_token",component:oe,exact:!0}),Object(g.jsx)(ae.a,{path:"/profile",component:t?Ne:Ve,exact:!0}),Object(g.jsx)(ae.a,{path:"/edit_user/:id",component:c?je:Ve,exact:!0}),Object(g.jsx)(ae.a,{path:"/",component:ze,exact:!0}),Object(g.jsx)(ae.a,{path:"/book/:id/:startDate/:endDate",component:t?Be:ke,exact:!0}),Object(g.jsx)(ae.a,{path:"/mybooking",component:Pe,exact:!0}),Object(g.jsx)(ae.a,{path:"/admin",component:c?ce:Ve,exact:!0}),Object(g.jsx)(ae.a,{path:"/admin/booking-detail/:id",component:c?R:Ve,exact:!0}),Object(g.jsx)(ae.a,{path:"/admin/room-detail/:id",component:c?ne:Ve,exact:!0})]})})},qe=(c(308),c(317));var Ke=function(){var e=Object(k.c)((function(e){return e.auth})),t=e.user,c=e.isLogged;window.onscroll=function(){document.body.scrollTop>=400||document.documentElement.scrollTop>=400?document.querySelector("header").classList.add("sticky"):document.querySelector("header").classList.remove("sticky"),document.querySelector("#booking-fixed")&&(document.body.scrollTop>=600||document.documentElement.scrollTop>=600?document.querySelector("#booking-fixed").classList.add("fixed"):(document.body.scrollTop<600||document.documentElement.scrollTop<600)&&document.querySelector("#booking-fixed").classList.remove("fixed"))};var n=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.logout();case 3:localStorage.removeItem("userCurrent"),window.location.href="/",e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),window.location.href="/";case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(g.jsx)("header",{children:Object(g.jsx)(qe.a,{expand:"lg",children:Object(g.jsxs)("div",{className:"container",children:[Object(g.jsx)(qe.a.Brand,{href:"/",children:Object(g.jsx)("h2",{className:"title-app",children:"Booking App"})}),Object(g.jsx)(qe.a.Toggle,{"aria-controls":"navbarScroll"}),Object(g.jsxs)(qe.a.Collapse,{id:"navbarScroll",className:"",children:[Object(g.jsx)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0"}),Object(g.jsx)("ul",{className:"d-flex",children:c?Object(g.jsxs)("li",{className:"drop-nav",children:[Object(g.jsxs)(w.b,{to:"#",className:"avatar",children:[Object(g.jsx)("img",{src:t.avatar,alt:""}),Object(g.jsxs)("span",{children:[t.name,"\xa0",Object(g.jsx)("i",{className:"fas fa-angle-down"})]})]}),Object(g.jsxs)("ul",{className:"dropdown",children:[t&&1!==t.role?Object(g.jsx)("li",{children:Object(g.jsx)(w.b,{to:"/mybooking",children:"Booking"})}):Object(g.jsx)("li",{children:Object(g.jsx)(w.b,{to:"/admin",children:"Admin"})}),Object(g.jsx)("li",{children:Object(g.jsx)(w.b,{to:"/profile",children:"C\xe1 nh\xe2n"})}),Object(g.jsx)("li",{children:Object(g.jsx)(w.b,{to:"/",onClick:n,children:"\u0110\u0103ng xu\u1ea5t"})})]})]}):Object(g.jsx)("li",{children:Object(g.jsxs)(w.b,{to:"/login",children:[Object(g.jsx)("i",{className:"fas fa-user"})," \u0110\u0103ng nh\u1eadp"]})})})]})]})})})};var Xe=function(){var e=Object(k.b)(),t=Object(k.c)((function(e){return e.token})),c=Object(k.c)((function(e){return e.auth})).isLogged;return Object(r.useEffect)((function(){localStorage.getItem("userCurrent")&&function(){var t=Object(u.a)(l.a.mark((function t(){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.getAccessToken();case 2:c=t.sent,e({type:"GET_TOKEN",payload:c.data.access_token});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[c,e]),Object(r.useEffect)((function(){if(t){e(ge()),ve(t).then((function(t){e(function(e){return{type:V,payload:{user:e.data,isAdmin:1===e.data.user.role}}}(t))}))}}),[t,e]),Object(g.jsx)(w.a,{children:Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)(Ke,{}),Object(g.jsx)("div",{className:"booking-app-main-container",children:Object(g.jsx)(He,{})}),Object(g.jsx)(v,{})]})})},Je=(c(309),c(105)),Qe=JSON.parse(localStorage.getItem("userCurrent")),We={user:Qe||{},isLogged:!1,isAdmin:!1,isLoading:!0},Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return Object(ue.a)(Object(ue.a)({},e),{},{isLogged:!0});case P:return Object(ue.a)(Object(ue.a)({},e),{},{isLoading:!0});case V:return Object(ue.a)(Object(ue.a)({},e),{},{user:t.payload.user.user,isAdmin:t.payload.isAdmin,isLoading:!1});default:return e}},$e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return t.payload;default:return e}},et=[],tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return t.payload;default:return e}},ct={bookings:[],loading:!0},nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return Object(ue.a)(Object(ue.a)({},e),{},{loading:!1,bookings:t.payload});default:return e}},at=Object(Je.a)({auth:Ze,token:$e,users:tt,booking:nt}),rt=Object(Je.b)(at,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());var st=function(e){var t=e.children;return Object(g.jsx)(k.a,{store:rt,children:t})};a.a.init({duration:1e3}),o.a.render(Object(g.jsx)(s.a.StrictMode,{children:Object(g.jsx)(st,{children:Object(g.jsx)(Xe,{})})}),document.getElementById("root"))}},[[310,1,2]]]);
//# sourceMappingURL=main.b3b45971.chunk.js.map